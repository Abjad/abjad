Terminals which are not used

   PREC_BOT
   PREC_TOP
   UNARY_MINUS


Grammar

    0 $accept: start_symbol "end of input"

    1 start_symbol: lilypond

    2 @1: /* empty */

    3 start_symbol: "#{" @1 embedded_lilypond

    4 lilypond: /* empty */
    5         | lilypond toplevel_expression
    6         | lilypond assignment
    7         | lilypond error
    8         | lilypond "\\version-error"

    9 @2: /* empty */

   10 toplevel_expression: @2 lilypond_header
   11                    | book_block
   12                    | bookpart_block
   13                    | BOOK_IDENTIFIER
   14                    | score_block
   15                    | composite_music
   16                    | full_markup
   17                    | full_markup_list
   18                    | SCM_TOKEN
   19                    | embedded_scm_active
   20                    | output_def

   21 embedded_scm_bare: SCM_TOKEN
   22                  | SCM_IDENTIFIER

   23 embedded_scm_active: SCM_IDENTIFIER
   24                    | scm_function_call

   25 embedded_scm_bare_arg: SCM_ARG
   26                      | SCM_TOKEN
   27                      | FRACTION
   28                      | partial_markup
   29                      | full_markup_list
   30                      | context_modification
   31                      | score_block
   32                      | context_def_spec_block
   33                      | book_block
   34                      | bookpart_block
   35                      | output_def

   36 embedded_scm: embedded_scm_bare
   37             | scm_function_call

   38 embedded_scm_arg: embedded_scm_bare_arg
   39                 | scm_function_call
   40                 | music_assign

   41 scm_function_call: SCM_FUNCTION function_arglist

   42 embedded_lilypond_number: '-' embedded_lilypond_number
   43                         | bare_number_common
   44                         | UNSIGNED NUMBER_IDENTIFIER

   45 embedded_lilypond: /* empty */
   46                  | identifier_init_nonumber
   47                  | embedded_lilypond_number
   48                  | post_event post_events
   49                  | multiplied_duration
   50                  | music_embedded music_embedded music_list
   51                  | error
   52                  | "\\version-error" embedded_lilypond

   53 lilypond_header_body: /* empty */
   54                     | lilypond_header_body assignment
   55                     | lilypond_header_body embedded_scm

   56 lilypond_header: "\\header" '{' lilypond_header_body '}'

   57 assignment_id: STRING

   58 assignment: assignment_id '=' identifier_init
   59           | assignment_id property_path '=' identifier_init
   60           | assignment_id '.' property_path '=' identifier_init

   61 identifier_init: identifier_init_nonumber
   62                | number_expression
   63                | post_event_nofinger post_events

   64 identifier_init_nonumber: score_block
   65                         | book_block
   66                         | bookpart_block
   67                         | output_def
   68                         | context_def_spec_block
   69                         | music_assign
   70                         | pitch_or_music
   71                         | FRACTION
   72                         | string
   73                         | embedded_scm
   74                         | partial_markup
   75                         | full_markup_list
   76                         | context_modification
   77                         | partial_function "\\etc"

   78 partial_function: MUSIC_FUNCTION function_arglist_partial
   79                 | EVENT_FUNCTION function_arglist_partial
   80                 | SCM_FUNCTION function_arglist_partial
   81                 | "\\override" grob_prop_path '='
   82                 | "\\set" context_prop_spec '='
   83                 | MUSIC_FUNCTION "scheme?" function_arglist_optional partial_function
   84                 | EVENT_FUNCTION "scheme?" function_arglist_optional partial_function
   85                 | SCM_FUNCTION "scheme?" function_arglist_optional partial_function
   86                 | "\\override" grob_prop_path '=' partial_function
   87                 | "\\set" context_prop_spec '=' partial_function
   88                 | MUSIC_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function
   89                 | EVENT_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function
   90                 | SCM_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function

   91 context_def_spec_block: "\\context" '{' context_def_spec_body '}'

   92 context_mod_arg: embedded_scm

   93 @3: /* empty */

   94 context_mod_arg: @3 composite_music

   95 context_def_spec_body: /* empty */
   96                      | context_def_spec_body context_mod
   97                      | context_def_spec_body context_modification
   98                      | context_def_spec_body context_mod_arg

   99 book_block: "\\book" '{' book_body '}'

  100 book_body: /* empty */
  101          | BOOK_IDENTIFIER
  102          | book_body paper_block
  103          | book_body bookpart_block
  104          | book_body score_block
  105          | book_body composite_music
  106          | book_body full_markup
  107          | book_body full_markup_list
  108          | book_body SCM_TOKEN
  109          | book_body embedded_scm_active

  110 @4: /* empty */

  111 book_body: book_body @4 lilypond_header
  112          | book_body error

  113 bookpart_block: "\\bookpart" '{' bookpart_body '}'

  114 bookpart_body: /* empty */
  115              | BOOK_IDENTIFIER
  116              | bookpart_body paper_block
  117              | bookpart_body score_block
  118              | bookpart_body composite_music
  119              | bookpart_body full_markup
  120              | bookpart_body full_markup_list
  121              | bookpart_body SCM_TOKEN
  122              | bookpart_body embedded_scm_active

  123 @5: /* empty */

  124 bookpart_body: bookpart_body @5 lilypond_header
  125              | bookpart_body error

  126 score_block: "\\score" '{' score_body '}'

  127 score_body: score_items
  128           | score_body error

  129 score_item: embedded_scm
  130           | music
  131           | output_def

  132 score_items: /* empty */
  133            | score_items score_item

  134 @6: /* empty */

  135 score_items: score_items @6 lilypond_header

  136 paper_block: output_def

  137 output_def: output_def_body '}'

  138 output_def_head: "\\paper"
  139                | "\\midi"
  140                | "\\layout"

  141 output_def_head_with_mode_switch: output_def_head

  142 music_or_context_def: music_assign
  143                     | context_def_spec_block

  144 output_def_body: output_def_head_with_mode_switch '{'
  145                | output_def_body assignment
  146                | output_def_body embedded_scm_active
  147                | output_def_body SCM_TOKEN

  148 @7: /* empty */

  149 output_def_body: output_def_body @7 music_or_context_def
  150                | output_def_body error

  151 tempo_event: "\\tempo" steno_duration '=' tempo_range
  152            | "\\tempo" scalar steno_duration '=' tempo_range
  153            | "\\tempo" scalar

  154 music_list: /* empty */
  155           | music_list music_embedded
  156           | music_list error

  157 braced_music_list: '{' music_list '}'

  158 music: music_assign
  159      | lyric_element_music
  160      | pitch_as_music

  161 pitch_as_music: pitch_or_music

  162 music_embedded: music
  163               | music_embedded_backup
  164               | music_embedded_backup "(backed-up?)" lyric_element_music
  165               | multiplied_duration post_events

  166 music_embedded_backup: embedded_scm

  167 music_assign: simple_music
  168             | composite_music

  169 repeated_music: "\\repeat" simple_string unsigned_number music
  170               | "\\repeat" simple_string unsigned_number music "\\alternative" braced_music_list

  171 sequential_music: "\\sequential" braced_music_list
  172                 | braced_music_list

  173 simultaneous_music: "\\simultaneous" braced_music_list
  174                   | "<<" music_list ">>"

  175 simple_music: event_chord
  176             | music_property_def
  177             | context_change

  178 @8: /* empty */

  179 context_modification: "\\with" @8 '{' context_mod_list '}'
  180                     | "\\with" CONTEXT_MOD_IDENTIFIER
  181                     | CONTEXT_MOD_IDENTIFIER
  182                     | "\\with" context_modification_arg

  183 context_modification_arg: embedded_scm
  184                         | MUSIC_IDENTIFIER

  185 optional_context_mod: /* empty */
  186                     | context_modification

  187 context_mod_list: /* empty */
  188                 | context_mod_list context_mod
  189                 | context_mod_list CONTEXT_MOD_IDENTIFIER
  190                 | context_mod_list context_mod_arg

  191 context_prefix: "\\context" symbol optional_id optional_context_mod
  192               | "\\new" symbol optional_id optional_context_mod

  193 new_lyrics: "\\addlyrics" lyric_mode_music
  194           | new_lyrics "\\addlyrics" lyric_mode_music

  195 basic_music: music_function_call
  196            | repeated_music
  197            | music_bare
  198            | "\\lyricsto" simple_string lyric_mode_music
  199            | "\\lyricsto" symbol '=' simple_string lyric_mode_music

  200 contextable_music: basic_music
  201                  | pitch_as_music
  202                  | event_chord

  203 contexted_basic_music: context_prefix contextable_music new_lyrics
  204                      | context_prefix contextable_music
  205                      | context_prefix contexted_basic_music

  206 composite_music: basic_music
  207                | contexted_basic_music
  208                | basic_music new_lyrics

  209 music_bare: mode_changed_music
  210           | MUSIC_IDENTIFIER
  211           | grouped_music_list

  212 grouped_music_list: simultaneous_music
  213                   | sequential_music

  214 symbol_list_arg: SYMBOL_LIST
  215                | SYMBOL_LIST '.' symbol_list_rev

  216 symbol_list_rev: symbol_list_part
  217                | symbol_list_rev '.' symbol_list_part

  218 symbol_list_part: symbol_list_element

  219 symbol_list_element: STRING
  220                    | embedded_scm_bare

  221 function_arglist_nonbackup: function_arglist_common
  222                           | "optional?" "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup bare_number_common
  228                           | function_arglist_nonbackup_reparse "(reparsed?)" pitch_or_music
  229                           | function_arglist_nonbackup_reparse "(reparsed?)" duration_length
  230                           | function_arglist_nonbackup_reparse "(reparsed?)" bare_number_common
  231                           | function_arglist_nonbackup_reparse "(reparsed?)" SCM_ARG
  232                           | function_arglist_nonbackup_reparse "(reparsed?)" lyric_element_music
  233                           | function_arglist_nonbackup_reparse "(reparsed?)" symbol_list_arg

  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER

  241 function_arglist_backup: function_arglist_common
  242                        | "optional?" "scheme?" function_arglist_backup embedded_scm_arg
  243                        | "optional?" "scheme?" function_arglist_backup post_event_nofinger
  244                        | "optional?" "scheme?" function_arglist_backup pitch
  245                        | "optional?" "scheme?" function_arglist_backup steno_tonic_pitch
  246                        | "optional?" "scheme?" function_arglist_backup full_markup
  247                        | "optional?" "scheme?" function_arglist_backup UNSIGNED
  248                        | "optional?" "scheme?" function_arglist_backup REAL
  249                        | "optional?" "scheme?" function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" function_arglist_backup '-' UNSIGNED
  251                        | "optional?" "scheme?" function_arglist_backup '-' REAL
  252                        | "optional?" "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" "scheme?" function_arglist_backup STRING
  256                        | function_arglist_backup "(reparsed?)" pitch_or_music
  257                        | function_arglist_backup "(reparsed?)" bare_number_common
  258                        | function_arglist_backup "(reparsed?)" duration_length
  259                        | function_arglist_backup "(reparsed?)" symbol_list_arg

  260 function_arglist: function_arglist_nonbackup
  261                 | "optional?" "scheme?" function_arglist_skip_nonbackup "\\default"

  262 function_arglist_skip_nonbackup: function_arglist_nonbackup
  263                                | "optional?" "scheme?" function_arglist_skip_nonbackup

  264 function_arglist_partial: "scheme?" function_arglist_optional
  265                         | "scheme?" function_arglist_partial_optional
  266                         | "optional?" "scheme?" function_arglist_nonbackup
  267                         | "optional?" "scheme?" function_arglist_partial

  268 function_arglist_partial_optional: "scheme?" function_arglist_optional
  269                                  | "scheme?" function_arglist_partial_optional
  270                                  | "optional?" "scheme?" function_arglist_backup
  271                                  | "optional?" "scheme?" function_arglist_partial_optional

  272 function_arglist_common: EXPECT_NO_MORE_ARGS
  273                        | "scheme?" function_arglist_optional embedded_scm_arg
  274                        | "scheme?" function_arglist_optional bare_number_common
  275                        | "scheme?" function_arglist_optional post_event_nofinger
  276                        | "scheme?" function_arglist_optional '-' NUMBER_IDENTIFIER
  277                        | function_arglist_common_reparse "(reparsed?)" SCM_ARG
  278                        | function_arglist_common_reparse "(reparsed?)" lyric_element_music
  279                        | function_arglist_common_reparse "(reparsed?)" pitch_or_music
  280                        | function_arglist_common_reparse "(reparsed?)" bare_number_common
  281                        | function_arglist_common_reparse "(reparsed?)" duration_length
  282                        | function_arglist_common_reparse "(reparsed?)" symbol_list_arg

  283 function_arglist_common_reparse: "scheme?" function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional pitch
  285                                | "scheme?" function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional STRING
  287                                | "scheme?" function_arglist_optional full_markup
  288                                | "scheme?" function_arglist_optional UNSIGNED
  289                                | "scheme?" function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional '-' REAL

  292 function_arglist_optional: function_arglist_backup
  293                          | "optional?" "scheme?" function_arglist_skip_backup "\\default"
  294                          | function_arglist_skip_backup "(backed-up?)"

  295 function_arglist_skip_backup: function_arglist_backup
  296                             | "optional?" "scheme?" function_arglist_skip_backup

  297 music_function_call: MUSIC_FUNCTION function_arglist

  298 optional_id: /* empty */
  299            | '=' simple_string

  300 @9: /* empty */

  301 lyric_mode_music: @9 grouped_music_list
  302                 | MUSIC_IDENTIFIER

  303 mode_changed_music: mode_changing_head grouped_music_list
  304                   | mode_changing_head_with_context optional_context_mod grouped_music_list

  305 mode_changing_head: "\\notemode"
  306                   | "\\drummode"
  307                   | "\\figuremode"
  308                   | "\\chordmode"
  309                   | "\\lyricmode"

  310 mode_changing_head_with_context: "\\drums"
  311                                | "\\figures"
  312                                | "\\chords"
  313                                | "\\lyrics"

  314 context_change: "\\change" symbol '=' simple_string

  315 property_path: symbol_list_rev
  316              | symbol_list_rev property_path

  317 property_operation: symbol '=' scalar
  318                   | "\\unset" symbol
  319                   | "\\override" property_path '=' scalar
  320                   | "\\revert" revert_arg

  321 revert_arg: revert_arg_backup "(backed-up?)" symbol_list_arg

  322 revert_arg_backup: revert_arg_part

  323 revert_arg_part: symbol_list_part
  324                | revert_arg_backup "(backed-up?)" SCM_ARG '.' symbol_list_part
  325                | revert_arg_backup "(backed-up?)" SCM_ARG symbol_list_part

  326 context_def_mod: "\\consists"
  327                | "\\remove"
  328                | "\\accepts"
  329                | "\\defaultchild"
  330                | "\\denies"
  331                | "\\alias"
  332                | "\\type"
  333                | "\\description"
  334                | "\\name"

  335 context_mod: property_operation
  336            | context_def_mod STRING
  337            | context_def_mod embedded_scm

  338 grob_prop_spec: symbol_list_rev

  339 grob_prop_path: grob_prop_spec
  340               | grob_prop_spec property_path

  341 context_prop_spec: symbol_list_rev

  342 simple_revert_context: symbol_list_part

  343 music_property_def: "\\override" grob_prop_path '=' scalar
  344                   | "\\revert" simple_revert_context revert_arg
  345                   | "\\set" context_prop_spec '=' scalar
  346                   | "\\unset" context_prop_spec

  347 string: STRING
  348       | full_markup

  349 simple_string: STRING
  350              | embedded_scm_bare

  351 symbol: STRING
  352       | embedded_scm_bare

  353 scalar: embedded_scm_arg
  354       | pitch_or_music
  355       | SCM_IDENTIFIER
  356       | bare_number
  357       | '-' bare_number
  358       | string

  359 event_chord: simple_element post_events
  360            | CHORD_REPETITION optional_notemode_duration post_events
  361            | MULTI_MEASURE_REST optional_notemode_duration post_events
  362            | tempo_event
  363            | note_chord_element

  364 note_chord_element: chord_body optional_notemode_duration post_events

  365 chord_body: "<" chord_body_elements ">"
  366           | FIGURE_OPEN figure_list FIGURE_CLOSE

  367 chord_body_elements: /* empty */
  368                    | chord_body_elements chord_body_element

  369 chord_body_element: pitch_or_tonic_pitch exclamations questions octave_check post_events
  370                   | DRUM_PITCH post_events
  371                   | music_function_chord_body

  372 music_function_chord_body: music_function_call
  373                          | MUSIC_IDENTIFIER
  374                          | embedded_scm

  375 event_function_event: EVENT_FUNCTION function_arglist

  376 post_events: /* empty */
  377            | post_events post_event

  378 post_event_nofinger: direction_less_event
  379                    | script_dir music_function_call
  380                    | "--"
  381                    | "__"
  382                    | script_dir direction_reqd_event
  383                    | script_dir direction_less_event
  384                    | '^' fingering
  385                    | '_' fingering

  386 post_event: post_event_nofinger
  387           | '-' fingering

  388 string_number_event: E_UNSIGNED

  389 direction_less_event: string_number_event
  390                     | EVENT_IDENTIFIER
  391                     | tremolo_type
  392                     | event_function_event

  393 direction_reqd_event: gen_text_def
  394                     | script_abbreviation

  395 octave_check: /* empty */
  396             | '=' quotes

  397 quotes: /* empty */
  398       | sub_quotes
  399       | sup_quotes

  400 sup_quotes: '''
  401           | sup_quotes '''

  402 sub_quotes: ','
  403           | sub_quotes ','

  404 steno_pitch: NOTENAME_PITCH quotes

  405 steno_tonic_pitch: TONICNAME_PITCH quotes

  406 pitch: steno_pitch
  407      | PITCH_IDENTIFIER quotes

  408 pitch_or_tonic_pitch: pitch
  409                     | steno_tonic_pitch

  410 gen_text_def: full_markup
  411             | STRING
  412             | embedded_scm

  413 fingering: UNSIGNED

  414 script_abbreviation: '^'
  415                    | '+'
  416                    | '-'
  417                    | '!'
  418                    | ">"
  419                    | '.'
  420                    | '_'

  421 script_dir: '_'
  422           | '^'
  423           | '-'

  424 duration_length: multiplied_duration

  425 maybe_notemode_duration: /* empty */
  426                        | multiplied_duration

  427 optional_notemode_duration: maybe_notemode_duration

  428 steno_duration: UNSIGNED dots
  429               | DURATION_IDENTIFIER dots

  430 multiplied_duration: steno_duration
  431                    | multiplied_duration '*' UNSIGNED
  432                    | multiplied_duration '*' FRACTION

  433 dots: /* empty */
  434     | dots '.'

  435 tremolo_type: ':'
  436             | ':' UNSIGNED

  437 bass_number: UNSIGNED
  438            | STRING
  439            | full_markup
  440            | embedded_scm_bare

  441 figured_bass_alteration: '-'
  442                        | '+'
  443                        | '!'

  444 bass_figure: "_"
  445            | bass_number
  446            | bass_figure ']'
  447            | bass_figure figured_bass_alteration
  448            | bass_figure figured_bass_modification

  449 figured_bass_modification: "\\+"
  450                          | "\\!"
  451                          | '/'
  452                          | "\\"

  453 br_bass_figure: bass_figure
  454               | '[' bass_figure

  455 figure_list: /* empty */
  456            | figure_list br_bass_figure

  457 optional_rest: /* empty */
  458              | "\\rest"

  459 pitch_or_music: pitch exclamations questions octave_check maybe_notemode_duration optional_rest post_events
  460               | new_chord post_events

  461 simple_element: DRUM_PITCH optional_notemode_duration
  462               | RESTNAME optional_notemode_duration

  463 lyric_element: full_markup
  464              | STRING
  465              | LYRIC_ELEMENT

  466 lyric_element_music: lyric_element optional_notemode_duration post_events

  467 new_chord: steno_tonic_pitch maybe_notemode_duration
  468          | steno_tonic_pitch optional_notemode_duration chord_separator chord_items

  469 chord_items: /* empty */
  470            | chord_items chord_item

  471 chord_separator: ":"
  472                | "^"
  473                | "/" steno_tonic_pitch
  474                | "/+" steno_tonic_pitch

  475 chord_item: chord_separator
  476           | step_numbers
  477           | CHORD_MODIFIER

  478 step_numbers: step_number
  479             | step_numbers '.' step_number

  480 step_number: UNSIGNED
  481            | UNSIGNED '+'
  482            | UNSIGNED "-"

  483 tempo_range: unsigned_number
  484            | unsigned_number '-' unsigned_number

  485 number_expression: number_expression '+' number_term
  486                  | number_expression '-' number_term
  487                  | number_term

  488 number_term: number_factor
  489            | number_factor '*' number_factor
  490            | number_factor '/' number_factor

  491 number_factor: '-' number_factor
  492              | bare_number

  493 bare_number_common: REAL
  494                   | NUMBER_IDENTIFIER
  495                   | REAL NUMBER_IDENTIFIER

  496 bare_number: bare_number_common
  497            | UNSIGNED
  498            | UNSIGNED NUMBER_IDENTIFIER

  499 unsigned_number: UNSIGNED
  500                | NUMBER_IDENTIFIER
  501                | embedded_scm

  502 exclamations: /* empty */
  503             | exclamations '!'

  504 questions: /* empty */
  505          | questions '?'

  506 @10: /* empty */

  507 full_markup_list: "\\markuplist" @10 markup_list

  508 markup_mode: "\\markup"

  509 full_markup: markup_mode markup_top

  510 partial_markup: markup_mode markup_head_1_list "\\etc"

  511 markup_top: markup_list
  512           | markup_head_1_list simple_markup
  513           | simple_markup

  514 @11: /* empty */

  515 markup_scm: embedded_scm_bare @11 "(backed-up?)"

  516 markup_list: markup_composed_list
  517            | markup_uncomposed_list

  518 markup_uncomposed_list: markup_braced_list
  519                       | markup_command_list
  520                       | markup_scm MARKUPLIST_IDENTIFIER

  521 @12: /* empty */

  522 markup_uncomposed_list: "\\score-lines" @12 '{' score_body '}'

  523 markup_composed_list: markup_head_1_list markup_uncomposed_list

  524 markup_braced_list: '{' markup_braced_list_body '}'

  525 markup_braced_list_body: /* empty */
  526                        | markup_braced_list_body markup
  527                        | markup_braced_list_body markup_list

  528 markup_command_list: MARKUP_LIST_FUNCTION markup_command_list_arguments

  529 markup_command_basic_arguments: "markup-list?" markup_command_list_arguments markup_list
  530                               | "scheme?" markup_command_list_arguments embedded_scm
  531                               | EXPECT_NO_MORE_ARGS

  532 markup_command_list_arguments: markup_command_basic_arguments
  533                              | "markup?" markup_command_list_arguments markup

  534 markup_head_1_item: MARKUP_FUNCTION "markup?" markup_command_list_arguments

  535 markup_head_1_list: markup_head_1_item
  536                   | markup_head_1_list markup_head_1_item

  537 simple_markup: STRING

  538 @13: /* empty */

  539 simple_markup: "\\score" @13 '{' score_body '}'
  540              | MARKUP_FUNCTION markup_command_basic_arguments
  541              | markup_scm MARKUP_IDENTIFIER

  542 markup: markup_head_1_list simple_markup
  543       | simple_markup


Terminals, with rules where they appear

"end of input" (0) 0
'!' (33) 417 443 503
''' (39) 400 401
'*' (42) 431 432 489
'+' (43) 415 442 481 485
',' (44) 402 403
'-' (45) 42 223 224 225 250 251 252 276 290 291 357 387 416 423 441
    484 486 491
'.' (46) 60 215 217 324 419 434 479
'/' (47) 451 490
':' (58) 435 436
'=' (61) 58 59 60 81 82 86 87 151 152 199 299 314 317 319 343 345 396
'?' (63) 505
'[' (91) 454
']' (93) 446
'^' (94) 384 414 422
'_' (95) 385 420 421
'{' (123) 56 91 99 113 126 144 157 179 522 524 539
'}' (125) 56 91 99 113 126 137 157 179 522 524 539
error (256) 7 51 112 125 128 150 156
PREC_BOT (258)
"\\repeat" (259) 169 170
"\\alternative" (260) 170
COMPOSITE (261)
"\\addlyrics" (262) 193 194
DURATION_IDENTIFIER (263) 240 253 289 429
"__" (264) 381
"--" (265) 380
EVENT_FUNCTION (266) 79 84 89 375
EVENT_IDENTIFIER (267) 390
E_UNSIGNED (268) 388
REAL (269) 224 248 251 291 493 495
UNSIGNED (270) 44 223 239 247 250 288 290 413 428 431 436 437 480 481
    482 497 498 499
NUMBER_IDENTIFIER (271) 44 225 249 252 276 494 495 498 500
PREC_TOP (272)
"\\accepts" (273) 328
"\\alias" (274) 331
"\\book" (275) 99
"\\bookpart" (276) 113
"\\change" (277) 314
"\\chordmode" (278) 308
"\\chords" (279) 312
"\\consists" (280) 326
"\\context" (281) 91 191
"\\default" (282) 261 293
"\\defaultchild" (283) 329
"\\denies" (284) 330
"\\description" (285) 333
"\\drummode" (286) 306
"\\drums" (287) 310
"\\etc" (288) 77 510
"\\figuremode" (289) 307
"\\figures" (290) 311
"\\header" (291) 56
"\\version-error" (292) 8 52
"\\layout" (293) 140
"\\lyricmode" (294) 309
"\\lyrics" (295) 313
"\\lyricsto" (296) 198 199
"\\markup" (297) 508
"\\markuplist" (298) 507
"\\midi" (299) 139
"\\name" (300) 334
"\\notemode" (301) 305
"\\override" (302) 81 86 319 343
"\\paper" (303) 138
"\\remove" (304) 327
"\\rest" (305) 458
"\\revert" (306) 320 344
"\\score" (307) 126 539
"\\score-lines" (308) 522
"\\sequential" (309) 171
"\\set" (310) 82 87 345
"\\simultaneous" (311) 173
"\\tempo" (312) 151 152 153
"\\type" (313) 332
"\\unset" (314) 318 346
"\\with" (315) 179 180 182
"\\new" (316) 192
"/+" (317) 474
"^" (318) 472
":" (319) 471
"-" (320) 482
"/" (321) 473
"<" (322) 365
">" (323) 365 418
"<<" (324) 174
">>" (325) 174
"\\" (326) 452
"\\!" (327) 450
"\\+" (328) 449
FIGURE_CLOSE (329) 366
FIGURE_OPEN (330) 366
"_" (331) 444
MULTI_MEASURE_REST (332) 361
"markup?" (333) 533 534
"scheme?" (334) 83 84 85 88 89 90 222 223 224 225 226 227 234 235 236
    237 238 239 240 242 243 244 245 246 247 248 249 250 251 252 253
    254 255 261 263 264 265 266 267 268 269 270 271 273 274 275 276
    283 284 285 286 287 288 289 290 291 293 296 530
"(backed-up?)" (335) 164 294 321 324 325 515
"(reparsed?)" (336) 228 229 230 231 232 233 256 257 258 259 277 278
    279 280 281 282
"markup-list?" (337) 529
"optional?" (338) 88 89 90 222 223 224 225 226 227 234 235 236 237
    238 239 240 242 243 244 245 246 247 248 249 250 251 252 253 254
    255 261 263 266 267 270 271 293 296
EXPECT_NO_MORE_ARGS (339) 272 531
"#{" (340) 3
BOOK_IDENTIFIER (341) 13 101 115
CHORD_MODIFIER (342) 477
CHORD_REPETITION (343) 360
CONTEXT_MOD_IDENTIFIER (344) 180 181 189
DRUM_PITCH (345) 370 461
PITCH_IDENTIFIER (346) 407
FRACTION (347) 27 71 432
LYRIC_ELEMENT (348) 465
MARKUP_FUNCTION (349) 534 540
MARKUP_LIST_FUNCTION (350) 528
MARKUP_IDENTIFIER (351) 541
MARKUPLIST_IDENTIFIER (352) 520
MUSIC_FUNCTION (353) 78 83 88 297
MUSIC_IDENTIFIER (354) 184 210 302 373
NOTENAME_PITCH (355) 404
RESTNAME (356) 462
SCM_ARG (357) 25 231 277 324 325
SCM_FUNCTION (358) 41 80 85 90
SCM_IDENTIFIER (359) 22 23 234 254 283 355
SCM_TOKEN (360) 18 21 26 108 121 147
STRING (361) 57 219 237 255 286 336 347 349 351 411 438 464 537
SYMBOL_LIST (362) 214 215
TONICNAME_PITCH (363) 405
UNARY_MINUS (364)


Nonterminals, with rules where they appear

$accept (127)
    on left: 0
start_symbol (128)
    on left: 1 3, on right: 0
@1 (129)
    on left: 2, on right: 3
lilypond (130)
    on left: 4 5 6 7 8, on right: 1 5 6 7 8
toplevel_expression (131)
    on left: 10 11 12 13 14 15 16 17 18 19 20, on right: 5
@2 (132)
    on left: 9, on right: 10
embedded_scm_bare (133)
    on left: 21 22, on right: 36 220 350 352 440 515
embedded_scm_active (134)
    on left: 23 24, on right: 19 109 122 146
embedded_scm_bare_arg (135)
    on left: 25 26 27 28 29 30 31 32 33 34 35, on right: 38
embedded_scm (136)
    on left: 36 37, on right: 55 73 92 129 166 183 337 374 412 501
    530
embedded_scm_arg (137)
    on left: 38 39 40, on right: 226 242 273 353
scm_function_call (138)
    on left: 41, on right: 24 37 39
embedded_lilypond_number (139)
    on left: 42 43 44, on right: 42 47
embedded_lilypond (140)
    on left: 45 46 47 48 49 50 51 52, on right: 3 52
lilypond_header_body (141)
    on left: 53 54 55, on right: 54 55 56
lilypond_header (142)
    on left: 56, on right: 10 111 124 135
assignment_id (143)
    on left: 57, on right: 58 59 60
assignment (144)
    on left: 58 59 60, on right: 6 54 145
identifier_init (145)
    on left: 61 62 63, on right: 58 59 60
identifier_init_nonumber (146)
    on left: 64 65 66 67 68 69 70 71 72 73 74 75 76 77,
    on right: 46 61
partial_function (147)
    on left: 78 79 80 81 82 83 84 85 86 87 88 89 90,
    on right: 77 83 84 85 86 87 88 89 90
context_def_spec_block (148)
    on left: 91, on right: 32 68 143
context_mod_arg (149)
    on left: 92 94, on right: 98 190
@3 (150)
    on left: 93, on right: 94
context_def_spec_body (151)
    on left: 95 96 97 98, on right: 91 96 97 98
book_block (152)
    on left: 99, on right: 11 33 65
book_body (153)
    on left: 100 101 102 103 104 105 106 107 108 109 111 112,
    on right: 99 102 103 104 105 106 107 108 109 111 112
@4 (154)
    on left: 110, on right: 111
bookpart_block (155)
    on left: 113, on right: 12 34 66 103
bookpart_body (156)
    on left: 114 115 116 117 118 119 120 121 122 124 125,
    on right: 113 116 117 118 119 120 121 122 124 125
@5 (157)
    on left: 123, on right: 124
score_block (158)
    on left: 126, on right: 14 31 64 104 117
score_body (159)
    on left: 127 128, on right: 126 128 522 539
score_item (160)
    on left: 129 130 131, on right: 133
score_items (161)
    on left: 132 133 135, on right: 127 133 135
@6 (162)
    on left: 134, on right: 135
paper_block (163)
    on left: 136, on right: 102 116
output_def (164)
    on left: 137, on right: 20 35 67 131 136
output_def_head (165)
    on left: 138 139 140, on right: 141
output_def_head_with_mode_switch (166)
    on left: 141, on right: 144
music_or_context_def (167)
    on left: 142 143, on right: 149
output_def_body (168)
    on left: 144 145 146 147 149 150, on right: 137 145 146 147 149
    150
@7 (169)
    on left: 148, on right: 149
tempo_event (170)
    on left: 151 152 153, on right: 362
music_list (171)
    on left: 154 155 156, on right: 50 155 156 157 174
braced_music_list (172)
    on left: 157, on right: 170 171 172 173
music (173)
    on left: 158 159 160, on right: 130 162 169 170
pitch_as_music (174)
    on left: 161, on right: 160 201
music_embedded (175)
    on left: 162 163 164 165, on right: 50 155
music_embedded_backup (176)
    on left: 166, on right: 163 164
music_assign (177)
    on left: 167 168, on right: 40 69 142 158
repeated_music (178)
    on left: 169 170, on right: 196
sequential_music (179)
    on left: 171 172, on right: 213
simultaneous_music (180)
    on left: 173 174, on right: 212
simple_music (181)
    on left: 175 176 177, on right: 167
context_modification (182)
    on left: 179 180 181 182, on right: 30 76 97 186
@8 (183)
    on left: 178, on right: 179
context_modification_arg (184)
    on left: 183 184, on right: 182
optional_context_mod (185)
    on left: 185 186, on right: 191 192 304
context_mod_list (186)
    on left: 187 188 189 190, on right: 179 188 189 190
context_prefix (187)
    on left: 191 192, on right: 203 204 205
new_lyrics (188)
    on left: 193 194, on right: 194 203 208
basic_music (189)
    on left: 195 196 197 198 199, on right: 200 206 208
contextable_music (190)
    on left: 200 201 202, on right: 203 204
contexted_basic_music (191)
    on left: 203 204 205, on right: 205 207
composite_music (192)
    on left: 206 207 208, on right: 15 94 105 118 168
music_bare (193)
    on left: 209 210 211, on right: 197
grouped_music_list (194)
    on left: 212 213, on right: 211 301 303 304
symbol_list_arg (195)
    on left: 214 215, on right: 233 259 282 321
symbol_list_rev (196)
    on left: 216 217, on right: 215 217 315 316 338 341
symbol_list_part (197)
    on left: 218, on right: 216 217 323 324 325 342
symbol_list_element (198)
    on left: 219 220, on right: 218
function_arglist_nonbackup (199)
    on left: 221 222 223 224 225 226 227 228 229 230 231 232 233,
    on right: 88 89 90 222 223 224 225 226 227 234 235 236 237 238
    239 240 260 262 266
function_arglist_nonbackup_reparse (200)
    on left: 234 235 236 237 238 239 240, on right: 228 229 230 231
    232 233
function_arglist_backup (201)
    on left: 241 242 243 244 245 246 247 248 249 250 251 252 253 254
    255 256 257 258 259, on right: 242 243 244 245 246 247 248 249
    250 251 252 253 254 255 256 257 258 259 270 292 295
function_arglist (202)
    on left: 260 261, on right: 41 297 375
function_arglist_skip_nonbackup (203)
    on left: 262 263, on right: 261 263
function_arglist_partial (204)
    on left: 264 265 266 267, on right: 78 79 80 267
function_arglist_partial_optional (205)
    on left: 268 269 270 271, on right: 265 269 271
function_arglist_common (206)
    on left: 272 273 274 275 276 277 278 279 280 281 282,
    on right: 221 241
function_arglist_common_reparse (207)
    on left: 283 284 285 286 287 288 289 290 291, on right: 277 278
    279 280 281 282
function_arglist_optional (208)
    on left: 292 293 294, on right: 83 84 85 264 268 273 274 275 276
    283 284 285 286 287 288 289 290 291
function_arglist_skip_backup (209)
    on left: 295 296, on right: 293 294 296
music_function_call (210)
    on left: 297, on right: 195 372 379
optional_id (211)
    on left: 298 299, on right: 191 192
lyric_mode_music (212)
    on left: 301 302, on right: 193 194 198 199
@9 (213)
    on left: 300, on right: 301
mode_changed_music (214)
    on left: 303 304, on right: 209
mode_changing_head (215)
    on left: 305 306 307 308 309, on right: 303
mode_changing_head_with_context (216)
    on left: 310 311 312 313, on right: 304
context_change (217)
    on left: 314, on right: 177
property_path (218)
    on left: 315 316, on right: 59 60 316 319 340
property_operation (219)
    on left: 317 318 319 320, on right: 335
revert_arg (220)
    on left: 321, on right: 320 344
revert_arg_backup (221)
    on left: 322, on right: 321 324 325
revert_arg_part (222)
    on left: 323 324 325, on right: 322
context_def_mod (223)
    on left: 326 327 328 329 330 331 332 333 334, on right: 336 337
context_mod (224)
    on left: 335 336 337, on right: 96 188
grob_prop_spec (225)
    on left: 338, on right: 339 340
grob_prop_path (226)
    on left: 339 340, on right: 81 86 343
context_prop_spec (227)
    on left: 341, on right: 82 87 345 346
simple_revert_context (228)
    on left: 342, on right: 344
music_property_def (229)
    on left: 343 344 345 346, on right: 176
string (230)
    on left: 347 348, on right: 72 358
simple_string (231)
    on left: 349 350, on right: 169 170 198 199 299 314
symbol (232)
    on left: 351 352, on right: 191 192 199 314 317 318
scalar (233)
    on left: 353 354 355 356 357 358, on right: 152 153 317 319 343
    345
event_chord (234)
    on left: 359 360 361 362 363, on right: 175 202
note_chord_element (235)
    on left: 364, on right: 363
chord_body (236)
    on left: 365 366, on right: 364
chord_body_elements (237)
    on left: 367 368, on right: 365 368
chord_body_element (238)
    on left: 369 370 371, on right: 368
music_function_chord_body (239)
    on left: 372 373 374, on right: 371
event_function_event (240)
    on left: 375, on right: 392
post_events (241)
    on left: 376 377, on right: 48 63 165 359 360 361 364 369 370 377
    459 460 466
post_event_nofinger (242)
    on left: 378 379 380 381 382 383 384 385, on right: 63 222 243
    275 386
post_event (243)
    on left: 386 387, on right: 48 377
string_number_event (244)
    on left: 388, on right: 389
direction_less_event (245)
    on left: 389 390 391 392, on right: 378 383
direction_reqd_event (246)
    on left: 393 394, on right: 382
octave_check (247)
    on left: 395 396, on right: 369 459
quotes (248)
    on left: 397 398 399, on right: 396 404 405 407
sup_quotes (249)
    on left: 400 401, on right: 399 401
sub_quotes (250)
    on left: 402 403, on right: 398 403
steno_pitch (251)
    on left: 404, on right: 406
steno_tonic_pitch (252)
    on left: 405, on right: 236 245 285 409 467 468 473 474
pitch (253)
    on left: 406 407, on right: 235 244 284 408 459
pitch_or_tonic_pitch (254)
    on left: 408 409, on right: 369
gen_text_def (255)
    on left: 410 411 412, on right: 393
fingering (256)
    on left: 413, on right: 384 385 387
script_abbreviation (257)
    on left: 414 415 416 417 418 419 420, on right: 394
script_dir (258)
    on left: 421 422 423, on right: 379 382 383
duration_length (259)
    on left: 424, on right: 229 258 281
maybe_notemode_duration (260)
    on left: 425 426, on right: 427 459 467
optional_notemode_duration (261)
    on left: 427, on right: 360 361 364 461 462 466 468
steno_duration (262)
    on left: 428 429, on right: 151 152 430
multiplied_duration (263)
    on left: 430 431 432, on right: 49 165 424 426 431 432
dots (264)
    on left: 433 434, on right: 428 429 434
tremolo_type (265)
    on left: 435 436, on right: 391
bass_number (266)
    on left: 437 438 439 440, on right: 445
figured_bass_alteration (267)
    on left: 441 442 443, on right: 447
bass_figure (268)
    on left: 444 445 446 447 448, on right: 446 447 448 453 454
figured_bass_modification (269)
    on left: 449 450 451 452, on right: 448
br_bass_figure (270)
    on left: 453 454, on right: 456
figure_list (271)
    on left: 455 456, on right: 366 456
optional_rest (272)
    on left: 457 458, on right: 459
pitch_or_music (273)
    on left: 459 460, on right: 70 161 228 256 279 354
simple_element (274)
    on left: 461 462, on right: 359
lyric_element (275)
    on left: 463 464 465, on right: 466
lyric_element_music (276)
    on left: 466, on right: 159 164 232 278
new_chord (277)
    on left: 467 468, on right: 460
chord_items (278)
    on left: 469 470, on right: 468 470
chord_separator (279)
    on left: 471 472 473 474, on right: 468 475
chord_item (280)
    on left: 475 476 477, on right: 470
step_numbers (281)
    on left: 478 479, on right: 476 479
step_number (282)
    on left: 480 481 482, on right: 478 479
tempo_range (283)
    on left: 483 484, on right: 151 152
number_expression (284)
    on left: 485 486 487, on right: 62 485 486
number_term (285)
    on left: 488 489 490, on right: 485 486 487
number_factor (286)
    on left: 491 492, on right: 488 489 490 491
bare_number_common (287)
    on left: 493 494 495, on right: 43 227 230 257 274 280 496
bare_number (288)
    on left: 496 497 498, on right: 356 357 492
unsigned_number (289)
    on left: 499 500 501, on right: 169 170 483 484
exclamations (290)
    on left: 502 503, on right: 369 459 503
questions (291)
    on left: 504 505, on right: 369 459 505
full_markup_list (292)
    on left: 507, on right: 17 29 75 107 120
@10 (293)
    on left: 506, on right: 507
markup_mode (294)
    on left: 508, on right: 509 510
full_markup (295)
    on left: 509, on right: 16 106 119 238 246 287 348 410 439 463
partial_markup (296)
    on left: 510, on right: 28 74
markup_top (297)
    on left: 511 512 513, on right: 509
markup_scm (298)
    on left: 515, on right: 520 541
@11 (299)
    on left: 514, on right: 515
markup_list (300)
    on left: 516 517, on right: 507 511 527 529
markup_uncomposed_list (301)
    on left: 518 519 520 522, on right: 517 523
@12 (302)
    on left: 521, on right: 522
markup_composed_list (303)
    on left: 523, on right: 516
markup_braced_list (304)
    on left: 524, on right: 518
markup_braced_list_body (305)
    on left: 525 526 527, on right: 524 526 527
markup_command_list (306)
    on left: 528, on right: 519
markup_command_basic_arguments (307)
    on left: 529 530 531, on right: 532 540
markup_command_list_arguments (308)
    on left: 532 533, on right: 528 529 530 533 534
markup_head_1_item (309)
    on left: 534, on right: 535 536
markup_head_1_list (310)
    on left: 535 536, on right: 510 512 523 536 542
simple_markup (311)
    on left: 537 539 540 541, on right: 512 513 542 543
@13 (312)
    on left: 538, on right: 539
markup (313)
    on left: 542 543, on right: 526 533


state 0

    0 $accept: . start_symbol "end of input"

    "#{"  shift, and go to state 1

    $default  reduce using rule 4 (lilypond)

    start_symbol  go to state 2
    lilypond      go to state 3


state 1

    3 start_symbol: "#{" . @1 embedded_lilypond

    $default  reduce using rule 2 (@1)

    @1  go to state 4


state 2

    0 $accept: start_symbol . "end of input"

    "end of input"  shift, and go to state 5


state 3

    1 start_symbol: lilypond .
    5 lilypond: lilypond . toplevel_expression
    6         | lilypond . assignment
    7         | lilypond . error
    8         | lilypond . "\\version-error"

    error              shift, and go to state 6
    "\\repeat"         shift, and go to state 7
    "\\book"           shift, and go to state 8
    "\\bookpart"       shift, and go to state 9
    "\\chordmode"      shift, and go to state 10
    "\\chords"         shift, and go to state 11
    "\\context"        shift, and go to state 12
    "\\drummode"       shift, and go to state 13
    "\\drums"          shift, and go to state 14
    "\\figuremode"     shift, and go to state 15
    "\\figures"        shift, and go to state 16
    "\\version-error"  shift, and go to state 17
    "\\layout"         shift, and go to state 18
    "\\lyricmode"      shift, and go to state 19
    "\\lyrics"         shift, and go to state 20
    "\\lyricsto"       shift, and go to state 21
    "\\markup"         shift, and go to state 22
    "\\markuplist"     shift, and go to state 23
    "\\midi"           shift, and go to state 24
    "\\notemode"       shift, and go to state 25
    "\\paper"          shift, and go to state 26
    "\\score"          shift, and go to state 27
    "\\sequential"     shift, and go to state 28
    "\\simultaneous"   shift, and go to state 29
    "\\new"            shift, and go to state 30
    "<<"               shift, and go to state 31
    BOOK_IDENTIFIER    shift, and go to state 32
    MUSIC_FUNCTION     shift, and go to state 33
    MUSIC_IDENTIFIER   shift, and go to state 34
    SCM_FUNCTION       shift, and go to state 35
    SCM_IDENTIFIER     shift, and go to state 36
    SCM_TOKEN          shift, and go to state 37
    STRING             shift, and go to state 38
    '{'                shift, and go to state 39

    "end of input"  reduce using rule 1 (start_symbol)
    "\\header"      reduce using rule 9 (@2)

    toplevel_expression               go to state 40
    @2                                go to state 41
    embedded_scm_active               go to state 42
    scm_function_call                 go to state 43
    assignment_id                     go to state 44
    assignment                        go to state 45
    book_block                        go to state 46
    bookpart_block                    go to state 47
    score_block                       go to state 48
    output_def                        go to state 49
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    braced_music_list                 go to state 53
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 60
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    full_markup_list                  go to state 67
    markup_mode                       go to state 68
    full_markup                       go to state 69


state 4

    3 start_symbol: "#{" @1 . embedded_lilypond

    error                   shift, and go to state 70
    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 74
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 81
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\version-error"       shift, and go to state 85
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 99
    LYRIC_ELEMENT           shift, and go to state 100
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 107
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 109
    '{'                     shift, and go to state 39

    "end of input"  reduce using rule 45 (embedded_lilypond)

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 111
    scm_function_call                 go to state 112
    embedded_lilypond_number          go to state 113
    embedded_lilypond                 go to state 114
    identifier_init_nonumber          go to state 115
    partial_function                  go to state 116
    context_def_spec_block            go to state 117
    book_block                        go to state 118
    bookpart_block                    go to state 119
    score_block                       go to state 120
    output_def                        go to state 121
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music                             go to state 123
    pitch_as_music                    go to state 124
    music_embedded                    go to state 125
    music_embedded_backup             go to state 126
    music_assign                      go to state 127
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 129
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 133
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 138
    post_event                        go to state 139
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    script_dir                        go to state 145
    steno_duration                    go to state 146
    multiplied_duration               go to state 147
    tremolo_type                      go to state 148
    pitch_or_music                    go to state 149
    simple_element                    go to state 150
    lyric_element                     go to state 151
    lyric_element_music               go to state 152
    new_chord                         go to state 153
    bare_number_common                go to state 154
    full_markup_list                  go to state 155
    markup_mode                       go to state 156
    full_markup                       go to state 157
    partial_markup                    go to state 158


state 5

    0 $accept: start_symbol "end of input" .

    $default  accept


state 6

    7 lilypond: lilypond error .

    $default  reduce using rule 7 (lilypond)


state 7

  169 repeated_music: "\\repeat" . simple_string unsigned_number music
  170               | "\\repeat" . simple_string unsigned_number music "\\alternative" braced_music_list

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 159

    embedded_scm_bare  go to state 160
    simple_string      go to state 161


state 8

   99 book_block: "\\book" . '{' book_body '}'

    '{'  shift, and go to state 162


state 9

  113 bookpart_block: "\\bookpart" . '{' bookpart_body '}'

    '{'  shift, and go to state 163


state 10

  308 mode_changing_head: "\\chordmode" .

    $default  reduce using rule 308 (mode_changing_head)


state 11

  312 mode_changing_head_with_context: "\\chords" .

    $default  reduce using rule 312 (mode_changing_head_with_context)


state 12

  191 context_prefix: "\\context" . symbol optional_id optional_context_mod

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 164

    embedded_scm_bare  go to state 165
    symbol             go to state 166


state 13

  306 mode_changing_head: "\\drummode" .

    $default  reduce using rule 306 (mode_changing_head)


state 14

  310 mode_changing_head_with_context: "\\drums" .

    $default  reduce using rule 310 (mode_changing_head_with_context)


state 15

  307 mode_changing_head: "\\figuremode" .

    $default  reduce using rule 307 (mode_changing_head)


state 16

  311 mode_changing_head_with_context: "\\figures" .

    $default  reduce using rule 311 (mode_changing_head_with_context)


state 17

    8 lilypond: lilypond "\\version-error" .

    $default  reduce using rule 8 (lilypond)


state 18

  140 output_def_head: "\\layout" .

    $default  reduce using rule 140 (output_def_head)


state 19

  309 mode_changing_head: "\\lyricmode" .

    $default  reduce using rule 309 (mode_changing_head)


state 20

  313 mode_changing_head_with_context: "\\lyrics" .

    $default  reduce using rule 313 (mode_changing_head_with_context)


state 21

  198 basic_music: "\\lyricsto" . simple_string lyric_mode_music
  199            | "\\lyricsto" . symbol '=' simple_string lyric_mode_music

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 167

    embedded_scm_bare  go to state 168
    simple_string      go to state 169
    symbol             go to state 170


state 22

  508 markup_mode: "\\markup" .

    $default  reduce using rule 508 (markup_mode)


state 23

  507 full_markup_list: "\\markuplist" . @10 markup_list

    $default  reduce using rule 506 (@10)

    @10  go to state 171


state 24

  139 output_def_head: "\\midi" .

    $default  reduce using rule 139 (output_def_head)


state 25

  305 mode_changing_head: "\\notemode" .

    $default  reduce using rule 305 (mode_changing_head)


state 26

  138 output_def_head: "\\paper" .

    $default  reduce using rule 138 (output_def_head)


state 27

  126 score_block: "\\score" . '{' score_body '}'

    '{'  shift, and go to state 172


state 28

  171 sequential_music: "\\sequential" . braced_music_list

    '{'  shift, and go to state 39

    braced_music_list  go to state 173


state 29

  173 simultaneous_music: "\\simultaneous" . braced_music_list

    '{'  shift, and go to state 39

    braced_music_list  go to state 174


state 30

  192 context_prefix: "\\new" . symbol optional_id optional_context_mod

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 164

    embedded_scm_bare  go to state 165
    symbol             go to state 175


state 31

  174 simultaneous_music: "<<" . music_list ">>"

    $default  reduce using rule 154 (music_list)

    music_list  go to state 176


state 32

   13 toplevel_expression: BOOK_IDENTIFIER .

    $default  reduce using rule 13 (toplevel_expression)


state 33

  297 music_function_call: MUSIC_FUNCTION . function_arglist

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 178
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 182
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 34

  210 music_bare: MUSIC_IDENTIFIER .

    $default  reduce using rule 210 (music_bare)


state 35

   41 scm_function_call: SCM_FUNCTION . function_arglist

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 178
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 185
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 36

   23 embedded_scm_active: SCM_IDENTIFIER .

    $default  reduce using rule 23 (embedded_scm_active)


state 37

   18 toplevel_expression: SCM_TOKEN .

    $default  reduce using rule 18 (toplevel_expression)


state 38

   57 assignment_id: STRING .

    $default  reduce using rule 57 (assignment_id)


state 39

  157 braced_music_list: '{' . music_list '}'

    $default  reduce using rule 154 (music_list)

    music_list  go to state 186


state 40

    5 lilypond: lilypond toplevel_expression .

    $default  reduce using rule 5 (lilypond)


state 41

   10 toplevel_expression: @2 . lilypond_header

    "\\header"  shift, and go to state 187

    lilypond_header  go to state 188


state 42

   19 toplevel_expression: embedded_scm_active .

    $default  reduce using rule 19 (toplevel_expression)


state 43

   24 embedded_scm_active: scm_function_call .

    $default  reduce using rule 24 (embedded_scm_active)


state 44

   58 assignment: assignment_id . '=' identifier_init
   59           | assignment_id . property_path '=' identifier_init
   60           | assignment_id . '.' property_path '=' identifier_init

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189
    '='             shift, and go to state 190
    '.'             shift, and go to state 191

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 193
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    property_path        go to state 196


state 45

    6 lilypond: lilypond assignment .

    $default  reduce using rule 6 (lilypond)


state 46

   11 toplevel_expression: book_block .

    $default  reduce using rule 11 (toplevel_expression)


state 47

   12 toplevel_expression: bookpart_block .

    $default  reduce using rule 12 (toplevel_expression)


state 48

   14 toplevel_expression: score_block .

    $default  reduce using rule 14 (toplevel_expression)


state 49

   20 toplevel_expression: output_def .

    $default  reduce using rule 20 (toplevel_expression)


state 50

  141 output_def_head_with_mode_switch: output_def_head .

    $default  reduce using rule 141 (output_def_head_with_mode_switch)


state 51

  144 output_def_body: output_def_head_with_mode_switch . '{'

    '{'  shift, and go to state 197


state 52

  137 output_def: output_def_body . '}'
  145 output_def_body: output_def_body . assignment
  146                | output_def_body . embedded_scm_active
  147                | output_def_body . SCM_TOKEN
  149                | output_def_body . @7 music_or_context_def
  150                | output_def_body . error

    error           shift, and go to state 198
    SCM_FUNCTION    shift, and go to state 35
    SCM_IDENTIFIER  shift, and go to state 36
    SCM_TOKEN       shift, and go to state 199
    STRING          shift, and go to state 38
    '}'             shift, and go to state 200

    "\\repeat"          reduce using rule 148 (@7)
    "\\change"          reduce using rule 148 (@7)
    "\\chordmode"       reduce using rule 148 (@7)
    "\\chords"          reduce using rule 148 (@7)
    "\\context"         reduce using rule 148 (@7)
    "\\drummode"        reduce using rule 148 (@7)
    "\\drums"           reduce using rule 148 (@7)
    "\\figuremode"      reduce using rule 148 (@7)
    "\\figures"         reduce using rule 148 (@7)
    "\\lyricmode"       reduce using rule 148 (@7)
    "\\lyrics"          reduce using rule 148 (@7)
    "\\lyricsto"        reduce using rule 148 (@7)
    "\\notemode"        reduce using rule 148 (@7)
    "\\override"        reduce using rule 148 (@7)
    "\\revert"          reduce using rule 148 (@7)
    "\\sequential"      reduce using rule 148 (@7)
    "\\set"             reduce using rule 148 (@7)
    "\\simultaneous"    reduce using rule 148 (@7)
    "\\tempo"           reduce using rule 148 (@7)
    "\\unset"           reduce using rule 148 (@7)
    "\\new"             reduce using rule 148 (@7)
    "<"                 reduce using rule 148 (@7)
    "<<"                reduce using rule 148 (@7)
    FIGURE_OPEN         reduce using rule 148 (@7)
    MULTI_MEASURE_REST  reduce using rule 148 (@7)
    CHORD_REPETITION    reduce using rule 148 (@7)
    DRUM_PITCH          reduce using rule 148 (@7)
    MUSIC_FUNCTION      reduce using rule 148 (@7)
    MUSIC_IDENTIFIER    reduce using rule 148 (@7)
    RESTNAME            reduce using rule 148 (@7)
    '{'                 reduce using rule 148 (@7)

    embedded_scm_active  go to state 201
    scm_function_call    go to state 43
    assignment_id        go to state 44
    assignment           go to state 202
    @7                   go to state 203


state 53

  172 sequential_music: braced_music_list .

    $default  reduce using rule 172 (sequential_music)


state 54

  196 basic_music: repeated_music .

    $default  reduce using rule 196 (basic_music)


state 55

  213 grouped_music_list: sequential_music .

    $default  reduce using rule 213 (grouped_music_list)


state 56

  212 grouped_music_list: simultaneous_music .

    $default  reduce using rule 212 (grouped_music_list)


state 57

  203 contexted_basic_music: context_prefix . contextable_music new_lyrics
  204                      | context_prefix . contextable_music
  205                      | context_prefix . contexted_basic_music

    "\\repeat"          shift, and go to state 7
    "\\chordmode"       shift, and go to state 10
    "\\chords"          shift, and go to state 11
    "\\context"         shift, and go to state 12
    "\\drummode"        shift, and go to state 13
    "\\drums"           shift, and go to state 14
    "\\figuremode"      shift, and go to state 15
    "\\figures"         shift, and go to state 16
    "\\lyricmode"       shift, and go to state 19
    "\\lyrics"          shift, and go to state 20
    "\\lyricsto"        shift, and go to state 21
    "\\notemode"        shift, and go to state 25
    "\\sequential"      shift, and go to state 28
    "\\simultaneous"    shift, and go to state 29
    "\\tempo"           shift, and go to state 89
    "\\new"             shift, and go to state 30
    "<"                 shift, and go to state 92
    "<<"                shift, and go to state 31
    FIGURE_OPEN         shift, and go to state 93
    MULTI_MEASURE_REST  shift, and go to state 94
    CHORD_REPETITION    shift, and go to state 95
    DRUM_PITCH          shift, and go to state 97
    PITCH_IDENTIFIER    shift, and go to state 98
    MUSIC_FUNCTION      shift, and go to state 33
    MUSIC_IDENTIFIER    shift, and go to state 34
    NOTENAME_PITCH      shift, and go to state 102
    RESTNAME            shift, and go to state 103
    TONICNAME_PITCH     shift, and go to state 108
    '{'                 shift, and go to state 39

    tempo_event                      go to state 122
    braced_music_list                go to state 53
    pitch_as_music                   go to state 204
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    context_prefix                   go to state 57
    basic_music                      go to state 205
    contextable_music                go to state 206
    contexted_basic_music            go to state 207
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    event_chord                      go to state 208
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    new_chord                        go to state 153


state 58

  206 composite_music: basic_music .
  208                | basic_music . new_lyrics

    "\\addlyrics"  shift, and go to state 210

    $default  reduce using rule 206 (composite_music)

    new_lyrics  go to state 211


state 59

  207 composite_music: contexted_basic_music .

    $default  reduce using rule 207 (composite_music)


state 60

   15 toplevel_expression: composite_music .

    $default  reduce using rule 15 (toplevel_expression)


state 61

  197 basic_music: music_bare .

    $default  reduce using rule 197 (basic_music)


state 62

  211 music_bare: grouped_music_list .

    $default  reduce using rule 211 (music_bare)


state 63

  195 basic_music: music_function_call .

    $default  reduce using rule 195 (basic_music)


state 64

  209 music_bare: mode_changed_music .

    $default  reduce using rule 209 (music_bare)


state 65

  303 mode_changed_music: mode_changing_head . grouped_music_list

    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "<<"              shift, and go to state 31
    '{'               shift, and go to state 39

    braced_music_list   go to state 53
    sequential_music    go to state 55
    simultaneous_music  go to state 56
    grouped_music_list  go to state 212


state 66

  304 mode_changed_music: mode_changing_head_with_context . optional_context_mod grouped_music_list

    "\\with"                shift, and go to state 91
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96

    $default  reduce using rule 185 (optional_context_mod)

    context_modification  go to state 213
    optional_context_mod  go to state 214


state 67

   17 toplevel_expression: full_markup_list .

    $default  reduce using rule 17 (toplevel_expression)


state 68

  509 full_markup: markup_mode . markup_top

    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_top              go to state 222
    markup_scm              go to state 223
    markup_list             go to state 224
    markup_uncomposed_list  go to state 225
    markup_composed_list    go to state 226
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 229
    markup_head_1_list      go to state 230
    simple_markup           go to state 231


state 69

   16 toplevel_expression: full_markup .

    $default  reduce using rule 16 (toplevel_expression)


state 70

   51 embedded_lilypond: error .

    $default  reduce using rule 51 (embedded_lilypond)


state 71

  435 tremolo_type: ':' .
  436             | ':' . UNSIGNED

    UNSIGNED  shift, and go to state 232

    $default  reduce using rule 435 (tremolo_type)


state 72

  384 post_event_nofinger: '^' . fingering
  422 script_dir: '^' .

    UNSIGNED  shift, and go to state 233

    $default  reduce using rule 422 (script_dir)

    fingering  go to state 234


state 73

  385 post_event_nofinger: '_' . fingering
  421 script_dir: '_' .

    UNSIGNED  shift, and go to state 233

    $default  reduce using rule 421 (script_dir)

    fingering  go to state 235


state 74

  429 steno_duration: DURATION_IDENTIFIER . dots

    $default  reduce using rule 433 (dots)

    dots  go to state 236


state 75

  381 post_event_nofinger: "__" .

    $default  reduce using rule 381 (post_event_nofinger)


state 76

  380 post_event_nofinger: "--" .

    $default  reduce using rule 380 (post_event_nofinger)


state 77

   79 partial_function: EVENT_FUNCTION . function_arglist_partial
   84                 | EVENT_FUNCTION . "scheme?" function_arglist_optional partial_function
   89                 | EVENT_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function
  375 event_function_event: EVENT_FUNCTION . function_arglist

    "scheme?"            shift, and go to state 237
    "optional?"          shift, and go to state 238
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 239
    function_arglist_partial            go to state 240
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 78

  390 direction_less_event: EVENT_IDENTIFIER .

    $default  reduce using rule 390 (direction_less_event)


state 79

  388 string_number_event: E_UNSIGNED .

    $default  reduce using rule 388 (string_number_event)


state 80

  493 bare_number_common: REAL .
  495                   | REAL . NUMBER_IDENTIFIER

    NUMBER_IDENTIFIER  shift, and go to state 241

    $default  reduce using rule 493 (bare_number_common)


state 81

   44 embedded_lilypond_number: UNSIGNED . NUMBER_IDENTIFIER
  428 steno_duration: UNSIGNED . dots

    NUMBER_IDENTIFIER  shift, and go to state 242

    $default  reduce using rule 433 (dots)

    dots  go to state 243


state 82

  494 bare_number_common: NUMBER_IDENTIFIER .

    $default  reduce using rule 494 (bare_number_common)


state 83

  314 context_change: "\\change" . symbol '=' simple_string

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 164

    embedded_scm_bare  go to state 165
    symbol             go to state 244


state 84

   91 context_def_spec_block: "\\context" . '{' context_def_spec_body '}'
  191 context_prefix: "\\context" . symbol optional_id optional_context_mod

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 164
    '{'             shift, and go to state 245

    embedded_scm_bare  go to state 165
    symbol             go to state 166


state 85

   52 embedded_lilypond: "\\version-error" . embedded_lilypond

    error                   shift, and go to state 70
    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 74
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 81
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\version-error"       shift, and go to state 85
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 99
    LYRIC_ELEMENT           shift, and go to state 100
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 107
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 109
    '{'                     shift, and go to state 39

    "end of input"  reduce using rule 45 (embedded_lilypond)

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 111
    scm_function_call                 go to state 112
    embedded_lilypond_number          go to state 113
    embedded_lilypond                 go to state 246
    identifier_init_nonumber          go to state 115
    partial_function                  go to state 116
    context_def_spec_block            go to state 117
    book_block                        go to state 118
    bookpart_block                    go to state 119
    score_block                       go to state 120
    output_def                        go to state 121
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music                             go to state 123
    pitch_as_music                    go to state 124
    music_embedded                    go to state 125
    music_embedded_backup             go to state 126
    music_assign                      go to state 127
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 129
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 133
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 138
    post_event                        go to state 139
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    script_dir                        go to state 145
    steno_duration                    go to state 146
    multiplied_duration               go to state 147
    tremolo_type                      go to state 148
    pitch_or_music                    go to state 149
    simple_element                    go to state 150
    lyric_element                     go to state 151
    lyric_element_music               go to state 152
    new_chord                         go to state 153
    bare_number_common                go to state 154
    full_markup_list                  go to state 155
    markup_mode                       go to state 156
    full_markup                       go to state 157
    partial_markup                    go to state 158


state 86

   81 partial_function: "\\override" . grob_prop_path '='
   86                 | "\\override" . grob_prop_path '=' partial_function
  343 music_property_def: "\\override" . grob_prop_path '=' scalar

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 247
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    grob_prop_spec       go to state 248
    grob_prop_path       go to state 249


state 87

  344 music_property_def: "\\revert" . simple_revert_context revert_arg

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare      go to state 192
    symbol_list_part       go to state 250
    symbol_list_element    go to state 195
    simple_revert_context  go to state 251


state 88

   82 partial_function: "\\set" . context_prop_spec '='
   87                 | "\\set" . context_prop_spec '=' partial_function
  345 music_property_def: "\\set" . context_prop_spec '=' scalar

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 252
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    context_prop_spec    go to state 253


state 89

  151 tempo_event: "\\tempo" . steno_duration '=' tempo_range
  152            | "\\tempo" . scalar steno_duration '=' tempo_range
  153            | "\\tempo" . scalar

    "\\repeat"              shift, and go to state 7
    DURATION_IDENTIFIER     shift, and go to state 74
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 254
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 274
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    steno_duration                    go to state 275
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 90

  346 music_property_def: "\\unset" . context_prop_spec

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 252
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    context_prop_spec    go to state 282


state 91

  179 context_modification: "\\with" . @8 '{' context_mod_list '}'
  180                     | "\\with" . CONTEXT_MOD_IDENTIFIER
  182                     | "\\with" . context_modification_arg

    CONTEXT_MOD_IDENTIFIER  shift, and go to state 283
    MUSIC_IDENTIFIER        shift, and go to state 284
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106

    $default  reduce using rule 178 (@8)

    embedded_scm_bare         go to state 110
    embedded_scm              go to state 285
    scm_function_call         go to state 112
    @8                        go to state 286
    context_modification_arg  go to state 287


state 92

  365 chord_body: "<" . chord_body_elements ">"

    $default  reduce using rule 367 (chord_body_elements)

    chord_body_elements  go to state 288


state 93

  366 chord_body: FIGURE_OPEN . figure_list FIGURE_CLOSE

    $default  reduce using rule 455 (figure_list)

    figure_list  go to state 289


state 94

  361 event_chord: MULTI_MEASURE_REST . optional_notemode_duration post_events

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 292
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 95

  360 event_chord: CHORD_REPETITION . optional_notemode_duration post_events

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 294
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 96

  181 context_modification: CONTEXT_MOD_IDENTIFIER .

    $default  reduce using rule 181 (context_modification)


state 97

  461 simple_element: DRUM_PITCH . optional_notemode_duration

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 295
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 98

  407 pitch: PITCH_IDENTIFIER . quotes

    '''  shift, and go to state 296
    ','  shift, and go to state 297

    $default  reduce using rule 397 (quotes)

    quotes      go to state 298
    sup_quotes  go to state 299
    sub_quotes  go to state 300


state 99

   71 identifier_init_nonumber: FRACTION .

    $default  reduce using rule 71 (identifier_init_nonumber)


state 100

  465 lyric_element: LYRIC_ELEMENT .

    $default  reduce using rule 465 (lyric_element)


state 101

   78 partial_function: MUSIC_FUNCTION . function_arglist_partial
   83                 | MUSIC_FUNCTION . "scheme?" function_arglist_optional partial_function
   88                 | MUSIC_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function
  297 music_function_call: MUSIC_FUNCTION . function_arglist

    "scheme?"            shift, and go to state 301
    "optional?"          shift, and go to state 302
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 182
    function_arglist_partial            go to state 303
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 102

  404 steno_pitch: NOTENAME_PITCH . quotes

    '''  shift, and go to state 296
    ','  shift, and go to state 297

    $default  reduce using rule 397 (quotes)

    quotes      go to state 304
    sup_quotes  go to state 299
    sub_quotes  go to state 300


state 103

  462 simple_element: RESTNAME . optional_notemode_duration

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 305
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 104

   41 scm_function_call: SCM_FUNCTION . function_arglist
   80 partial_function: SCM_FUNCTION . function_arglist_partial
   85                 | SCM_FUNCTION . "scheme?" function_arglist_optional partial_function
   90                 | SCM_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function

    "scheme?"            shift, and go to state 306
    "optional?"          shift, and go to state 307
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 185
    function_arglist_partial            go to state 308
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 105

   22 embedded_scm_bare: SCM_IDENTIFIER .

    $default  reduce using rule 22 (embedded_scm_bare)


state 106

   21 embedded_scm_bare: SCM_TOKEN .

    $default  reduce using rule 21 (embedded_scm_bare)


state 107

  347 string: STRING .
  464 lyric_element: STRING .

    "end of input"  reduce using rule 347 (string)
    $default        reduce using rule 464 (lyric_element)


state 108

  405 steno_tonic_pitch: TONICNAME_PITCH . quotes

    '''  shift, and go to state 296
    ','  shift, and go to state 297

    $default  reduce using rule 397 (quotes)

    quotes      go to state 309
    sup_quotes  go to state 299
    sub_quotes  go to state 300


state 109

   42 embedded_lilypond_number: '-' . embedded_lilypond_number
  387 post_event: '-' . fingering
  423 script_dir: '-' .

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 310
    NUMBER_IDENTIFIER  shift, and go to state 82

    $default  reduce using rule 423 (script_dir)

    embedded_lilypond_number  go to state 312
    fingering                 go to state 313
    bare_number_common        go to state 154


state 110

   36 embedded_scm: embedded_scm_bare .

    $default  reduce using rule 36 (embedded_scm)


state 111

   73 identifier_init_nonumber: embedded_scm .
  166 music_embedded_backup: embedded_scm .

    "end of input"  reduce using rule 73 (identifier_init_nonumber)
    $default        reduce using rule 166 (music_embedded_backup)


state 112

   37 embedded_scm: scm_function_call .

    $default  reduce using rule 37 (embedded_scm)


state 113

   47 embedded_lilypond: embedded_lilypond_number .

    $default  reduce using rule 47 (embedded_lilypond)


state 114

    3 start_symbol: "#{" @1 embedded_lilypond .

    $default  reduce using rule 3 (start_symbol)


state 115

   46 embedded_lilypond: identifier_init_nonumber .

    $default  reduce using rule 46 (embedded_lilypond)


state 116

   77 identifier_init_nonumber: partial_function . "\\etc"

    "\\etc"  shift, and go to state 314


state 117

   68 identifier_init_nonumber: context_def_spec_block .

    $default  reduce using rule 68 (identifier_init_nonumber)


state 118

   65 identifier_init_nonumber: book_block .

    $default  reduce using rule 65 (identifier_init_nonumber)


state 119

   66 identifier_init_nonumber: bookpart_block .

    $default  reduce using rule 66 (identifier_init_nonumber)


state 120

   64 identifier_init_nonumber: score_block .

    $default  reduce using rule 64 (identifier_init_nonumber)


state 121

   67 identifier_init_nonumber: output_def .

    $default  reduce using rule 67 (identifier_init_nonumber)


state 122

  362 event_chord: tempo_event .

    $default  reduce using rule 362 (event_chord)


state 123

  162 music_embedded: music .

    $default  reduce using rule 162 (music_embedded)


state 124

  160 music: pitch_as_music .

    $default  reduce using rule 160 (music)


state 125

   50 embedded_lilypond: music_embedded . music_embedded music_list

    "\\repeat"           shift, and go to state 7
    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290
    "\\change"           shift, and go to state 83
    "\\chordmode"        shift, and go to state 10
    "\\chords"           shift, and go to state 11
    "\\context"          shift, and go to state 12
    "\\drummode"         shift, and go to state 13
    "\\drums"            shift, and go to state 14
    "\\figuremode"       shift, and go to state 15
    "\\figures"          shift, and go to state 16
    "\\lyricmode"        shift, and go to state 19
    "\\lyrics"           shift, and go to state 20
    "\\lyricsto"         shift, and go to state 21
    "\\markup"           shift, and go to state 22
    "\\notemode"         shift, and go to state 25
    "\\override"         shift, and go to state 255
    "\\revert"           shift, and go to state 87
    "\\sequential"       shift, and go to state 28
    "\\set"              shift, and go to state 256
    "\\simultaneous"     shift, and go to state 29
    "\\tempo"            shift, and go to state 89
    "\\unset"            shift, and go to state 90
    "\\new"              shift, and go to state 30
    "<"                  shift, and go to state 92
    "<<"                 shift, and go to state 31
    FIGURE_OPEN          shift, and go to state 93
    MULTI_MEASURE_REST   shift, and go to state 94
    CHORD_REPETITION     shift, and go to state 95
    DRUM_PITCH           shift, and go to state 97
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    MUSIC_FUNCTION       shift, and go to state 33
    MUSIC_IDENTIFIER     shift, and go to state 34
    NOTENAME_PITCH       shift, and go to state 102
    RESTNAME             shift, and go to state 103
    SCM_FUNCTION         shift, and go to state 35
    SCM_IDENTIFIER       shift, and go to state 105
    SCM_TOKEN            shift, and go to state 106
    STRING               shift, and go to state 315
    TONICNAME_PITCH      shift, and go to state 108
    '{'                  shift, and go to state 39

    embedded_scm_bare                go to state 110
    embedded_scm                     go to state 316
    scm_function_call                go to state 112
    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music                            go to state 123
    pitch_as_music                   go to state 124
    music_embedded                   go to state 317
    music_embedded_backup            go to state 126
    music_assign                     go to state 318
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    steno_duration                   go to state 146
    multiplied_duration              go to state 319
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    lyric_element                    go to state 151
    lyric_element_music              go to state 152
    new_chord                        go to state 153
    markup_mode                      go to state 68
    full_markup                      go to state 320


state 126

  163 music_embedded: music_embedded_backup .
  164               | music_embedded_backup . "(backed-up?)" lyric_element_music

    "(backed-up?)"  shift, and go to state 321

    $default  reduce using rule 163 (music_embedded)


state 127

   69 identifier_init_nonumber: music_assign .
  158 music: music_assign .

    "end of input"  reduce using rule 69 (identifier_init_nonumber)
    $default        reduce using rule 158 (music)


state 128

  167 music_assign: simple_music .

    $default  reduce using rule 167 (music_assign)


state 129

   76 identifier_init_nonumber: context_modification .

    $default  reduce using rule 76 (identifier_init_nonumber)


state 130

  168 music_assign: composite_music .

    $default  reduce using rule 168 (music_assign)


state 131

  177 simple_music: context_change .

    $default  reduce using rule 177 (simple_music)


state 132

  176 simple_music: music_property_def .

    $default  reduce using rule 176 (simple_music)


state 133

   72 identifier_init_nonumber: string .

    $default  reduce using rule 72 (identifier_init_nonumber)


state 134

  175 simple_music: event_chord .

    $default  reduce using rule 175 (simple_music)


state 135

  363 event_chord: note_chord_element .

    $default  reduce using rule 363 (event_chord)


state 136

  364 note_chord_element: chord_body . optional_notemode_duration post_events

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 322
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 137

  392 direction_less_event: event_function_event .

    $default  reduce using rule 392 (direction_less_event)


state 138

  386 post_event: post_event_nofinger .

    $default  reduce using rule 386 (post_event)


state 139

   48 embedded_lilypond: post_event . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 323


state 140

  389 direction_less_event: string_number_event .

    $default  reduce using rule 389 (direction_less_event)


state 141

  378 post_event_nofinger: direction_less_event .

    $default  reduce using rule 378 (post_event_nofinger)


state 142

  406 pitch: steno_pitch .

    $default  reduce using rule 406 (pitch)


state 143

  467 new_chord: steno_tonic_pitch . maybe_notemode_duration
  468          | steno_tonic_pitch . optional_notemode_duration chord_separator chord_items

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 324
    optional_notemode_duration  go to state 325
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 144

  459 pitch_or_music: pitch . exclamations questions octave_check maybe_notemode_duration optional_rest post_events

    $default  reduce using rule 502 (exclamations)

    exclamations  go to state 326


state 145

  379 post_event_nofinger: script_dir . music_function_call
  382                    | script_dir . direction_reqd_event
  383                    | script_dir . direction_less_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 327
    '_'               shift, and go to state 328
    '!'               shift, and go to state 329
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    "\\markup"        shift, and go to state 22
    ">"               shift, and go to state 331
    MUSIC_FUNCTION    shift, and go to state 33
    SCM_FUNCTION      shift, and go to state 35
    SCM_IDENTIFIER    shift, and go to state 105
    SCM_TOKEN         shift, and go to state 106
    STRING            shift, and go to state 332
    '-'               shift, and go to state 333
    '+'               shift, and go to state 334
    '.'               shift, and go to state 335

    embedded_scm_bare     go to state 110
    embedded_scm          go to state 336
    scm_function_call     go to state 112
    music_function_call   go to state 337
    event_function_event  go to state 137
    string_number_event   go to state 140
    direction_less_event  go to state 338
    direction_reqd_event  go to state 339
    gen_text_def          go to state 340
    script_abbreviation   go to state 341
    tremolo_type          go to state 148
    markup_mode           go to state 68
    full_markup           go to state 342


state 146

  430 multiplied_duration: steno_duration .

    $default  reduce using rule 430 (multiplied_duration)


state 147

   49 embedded_lilypond: multiplied_duration .
  165 music_embedded: multiplied_duration . post_events
  431 multiplied_duration: multiplied_duration . '*' UNSIGNED
  432                    | multiplied_duration . '*' FRACTION

    '*'  shift, and go to state 343

    "end of input"  reduce using rule 49 (embedded_lilypond)
    $default        reduce using rule 376 (post_events)

    post_events  go to state 344


state 148

  391 direction_less_event: tremolo_type .

    $default  reduce using rule 391 (direction_less_event)


state 149

   70 identifier_init_nonumber: pitch_or_music .
  161 pitch_as_music: pitch_or_music .

    "end of input"  reduce using rule 70 (identifier_init_nonumber)
    $default        reduce using rule 161 (pitch_as_music)


state 150

  359 event_chord: simple_element . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 345


state 151

  466 lyric_element_music: lyric_element . optional_notemode_duration post_events

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration     go to state 291
    optional_notemode_duration  go to state 346
    steno_duration              go to state 146
    multiplied_duration         go to state 293


state 152

  159 music: lyric_element_music .

    $default  reduce using rule 159 (music)


state 153

  460 pitch_or_music: new_chord . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 347


state 154

   43 embedded_lilypond_number: bare_number_common .

    $default  reduce using rule 43 (embedded_lilypond_number)


state 155

   75 identifier_init_nonumber: full_markup_list .

    $default  reduce using rule 75 (identifier_init_nonumber)


state 156

  509 full_markup: markup_mode . markup_top
  510 partial_markup: markup_mode . markup_head_1_list "\\etc"

    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_top              go to state 222
    markup_scm              go to state 223
    markup_list             go to state 224
    markup_uncomposed_list  go to state 225
    markup_composed_list    go to state 226
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 229
    markup_head_1_list      go to state 348
    simple_markup           go to state 231


state 157

  348 string: full_markup .
  463 lyric_element: full_markup .

    "end of input"  reduce using rule 348 (string)
    $default        reduce using rule 463 (lyric_element)


state 158

   74 identifier_init_nonumber: partial_markup .

    $default  reduce using rule 74 (identifier_init_nonumber)


state 159

  349 simple_string: STRING .

    $default  reduce using rule 349 (simple_string)


state 160

  350 simple_string: embedded_scm_bare .

    $default  reduce using rule 350 (simple_string)


state 161

  169 repeated_music: "\\repeat" simple_string . unsigned_number music
  170               | "\\repeat" simple_string . unsigned_number music "\\alternative" braced_music_list

    UNSIGNED           shift, and go to state 349
    NUMBER_IDENTIFIER  shift, and go to state 350
    SCM_FUNCTION       shift, and go to state 35
    SCM_IDENTIFIER     shift, and go to state 105
    SCM_TOKEN          shift, and go to state 106

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 351
    scm_function_call  go to state 112
    unsigned_number    go to state 352


state 162

   99 book_block: "\\book" '{' . book_body '}'

    BOOK_IDENTIFIER  shift, and go to state 353

    $default  reduce using rule 100 (book_body)

    book_body  go to state 354


state 163

  113 bookpart_block: "\\bookpart" '{' . bookpart_body '}'

    BOOK_IDENTIFIER  shift, and go to state 355

    $default  reduce using rule 114 (bookpart_body)

    bookpart_body  go to state 356


state 164

  351 symbol: STRING .

    $default  reduce using rule 351 (symbol)


state 165

  352 symbol: embedded_scm_bare .

    $default  reduce using rule 352 (symbol)


state 166

  191 context_prefix: "\\context" symbol . optional_id optional_context_mod

    '='  shift, and go to state 357

    $default  reduce using rule 298 (optional_id)

    optional_id  go to state 358


state 167

  349 simple_string: STRING .
  351 symbol: STRING .

    '='       reduce using rule 351 (symbol)
    $default  reduce using rule 349 (simple_string)


state 168

  350 simple_string: embedded_scm_bare .
  352 symbol: embedded_scm_bare .

    '='       reduce using rule 352 (symbol)
    $default  reduce using rule 350 (simple_string)


state 169

  198 basic_music: "\\lyricsto" simple_string . lyric_mode_music

    MUSIC_IDENTIFIER  shift, and go to state 359

    $default  reduce using rule 300 (@9)

    lyric_mode_music  go to state 360
    @9                go to state 361


state 170

  199 basic_music: "\\lyricsto" symbol . '=' simple_string lyric_mode_music

    '='  shift, and go to state 362


state 171

  507 full_markup_list: "\\markuplist" @10 . markup_list

    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 363
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 364
    markup_list             go to state 365
    markup_uncomposed_list  go to state 225
    markup_composed_list    go to state 226
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 229
    markup_head_1_list      go to state 366


state 172

  126 score_block: "\\score" '{' . score_body '}'

    $default  reduce using rule 132 (score_items)

    score_body   go to state 367
    score_items  go to state 368


state 173

  171 sequential_music: "\\sequential" braced_music_list .

    $default  reduce using rule 171 (sequential_music)


state 174

  173 simultaneous_music: "\\simultaneous" braced_music_list .

    $default  reduce using rule 173 (simultaneous_music)


state 175

  192 context_prefix: "\\new" symbol . optional_id optional_context_mod

    '='  shift, and go to state 357

    $default  reduce using rule 298 (optional_id)

    optional_id  go to state 369


state 176

  155 music_list: music_list . music_embedded
  156           | music_list . error
  174 simultaneous_music: "<<" music_list . ">>"

    error                shift, and go to state 370
    "\\repeat"           shift, and go to state 7
    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290
    "\\change"           shift, and go to state 83
    "\\chordmode"        shift, and go to state 10
    "\\chords"           shift, and go to state 11
    "\\context"          shift, and go to state 12
    "\\drummode"         shift, and go to state 13
    "\\drums"            shift, and go to state 14
    "\\figuremode"       shift, and go to state 15
    "\\figures"          shift, and go to state 16
    "\\lyricmode"        shift, and go to state 19
    "\\lyrics"           shift, and go to state 20
    "\\lyricsto"         shift, and go to state 21
    "\\markup"           shift, and go to state 22
    "\\notemode"         shift, and go to state 25
    "\\override"         shift, and go to state 255
    "\\revert"           shift, and go to state 87
    "\\sequential"       shift, and go to state 28
    "\\set"              shift, and go to state 256
    "\\simultaneous"     shift, and go to state 29
    "\\tempo"            shift, and go to state 89
    "\\unset"            shift, and go to state 90
    "\\new"              shift, and go to state 30
    "<"                  shift, and go to state 92
    "<<"                 shift, and go to state 31
    ">>"                 shift, and go to state 371
    FIGURE_OPEN          shift, and go to state 93
    MULTI_MEASURE_REST   shift, and go to state 94
    CHORD_REPETITION     shift, and go to state 95
    DRUM_PITCH           shift, and go to state 97
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    MUSIC_FUNCTION       shift, and go to state 33
    MUSIC_IDENTIFIER     shift, and go to state 34
    NOTENAME_PITCH       shift, and go to state 102
    RESTNAME             shift, and go to state 103
    SCM_FUNCTION         shift, and go to state 35
    SCM_IDENTIFIER       shift, and go to state 105
    SCM_TOKEN            shift, and go to state 106
    STRING               shift, and go to state 315
    TONICNAME_PITCH      shift, and go to state 108
    '{'                  shift, and go to state 39

    embedded_scm_bare                go to state 110
    embedded_scm                     go to state 316
    scm_function_call                go to state 112
    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music                            go to state 123
    pitch_as_music                   go to state 124
    music_embedded                   go to state 372
    music_embedded_backup            go to state 126
    music_assign                     go to state 318
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    steno_duration                   go to state 146
    multiplied_duration              go to state 319
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    lyric_element                    go to state 151
    lyric_element_music              go to state 152
    new_chord                        go to state 153
    markup_mode                      go to state 68
    full_markup                      go to state 320


state 177

  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 373
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup          go to state 374
    function_arglist_common          go to state 375
    function_arglist_common_reparse  go to state 184
    function_arglist_optional        go to state 376
    function_arglist_skip_backup     go to state 377


state 178

  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" . "scheme?" function_arglist_skip_nonbackup "\\default"

    "scheme?"  shift, and go to state 378


state 179

  272 function_arglist_common: EXPECT_NO_MORE_ARGS .

    $default  reduce using rule 272 (function_arglist_common)


state 180

  260 function_arglist: function_arglist_nonbackup .

    $default  reduce using rule 260 (function_arglist)


state 181

  228 function_arglist_nonbackup: function_arglist_nonbackup_reparse . "(reparsed?)" pitch_or_music
  229                           | function_arglist_nonbackup_reparse . "(reparsed?)" duration_length
  230                           | function_arglist_nonbackup_reparse . "(reparsed?)" bare_number_common
  231                           | function_arglist_nonbackup_reparse . "(reparsed?)" SCM_ARG
  232                           | function_arglist_nonbackup_reparse . "(reparsed?)" lyric_element_music
  233                           | function_arglist_nonbackup_reparse . "(reparsed?)" symbol_list_arg

    "(reparsed?)"  shift, and go to state 379


state 182

  297 music_function_call: MUSIC_FUNCTION function_arglist .

    $default  reduce using rule 297 (music_function_call)


state 183

  221 function_arglist_nonbackup: function_arglist_common .

    $default  reduce using rule 221 (function_arglist_nonbackup)


state 184

  277 function_arglist_common: function_arglist_common_reparse . "(reparsed?)" SCM_ARG
  278                        | function_arglist_common_reparse . "(reparsed?)" lyric_element_music
  279                        | function_arglist_common_reparse . "(reparsed?)" pitch_or_music
  280                        | function_arglist_common_reparse . "(reparsed?)" bare_number_common
  281                        | function_arglist_common_reparse . "(reparsed?)" duration_length
  282                        | function_arglist_common_reparse . "(reparsed?)" symbol_list_arg

    "(reparsed?)"  shift, and go to state 380


state 185

   41 scm_function_call: SCM_FUNCTION function_arglist .

    $default  reduce using rule 41 (scm_function_call)


state 186

  155 music_list: music_list . music_embedded
  156           | music_list . error
  157 braced_music_list: '{' music_list . '}'

    error                shift, and go to state 370
    "\\repeat"           shift, and go to state 7
    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290
    "\\change"           shift, and go to state 83
    "\\chordmode"        shift, and go to state 10
    "\\chords"           shift, and go to state 11
    "\\context"          shift, and go to state 12
    "\\drummode"         shift, and go to state 13
    "\\drums"            shift, and go to state 14
    "\\figuremode"       shift, and go to state 15
    "\\figures"          shift, and go to state 16
    "\\lyricmode"        shift, and go to state 19
    "\\lyrics"           shift, and go to state 20
    "\\lyricsto"         shift, and go to state 21
    "\\markup"           shift, and go to state 22
    "\\notemode"         shift, and go to state 25
    "\\override"         shift, and go to state 255
    "\\revert"           shift, and go to state 87
    "\\sequential"       shift, and go to state 28
    "\\set"              shift, and go to state 256
    "\\simultaneous"     shift, and go to state 29
    "\\tempo"            shift, and go to state 89
    "\\unset"            shift, and go to state 90
    "\\new"              shift, and go to state 30
    "<"                  shift, and go to state 92
    "<<"                 shift, and go to state 31
    FIGURE_OPEN          shift, and go to state 93
    MULTI_MEASURE_REST   shift, and go to state 94
    CHORD_REPETITION     shift, and go to state 95
    DRUM_PITCH           shift, and go to state 97
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    MUSIC_FUNCTION       shift, and go to state 33
    MUSIC_IDENTIFIER     shift, and go to state 34
    NOTENAME_PITCH       shift, and go to state 102
    RESTNAME             shift, and go to state 103
    SCM_FUNCTION         shift, and go to state 35
    SCM_IDENTIFIER       shift, and go to state 105
    SCM_TOKEN            shift, and go to state 106
    STRING               shift, and go to state 315
    TONICNAME_PITCH      shift, and go to state 108
    '{'                  shift, and go to state 39
    '}'                  shift, and go to state 381

    embedded_scm_bare                go to state 110
    embedded_scm                     go to state 316
    scm_function_call                go to state 112
    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music                            go to state 123
    pitch_as_music                   go to state 124
    music_embedded                   go to state 372
    music_embedded_backup            go to state 126
    music_assign                     go to state 318
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    steno_duration                   go to state 146
    multiplied_duration              go to state 319
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    lyric_element                    go to state 151
    lyric_element_music              go to state 152
    new_chord                        go to state 153
    markup_mode                      go to state 68
    full_markup                      go to state 320


state 187

   56 lilypond_header: "\\header" . '{' lilypond_header_body '}'

    '{'  shift, and go to state 382


state 188

   10 toplevel_expression: @2 lilypond_header .

    $default  reduce using rule 10 (toplevel_expression)


state 189

  219 symbol_list_element: STRING .

    $default  reduce using rule 219 (symbol_list_element)


state 190

   58 assignment: assignment_id '=' . identifier_init

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 99
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 384
    '{'                     shift, and go to state 39

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 385
    scm_function_call                 go to state 112
    identifier_init                   go to state 386
    identifier_init_nonumber          go to state 387
    partial_function                  go to state 116
    context_def_spec_block            go to state 117
    book_block                        go to state 118
    bookpart_block                    go to state 119
    score_block                       go to state 120
    output_def                        go to state 121
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 388
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 129
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 133
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 389
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    pitch_or_music                    go to state 390
    simple_element                    go to state 150
    new_chord                         go to state 153
    number_expression                 go to state 391
    number_term                       go to state 392
    number_factor                     go to state 393
    bare_number_common                go to state 277
    bare_number                       go to state 394
    full_markup_list                  go to state 155
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 158


state 191

   60 assignment: assignment_id '.' . property_path '=' identifier_init

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 193
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    property_path        go to state 395


state 192

  220 symbol_list_element: embedded_scm_bare .

    $default  reduce using rule 220 (symbol_list_element)


state 193

  217 symbol_list_rev: symbol_list_rev . '.' symbol_list_part
  315 property_path: symbol_list_rev .
  316              | symbol_list_rev . property_path

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189
    '.'             shift, and go to state 396

    $default  reduce using rule 315 (property_path)

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 193
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    property_path        go to state 397


state 194

  216 symbol_list_rev: symbol_list_part .

    $default  reduce using rule 216 (symbol_list_rev)


state 195

  218 symbol_list_part: symbol_list_element .

    $default  reduce using rule 218 (symbol_list_part)


state 196

   59 assignment: assignment_id property_path . '=' identifier_init

    '='  shift, and go to state 398


state 197

  144 output_def_body: output_def_head_with_mode_switch '{' .

    $default  reduce using rule 144 (output_def_body)


state 198

  150 output_def_body: output_def_body error .

    $default  reduce using rule 150 (output_def_body)


state 199

  147 output_def_body: output_def_body SCM_TOKEN .

    $default  reduce using rule 147 (output_def_body)


state 200

  137 output_def: output_def_body '}' .

    $default  reduce using rule 137 (output_def)


state 201

  146 output_def_body: output_def_body embedded_scm_active .

    $default  reduce using rule 146 (output_def_body)


state 202

  145 output_def_body: output_def_body assignment .

    $default  reduce using rule 145 (output_def_body)


state 203

  149 output_def_body: output_def_body @7 . music_or_context_def

    "\\repeat"          shift, and go to state 7
    "\\change"          shift, and go to state 83
    "\\chordmode"       shift, and go to state 10
    "\\chords"          shift, and go to state 11
    "\\context"         shift, and go to state 84
    "\\drummode"        shift, and go to state 13
    "\\drums"           shift, and go to state 14
    "\\figuremode"      shift, and go to state 15
    "\\figures"         shift, and go to state 16
    "\\lyricmode"       shift, and go to state 19
    "\\lyrics"          shift, and go to state 20
    "\\lyricsto"        shift, and go to state 21
    "\\notemode"        shift, and go to state 25
    "\\override"        shift, and go to state 255
    "\\revert"          shift, and go to state 87
    "\\sequential"      shift, and go to state 28
    "\\set"             shift, and go to state 256
    "\\simultaneous"    shift, and go to state 29
    "\\tempo"           shift, and go to state 89
    "\\unset"           shift, and go to state 90
    "\\new"             shift, and go to state 30
    "<"                 shift, and go to state 92
    "<<"                shift, and go to state 31
    FIGURE_OPEN         shift, and go to state 93
    MULTI_MEASURE_REST  shift, and go to state 94
    CHORD_REPETITION    shift, and go to state 95
    DRUM_PITCH          shift, and go to state 97
    MUSIC_FUNCTION      shift, and go to state 33
    MUSIC_IDENTIFIER    shift, and go to state 34
    RESTNAME            shift, and go to state 103
    '{'                 shift, and go to state 39

    context_def_spec_block           go to state 399
    music_or_context_def             go to state 400
    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music_assign                     go to state 401
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    simple_element                   go to state 150


state 204

  201 contextable_music: pitch_as_music .

    $default  reduce using rule 201 (contextable_music)


state 205

  200 contextable_music: basic_music .

    $default  reduce using rule 200 (contextable_music)


state 206

  203 contexted_basic_music: context_prefix contextable_music . new_lyrics
  204                      | context_prefix contextable_music .

    "\\addlyrics"  shift, and go to state 210

    $default  reduce using rule 204 (contexted_basic_music)

    new_lyrics  go to state 402


state 207

  205 contexted_basic_music: context_prefix contexted_basic_music .

    $default  reduce using rule 205 (contexted_basic_music)


state 208

  202 contextable_music: event_chord .

    $default  reduce using rule 202 (contextable_music)


state 209

  161 pitch_as_music: pitch_or_music .

    $default  reduce using rule 161 (pitch_as_music)


state 210

  193 new_lyrics: "\\addlyrics" . lyric_mode_music

    MUSIC_IDENTIFIER  shift, and go to state 359

    $default  reduce using rule 300 (@9)

    lyric_mode_music  go to state 403
    @9                go to state 361


state 211

  194 new_lyrics: new_lyrics . "\\addlyrics" lyric_mode_music
  208 composite_music: basic_music new_lyrics .

    "\\addlyrics"  shift, and go to state 404

    $default  reduce using rule 208 (composite_music)


state 212

  303 mode_changed_music: mode_changing_head grouped_music_list .

    $default  reduce using rule 303 (mode_changed_music)


state 213

  186 optional_context_mod: context_modification .

    $default  reduce using rule 186 (optional_context_mod)


state 214

  304 mode_changed_music: mode_changing_head_with_context optional_context_mod . grouped_music_list

    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "<<"              shift, and go to state 31
    '{'               shift, and go to state 39

    braced_music_list   go to state 53
    sequential_music    go to state 55
    simultaneous_music  go to state 56
    grouped_music_list  go to state 405


state 215

  539 simple_markup: "\\score" . @13 '{' score_body '}'

    $default  reduce using rule 538 (@13)

    @13  go to state 406


state 216

  522 markup_uncomposed_list: "\\score-lines" . @12 '{' score_body '}'

    $default  reduce using rule 521 (@12)

    @12  go to state 407


state 217

  534 markup_head_1_item: MARKUP_FUNCTION . "markup?" markup_command_list_arguments
  540 simple_markup: MARKUP_FUNCTION . markup_command_basic_arguments

    "markup?"            shift, and go to state 408
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 412


state 218

  528 markup_command_list: MARKUP_LIST_FUNCTION . markup_command_list_arguments

    "markup?"            shift, and go to state 413
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 414
    markup_command_list_arguments   go to state 415


state 219

  537 simple_markup: STRING .

    $default  reduce using rule 537 (simple_markup)


state 220

  524 markup_braced_list: '{' . markup_braced_list_body '}'

    $default  reduce using rule 525 (markup_braced_list_body)

    markup_braced_list_body  go to state 416


state 221

  515 markup_scm: embedded_scm_bare . @11 "(backed-up?)"

    $default  reduce using rule 514 (@11)

    @11  go to state 417


state 222

  509 full_markup: markup_mode markup_top .

    $default  reduce using rule 509 (full_markup)


state 223

  520 markup_uncomposed_list: markup_scm . MARKUPLIST_IDENTIFIER
  541 simple_markup: markup_scm . MARKUP_IDENTIFIER

    MARKUP_IDENTIFIER      shift, and go to state 418
    MARKUPLIST_IDENTIFIER  shift, and go to state 419


state 224

  511 markup_top: markup_list .

    $default  reduce using rule 511 (markup_top)


state 225

  517 markup_list: markup_uncomposed_list .

    $default  reduce using rule 517 (markup_list)


state 226

  516 markup_list: markup_composed_list .

    $default  reduce using rule 516 (markup_list)


state 227

  518 markup_uncomposed_list: markup_braced_list .

    $default  reduce using rule 518 (markup_uncomposed_list)


state 228

  519 markup_uncomposed_list: markup_command_list .

    $default  reduce using rule 519 (markup_uncomposed_list)


state 229

  535 markup_head_1_list: markup_head_1_item .

    $default  reduce using rule 535 (markup_head_1_list)


state 230

  512 markup_top: markup_head_1_list . simple_markup
  523 markup_composed_list: markup_head_1_list . markup_uncomposed_list
  536 markup_head_1_list: markup_head_1_list . markup_head_1_item

    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 223
    markup_uncomposed_list  go to state 420
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 421
    simple_markup           go to state 422


state 231

  513 markup_top: simple_markup .

    $default  reduce using rule 513 (markup_top)


state 232

  436 tremolo_type: ':' UNSIGNED .

    $default  reduce using rule 436 (tremolo_type)


state 233

  413 fingering: UNSIGNED .

    $default  reduce using rule 413 (fingering)


state 234

  384 post_event_nofinger: '^' fingering .

    $default  reduce using rule 384 (post_event_nofinger)


state 235

  385 post_event_nofinger: '_' fingering .

    $default  reduce using rule 385 (post_event_nofinger)


state 236

  429 steno_duration: DURATION_IDENTIFIER dots .
  434 dots: dots . '.'

    '.'  shift, and go to state 423

    $default  reduce using rule 429 (steno_duration)


state 237

   84 partial_function: EVENT_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional
  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 427
    function_arglist_skip_backup       go to state 377


state 238

   89 partial_function: EVENT_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" . "scheme?" function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 428


state 239

  375 event_function_event: EVENT_FUNCTION function_arglist .

    $default  reduce using rule 375 (event_function_event)


state 240

   79 partial_function: EVENT_FUNCTION function_arglist_partial .

    $default  reduce using rule 79 (partial_function)


state 241

  495 bare_number_common: REAL NUMBER_IDENTIFIER .

    $default  reduce using rule 495 (bare_number_common)


state 242

   44 embedded_lilypond_number: UNSIGNED NUMBER_IDENTIFIER .

    $default  reduce using rule 44 (embedded_lilypond_number)


state 243

  428 steno_duration: UNSIGNED dots .
  434 dots: dots . '.'

    '.'  shift, and go to state 423

    $default  reduce using rule 428 (steno_duration)


state 244

  314 context_change: "\\change" symbol . '=' simple_string

    '='  shift, and go to state 429


state 245

   91 context_def_spec_block: "\\context" '{' . context_def_spec_body '}'

    $default  reduce using rule 95 (context_def_spec_body)

    context_def_spec_body  go to state 430


state 246

   52 embedded_lilypond: "\\version-error" embedded_lilypond .

    $default  reduce using rule 52 (embedded_lilypond)


state 247

  217 symbol_list_rev: symbol_list_rev . '.' symbol_list_part
  338 grob_prop_spec: symbol_list_rev .

    '.'  shift, and go to state 396

    $default  reduce using rule 338 (grob_prop_spec)


state 248

  339 grob_prop_path: grob_prop_spec .
  340               | grob_prop_spec . property_path

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    $default  reduce using rule 339 (grob_prop_path)

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 193
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    property_path        go to state 431


state 249

   81 partial_function: "\\override" grob_prop_path . '='
   86                 | "\\override" grob_prop_path . '=' partial_function
  343 music_property_def: "\\override" grob_prop_path . '=' scalar

    '='  shift, and go to state 432


state 250

  342 simple_revert_context: symbol_list_part .

    $default  reduce using rule 342 (simple_revert_context)


state 251

  344 music_property_def: "\\revert" simple_revert_context . revert_arg

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_part     go to state 433
    symbol_list_element  go to state 195
    revert_arg           go to state 434
    revert_arg_backup    go to state 435
    revert_arg_part      go to state 436


state 252

  217 symbol_list_rev: symbol_list_rev . '.' symbol_list_part
  341 context_prop_spec: symbol_list_rev .

    '.'  shift, and go to state 396

    $default  reduce using rule 341 (context_prop_spec)


state 253

   82 partial_function: "\\set" context_prop_spec . '='
   87                 | "\\set" context_prop_spec . '=' partial_function
  345 music_property_def: "\\set" context_prop_spec . '=' scalar

    '='  shift, and go to state 437


state 254

  428 steno_duration: UNSIGNED . dots
  497 bare_number: UNSIGNED .
  498            | UNSIGNED . NUMBER_IDENTIFIER

    NUMBER_IDENTIFIER  shift, and go to state 438

    '='       reduce using rule 433 (dots)
    '.'       reduce using rule 433 (dots)
    $default  reduce using rule 497 (bare_number)

    dots  go to state 243


state 255

  343 music_property_def: "\\override" . grob_prop_path '=' scalar

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 247
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    grob_prop_spec       go to state 248
    grob_prop_path       go to state 439


state 256

  345 music_property_def: "\\set" . context_prop_spec '=' scalar

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 252
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    context_prop_spec    go to state 440


state 257

   27 embedded_scm_bare_arg: FRACTION .

    $default  reduce using rule 27 (embedded_scm_bare_arg)


state 258

   25 embedded_scm_bare_arg: SCM_ARG .

    $default  reduce using rule 25 (embedded_scm_bare_arg)


state 259

  355 scalar: SCM_IDENTIFIER .

    $default  reduce using rule 355 (scalar)


state 260

   26 embedded_scm_bare_arg: SCM_TOKEN .

    $default  reduce using rule 26 (embedded_scm_bare_arg)


state 261

  347 string: STRING .

    $default  reduce using rule 347 (string)


state 262

  357 scalar: '-' . bare_number

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82

    bare_number_common  go to state 277
    bare_number         go to state 441


state 263

   38 embedded_scm_arg: embedded_scm_bare_arg .

    $default  reduce using rule 38 (embedded_scm_arg)


state 264

  353 scalar: embedded_scm_arg .

    $default  reduce using rule 353 (scalar)


state 265

   39 embedded_scm_arg: scm_function_call .

    $default  reduce using rule 39 (embedded_scm_arg)


state 266

   32 embedded_scm_bare_arg: context_def_spec_block .

    $default  reduce using rule 32 (embedded_scm_bare_arg)


state 267

   33 embedded_scm_bare_arg: book_block .

    $default  reduce using rule 33 (embedded_scm_bare_arg)


state 268

   34 embedded_scm_bare_arg: bookpart_block .

    $default  reduce using rule 34 (embedded_scm_bare_arg)


state 269

   31 embedded_scm_bare_arg: score_block .

    $default  reduce using rule 31 (embedded_scm_bare_arg)


state 270

   35 embedded_scm_bare_arg: output_def .

    $default  reduce using rule 35 (embedded_scm_bare_arg)


state 271

   40 embedded_scm_arg: music_assign .

    $default  reduce using rule 40 (embedded_scm_arg)


state 272

   30 embedded_scm_bare_arg: context_modification .

    $default  reduce using rule 30 (embedded_scm_bare_arg)


state 273

  358 scalar: string .

    $default  reduce using rule 358 (scalar)


state 274

  152 tempo_event: "\\tempo" scalar . steno_duration '=' tempo_range
  153            | "\\tempo" scalar .

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 153 (tempo_event)

    steno_duration  go to state 442


state 275

  151 tempo_event: "\\tempo" steno_duration . '=' tempo_range

    '='  shift, and go to state 443


state 276

  354 scalar: pitch_or_music .

    $default  reduce using rule 354 (scalar)


state 277

  496 bare_number: bare_number_common .

    $default  reduce using rule 496 (bare_number)


state 278

  356 scalar: bare_number .

    $default  reduce using rule 356 (scalar)


state 279

   29 embedded_scm_bare_arg: full_markup_list .

    $default  reduce using rule 29 (embedded_scm_bare_arg)


state 280

  348 string: full_markup .

    $default  reduce using rule 348 (string)


state 281

   28 embedded_scm_bare_arg: partial_markup .

    $default  reduce using rule 28 (embedded_scm_bare_arg)


state 282

  346 music_property_def: "\\unset" context_prop_spec .

    $default  reduce using rule 346 (music_property_def)


state 283

  180 context_modification: "\\with" CONTEXT_MOD_IDENTIFIER .

    $default  reduce using rule 180 (context_modification)


state 284

  184 context_modification_arg: MUSIC_IDENTIFIER .

    $default  reduce using rule 184 (context_modification_arg)


state 285

  183 context_modification_arg: embedded_scm .

    $default  reduce using rule 183 (context_modification_arg)


state 286

  179 context_modification: "\\with" @8 . '{' context_mod_list '}'

    '{'  shift, and go to state 444


state 287

  182 context_modification: "\\with" context_modification_arg .

    $default  reduce using rule 182 (context_modification)


state 288

  365 chord_body: "<" chord_body_elements . ">"
  368 chord_body_elements: chord_body_elements . chord_body_element

    ">"               shift, and go to state 445
    DRUM_PITCH        shift, and go to state 446
    PITCH_IDENTIFIER  shift, and go to state 98
    MUSIC_FUNCTION    shift, and go to state 33
    MUSIC_IDENTIFIER  shift, and go to state 447
    NOTENAME_PITCH    shift, and go to state 102
    SCM_FUNCTION      shift, and go to state 35
    SCM_IDENTIFIER    shift, and go to state 105
    SCM_TOKEN         shift, and go to state 106
    TONICNAME_PITCH   shift, and go to state 108

    embedded_scm_bare          go to state 110
    embedded_scm               go to state 448
    scm_function_call          go to state 112
    music_function_call        go to state 449
    chord_body_element         go to state 450
    music_function_chord_body  go to state 451
    steno_pitch                go to state 142
    steno_tonic_pitch          go to state 452
    pitch                      go to state 453
    pitch_or_tonic_pitch       go to state 454


state 289

  366 chord_body: FIGURE_OPEN figure_list . FIGURE_CLOSE
  456 figure_list: figure_list . br_bass_figure

    UNSIGNED        shift, and go to state 455
    "\\markup"      shift, and go to state 22
    FIGURE_CLOSE    shift, and go to state 456
    "_"             shift, and go to state 457
    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 458
    '['             shift, and go to state 459

    embedded_scm_bare  go to state 460
    bass_number        go to state 461
    bass_figure        go to state 462
    br_bass_figure     go to state 463
    markup_mode        go to state 68
    full_markup        go to state 464


state 290

  428 steno_duration: UNSIGNED . dots

    $default  reduce using rule 433 (dots)

    dots  go to state 243


state 291

  427 optional_notemode_duration: maybe_notemode_duration .

    $default  reduce using rule 427 (optional_notemode_duration)


state 292

  361 event_chord: MULTI_MEASURE_REST optional_notemode_duration . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 465


state 293

  426 maybe_notemode_duration: multiplied_duration .
  431 multiplied_duration: multiplied_duration . '*' UNSIGNED
  432                    | multiplied_duration . '*' FRACTION

    '*'  shift, and go to state 343

    $default  reduce using rule 426 (maybe_notemode_duration)


state 294

  360 event_chord: CHORD_REPETITION optional_notemode_duration . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 466


state 295

  461 simple_element: DRUM_PITCH optional_notemode_duration .

    $default  reduce using rule 461 (simple_element)


state 296

  400 sup_quotes: ''' .

    $default  reduce using rule 400 (sup_quotes)


state 297

  402 sub_quotes: ',' .

    $default  reduce using rule 402 (sub_quotes)


state 298

  407 pitch: PITCH_IDENTIFIER quotes .

    $default  reduce using rule 407 (pitch)


state 299

  399 quotes: sup_quotes .
  401 sup_quotes: sup_quotes . '''

    '''  shift, and go to state 467

    $default  reduce using rule 399 (quotes)


state 300

  398 quotes: sub_quotes .
  403 sub_quotes: sub_quotes . ','

    ','  shift, and go to state 468

    $default  reduce using rule 398 (quotes)


state 301

   83 partial_function: MUSIC_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional
  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 469
    function_arglist_skip_backup       go to state 377


state 302

   88 partial_function: MUSIC_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" . "scheme?" function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 470


state 303

   78 partial_function: MUSIC_FUNCTION function_arglist_partial .

    $default  reduce using rule 78 (partial_function)


state 304

  404 steno_pitch: NOTENAME_PITCH quotes .

    $default  reduce using rule 404 (steno_pitch)


state 305

  462 simple_element: RESTNAME optional_notemode_duration .

    $default  reduce using rule 462 (simple_element)


state 306

   85 partial_function: SCM_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional
  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 471
    function_arglist_skip_backup       go to state 377


state 307

   90 partial_function: SCM_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" . "scheme?" function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 472


state 308

   80 partial_function: SCM_FUNCTION function_arglist_partial .

    $default  reduce using rule 80 (partial_function)


state 309

  405 steno_tonic_pitch: TONICNAME_PITCH quotes .

    $default  reduce using rule 405 (steno_tonic_pitch)


state 310

   44 embedded_lilypond_number: UNSIGNED . NUMBER_IDENTIFIER
  413 fingering: UNSIGNED .

    NUMBER_IDENTIFIER  shift, and go to state 242

    $default  reduce using rule 413 (fingering)


state 311

   42 embedded_lilypond_number: '-' . embedded_lilypond_number

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 473
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 311

    embedded_lilypond_number  go to state 312
    bare_number_common        go to state 154


state 312

   42 embedded_lilypond_number: '-' embedded_lilypond_number .

    $default  reduce using rule 42 (embedded_lilypond_number)


state 313

  387 post_event: '-' fingering .

    $default  reduce using rule 387 (post_event)


state 314

   77 identifier_init_nonumber: partial_function "\\etc" .

    $default  reduce using rule 77 (identifier_init_nonumber)


state 315

  464 lyric_element: STRING .

    $default  reduce using rule 464 (lyric_element)


state 316

  166 music_embedded_backup: embedded_scm .

    $default  reduce using rule 166 (music_embedded_backup)


state 317

   50 embedded_lilypond: music_embedded music_embedded . music_list

    $default  reduce using rule 154 (music_list)

    music_list  go to state 474


state 318

  158 music: music_assign .

    $default  reduce using rule 158 (music)


state 319

  165 music_embedded: multiplied_duration . post_events
  431 multiplied_duration: multiplied_duration . '*' UNSIGNED
  432                    | multiplied_duration . '*' FRACTION

    '*'  shift, and go to state 343

    $default  reduce using rule 376 (post_events)

    post_events  go to state 344


state 320

  463 lyric_element: full_markup .

    $default  reduce using rule 463 (lyric_element)


state 321

  164 music_embedded: music_embedded_backup "(backed-up?)" . lyric_element_music

    "\\markup"     shift, and go to state 22
    LYRIC_ELEMENT  shift, and go to state 100
    STRING         shift, and go to state 315

    lyric_element        go to state 151
    lyric_element_music  go to state 475
    markup_mode          go to state 68
    full_markup          go to state 320


state 322

  364 note_chord_element: chord_body optional_notemode_duration . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 476


state 323

   48 embedded_lilypond: post_event post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 48 (embedded_lilypond)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 324

  427 optional_notemode_duration: maybe_notemode_duration .
  467 new_chord: steno_tonic_pitch maybe_notemode_duration .

    "/+"      reduce using rule 427 (optional_notemode_duration)
    "^"       reduce using rule 427 (optional_notemode_duration)
    ":"       reduce using rule 427 (optional_notemode_duration)
    "/"       reduce using rule 427 (optional_notemode_duration)
    $default  reduce using rule 467 (new_chord)


state 325

  468 new_chord: steno_tonic_pitch optional_notemode_duration . chord_separator chord_items

    "/+"  shift, and go to state 479
    "^"   shift, and go to state 480
    ":"   shift, and go to state 481
    "/"   shift, and go to state 482

    chord_separator  go to state 483


state 326

  459 pitch_or_music: pitch exclamations . questions octave_check maybe_notemode_duration optional_rest post_events
  503 exclamations: exclamations . '!'

    '!'  shift, and go to state 484

    $default  reduce using rule 504 (questions)

    questions  go to state 485


state 327

  414 script_abbreviation: '^' .

    $default  reduce using rule 414 (script_abbreviation)


state 328

  420 script_abbreviation: '_' .

    $default  reduce using rule 420 (script_abbreviation)


state 329

  417 script_abbreviation: '!' .

    $default  reduce using rule 417 (script_abbreviation)


state 330

  375 event_function_event: EVENT_FUNCTION . function_arglist

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 178
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 180
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist                    go to state 239
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 331

  418 script_abbreviation: ">" .

    $default  reduce using rule 418 (script_abbreviation)


state 332

  411 gen_text_def: STRING .

    $default  reduce using rule 411 (gen_text_def)


state 333

  416 script_abbreviation: '-' .

    $default  reduce using rule 416 (script_abbreviation)


state 334

  415 script_abbreviation: '+' .

    $default  reduce using rule 415 (script_abbreviation)


state 335

  419 script_abbreviation: '.' .

    $default  reduce using rule 419 (script_abbreviation)


state 336

  412 gen_text_def: embedded_scm .

    $default  reduce using rule 412 (gen_text_def)


state 337

  379 post_event_nofinger: script_dir music_function_call .

    $default  reduce using rule 379 (post_event_nofinger)


state 338

  383 post_event_nofinger: script_dir direction_less_event .

    $default  reduce using rule 383 (post_event_nofinger)


state 339

  382 post_event_nofinger: script_dir direction_reqd_event .

    $default  reduce using rule 382 (post_event_nofinger)


state 340

  393 direction_reqd_event: gen_text_def .

    $default  reduce using rule 393 (direction_reqd_event)


state 341

  394 direction_reqd_event: script_abbreviation .

    $default  reduce using rule 394 (direction_reqd_event)


state 342

  410 gen_text_def: full_markup .

    $default  reduce using rule 410 (gen_text_def)


state 343

  431 multiplied_duration: multiplied_duration '*' . UNSIGNED
  432                    | multiplied_duration '*' . FRACTION

    UNSIGNED  shift, and go to state 486
    FRACTION  shift, and go to state 487


state 344

  165 music_embedded: multiplied_duration post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 165 (music_embedded)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 345

  359 event_chord: simple_element post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 359 (event_chord)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 346

  466 lyric_element_music: lyric_element optional_notemode_duration . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 488


state 347

  377 post_events: post_events . post_event
  460 pitch_or_music: new_chord post_events .

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 460 (pitch_or_music)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 348

  510 partial_markup: markup_mode markup_head_1_list . "\\etc"
  512 markup_top: markup_head_1_list . simple_markup
  523 markup_composed_list: markup_head_1_list . markup_uncomposed_list
  536 markup_head_1_list: markup_head_1_list . markup_head_1_item

    "\\etc"               shift, and go to state 489
    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 223
    markup_uncomposed_list  go to state 420
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 421
    simple_markup           go to state 422


state 349

  499 unsigned_number: UNSIGNED .

    $default  reduce using rule 499 (unsigned_number)


state 350

  500 unsigned_number: NUMBER_IDENTIFIER .

    $default  reduce using rule 500 (unsigned_number)


state 351

  501 unsigned_number: embedded_scm .

    $default  reduce using rule 501 (unsigned_number)


state 352

  169 repeated_music: "\\repeat" simple_string unsigned_number . music
  170               | "\\repeat" simple_string unsigned_number . music "\\alternative" braced_music_list

    "\\repeat"          shift, and go to state 7
    "\\change"          shift, and go to state 83
    "\\chordmode"       shift, and go to state 10
    "\\chords"          shift, and go to state 11
    "\\context"         shift, and go to state 12
    "\\drummode"        shift, and go to state 13
    "\\drums"           shift, and go to state 14
    "\\figuremode"      shift, and go to state 15
    "\\figures"         shift, and go to state 16
    "\\lyricmode"       shift, and go to state 19
    "\\lyrics"          shift, and go to state 20
    "\\lyricsto"        shift, and go to state 21
    "\\markup"          shift, and go to state 22
    "\\notemode"        shift, and go to state 25
    "\\override"        shift, and go to state 255
    "\\revert"          shift, and go to state 87
    "\\sequential"      shift, and go to state 28
    "\\set"             shift, and go to state 256
    "\\simultaneous"    shift, and go to state 29
    "\\tempo"           shift, and go to state 89
    "\\unset"           shift, and go to state 90
    "\\new"             shift, and go to state 30
    "<"                 shift, and go to state 92
    "<<"                shift, and go to state 31
    FIGURE_OPEN         shift, and go to state 93
    MULTI_MEASURE_REST  shift, and go to state 94
    CHORD_REPETITION    shift, and go to state 95
    DRUM_PITCH          shift, and go to state 97
    PITCH_IDENTIFIER    shift, and go to state 98
    LYRIC_ELEMENT       shift, and go to state 100
    MUSIC_FUNCTION      shift, and go to state 33
    MUSIC_IDENTIFIER    shift, and go to state 34
    NOTENAME_PITCH      shift, and go to state 102
    RESTNAME            shift, and go to state 103
    STRING              shift, and go to state 315
    TONICNAME_PITCH     shift, and go to state 108
    '{'                 shift, and go to state 39

    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music                            go to state 490
    pitch_as_music                   go to state 124
    music_assign                     go to state 318
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    lyric_element                    go to state 151
    lyric_element_music              go to state 152
    new_chord                        go to state 153
    markup_mode                      go to state 68
    full_markup                      go to state 320


state 353

  101 book_body: BOOK_IDENTIFIER .

    $default  reduce using rule 101 (book_body)


state 354

   99 book_block: "\\book" '{' book_body . '}'
  102 book_body: book_body . paper_block
  103          | book_body . bookpart_block
  104          | book_body . score_block
  105          | book_body . composite_music
  106          | book_body . full_markup
  107          | book_body . full_markup_list
  108          | book_body . SCM_TOKEN
  109          | book_body . embedded_scm_active
  111          | book_body . @4 lilypond_header
  112          | book_body . error

    error             shift, and go to state 491
    "\\repeat"        shift, and go to state 7
    "\\bookpart"      shift, and go to state 9
    "\\chordmode"     shift, and go to state 10
    "\\chords"        shift, and go to state 11
    "\\context"       shift, and go to state 12
    "\\drummode"      shift, and go to state 13
    "\\drums"         shift, and go to state 14
    "\\figuremode"    shift, and go to state 15
    "\\figures"       shift, and go to state 16
    "\\layout"        shift, and go to state 18
    "\\lyricmode"     shift, and go to state 19
    "\\lyrics"        shift, and go to state 20
    "\\lyricsto"      shift, and go to state 21
    "\\markup"        shift, and go to state 22
    "\\markuplist"    shift, and go to state 23
    "\\midi"          shift, and go to state 24
    "\\notemode"      shift, and go to state 25
    "\\paper"         shift, and go to state 26
    "\\score"         shift, and go to state 27
    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "\\new"           shift, and go to state 30
    "<<"              shift, and go to state 31
    MUSIC_FUNCTION    shift, and go to state 33
    MUSIC_IDENTIFIER  shift, and go to state 34
    SCM_FUNCTION      shift, and go to state 35
    SCM_IDENTIFIER    shift, and go to state 36
    SCM_TOKEN         shift, and go to state 492
    '{'               shift, and go to state 39
    '}'               shift, and go to state 493

    "\\header"  reduce using rule 110 (@4)

    embedded_scm_active               go to state 494
    scm_function_call                 go to state 43
    @4                                go to state 495
    bookpart_block                    go to state 496
    score_block                       go to state 497
    paper_block                       go to state 498
    output_def                        go to state 499
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    braced_music_list                 go to state 53
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 500
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    full_markup_list                  go to state 501
    markup_mode                       go to state 68
    full_markup                       go to state 502


state 355

  115 bookpart_body: BOOK_IDENTIFIER .

    $default  reduce using rule 115 (bookpart_body)


state 356

  113 bookpart_block: "\\bookpart" '{' bookpart_body . '}'
  116 bookpart_body: bookpart_body . paper_block
  117              | bookpart_body . score_block
  118              | bookpart_body . composite_music
  119              | bookpart_body . full_markup
  120              | bookpart_body . full_markup_list
  121              | bookpart_body . SCM_TOKEN
  122              | bookpart_body . embedded_scm_active
  124              | bookpart_body . @5 lilypond_header
  125              | bookpart_body . error

    error             shift, and go to state 503
    "\\repeat"        shift, and go to state 7
    "\\chordmode"     shift, and go to state 10
    "\\chords"        shift, and go to state 11
    "\\context"       shift, and go to state 12
    "\\drummode"      shift, and go to state 13
    "\\drums"         shift, and go to state 14
    "\\figuremode"    shift, and go to state 15
    "\\figures"       shift, and go to state 16
    "\\layout"        shift, and go to state 18
    "\\lyricmode"     shift, and go to state 19
    "\\lyrics"        shift, and go to state 20
    "\\lyricsto"      shift, and go to state 21
    "\\markup"        shift, and go to state 22
    "\\markuplist"    shift, and go to state 23
    "\\midi"          shift, and go to state 24
    "\\notemode"      shift, and go to state 25
    "\\paper"         shift, and go to state 26
    "\\score"         shift, and go to state 27
    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "\\new"           shift, and go to state 30
    "<<"              shift, and go to state 31
    MUSIC_FUNCTION    shift, and go to state 33
    MUSIC_IDENTIFIER  shift, and go to state 34
    SCM_FUNCTION      shift, and go to state 35
    SCM_IDENTIFIER    shift, and go to state 36
    SCM_TOKEN         shift, and go to state 504
    '{'               shift, and go to state 39
    '}'               shift, and go to state 505

    "\\header"  reduce using rule 123 (@5)

    embedded_scm_active               go to state 506
    scm_function_call                 go to state 43
    @5                                go to state 507
    score_block                       go to state 508
    paper_block                       go to state 509
    output_def                        go to state 499
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    braced_music_list                 go to state 53
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 510
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    full_markup_list                  go to state 511
    markup_mode                       go to state 68
    full_markup                       go to state 512


state 357

  299 optional_id: '=' . simple_string

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 159

    embedded_scm_bare  go to state 160
    simple_string      go to state 513


state 358

  191 context_prefix: "\\context" symbol optional_id . optional_context_mod

    "\\with"                shift, and go to state 91
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96

    $default  reduce using rule 185 (optional_context_mod)

    context_modification  go to state 213
    optional_context_mod  go to state 514


state 359

  302 lyric_mode_music: MUSIC_IDENTIFIER .

    $default  reduce using rule 302 (lyric_mode_music)


state 360

  198 basic_music: "\\lyricsto" simple_string lyric_mode_music .

    $default  reduce using rule 198 (basic_music)


state 361

  301 lyric_mode_music: @9 . grouped_music_list

    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "<<"              shift, and go to state 31
    '{'               shift, and go to state 39

    braced_music_list   go to state 53
    sequential_music    go to state 55
    simultaneous_music  go to state 56
    grouped_music_list  go to state 515


state 362

  199 basic_music: "\\lyricsto" symbol '=' . simple_string lyric_mode_music

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 159

    embedded_scm_bare  go to state 160
    simple_string      go to state 516


state 363

  534 markup_head_1_item: MARKUP_FUNCTION . "markup?" markup_command_list_arguments

    "markup?"  shift, and go to state 408


state 364

  520 markup_uncomposed_list: markup_scm . MARKUPLIST_IDENTIFIER

    MARKUPLIST_IDENTIFIER  shift, and go to state 419


state 365

  507 full_markup_list: "\\markuplist" @10 markup_list .

    $default  reduce using rule 507 (full_markup_list)


state 366

  523 markup_composed_list: markup_head_1_list . markup_uncomposed_list
  536 markup_head_1_list: markup_head_1_list . markup_head_1_item

    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 363
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 364
    markup_uncomposed_list  go to state 420
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 421


state 367

  126 score_block: "\\score" '{' score_body . '}'
  128 score_body: score_body . error

    error  shift, and go to state 517
    '}'    shift, and go to state 518


state 368

  127 score_body: score_items .
  133 score_items: score_items . score_item
  135            | score_items . @6 lilypond_header

    "\\repeat"          shift, and go to state 7
    "\\change"          shift, and go to state 83
    "\\chordmode"       shift, and go to state 10
    "\\chords"          shift, and go to state 11
    "\\context"         shift, and go to state 12
    "\\drummode"        shift, and go to state 13
    "\\drums"           shift, and go to state 14
    "\\figuremode"      shift, and go to state 15
    "\\figures"         shift, and go to state 16
    "\\layout"          shift, and go to state 18
    "\\lyricmode"       shift, and go to state 19
    "\\lyrics"          shift, and go to state 20
    "\\lyricsto"        shift, and go to state 21
    "\\markup"          shift, and go to state 22
    "\\midi"            shift, and go to state 24
    "\\notemode"        shift, and go to state 25
    "\\override"        shift, and go to state 255
    "\\paper"           shift, and go to state 26
    "\\revert"          shift, and go to state 87
    "\\sequential"      shift, and go to state 28
    "\\set"             shift, and go to state 256
    "\\simultaneous"    shift, and go to state 29
    "\\tempo"           shift, and go to state 89
    "\\unset"           shift, and go to state 90
    "\\new"             shift, and go to state 30
    "<"                 shift, and go to state 92
    "<<"                shift, and go to state 31
    FIGURE_OPEN         shift, and go to state 93
    MULTI_MEASURE_REST  shift, and go to state 94
    CHORD_REPETITION    shift, and go to state 95
    DRUM_PITCH          shift, and go to state 97
    PITCH_IDENTIFIER    shift, and go to state 98
    LYRIC_ELEMENT       shift, and go to state 100
    MUSIC_FUNCTION      shift, and go to state 33
    MUSIC_IDENTIFIER    shift, and go to state 34
    NOTENAME_PITCH      shift, and go to state 102
    RESTNAME            shift, and go to state 103
    SCM_FUNCTION        shift, and go to state 35
    SCM_IDENTIFIER      shift, and go to state 105
    SCM_TOKEN           shift, and go to state 106
    STRING              shift, and go to state 315
    TONICNAME_PITCH     shift, and go to state 108
    '{'                 shift, and go to state 39

    "\\header"  reduce using rule 134 (@6)
    $default    reduce using rule 127 (score_body)

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 519
    scm_function_call                 go to state 112
    score_item                        go to state 520
    @6                                go to state 521
    output_def                        go to state 522
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music                             go to state 523
    pitch_as_music                    go to state 124
    music_assign                      go to state 318
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 209
    simple_element                    go to state 150
    lyric_element                     go to state 151
    lyric_element_music               go to state 152
    new_chord                         go to state 153
    markup_mode                       go to state 68
    full_markup                       go to state 320


state 369

  192 context_prefix: "\\new" symbol optional_id . optional_context_mod

    "\\with"                shift, and go to state 91
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96

    $default  reduce using rule 185 (optional_context_mod)

    context_modification  go to state 213
    optional_context_mod  go to state 524


state 370

  156 music_list: music_list error .

    $default  reduce using rule 156 (music_list)


state 371

  174 simultaneous_music: "<<" music_list ">>" .

    $default  reduce using rule 174 (simultaneous_music)


state 372

  155 music_list: music_list music_embedded .

    $default  reduce using rule 155 (music_list)


state 373

  242 function_arglist_backup: "optional?" . "scheme?" function_arglist_backup embedded_scm_arg
  243                        | "optional?" . "scheme?" function_arglist_backup post_event_nofinger
  244                        | "optional?" . "scheme?" function_arglist_backup pitch
  245                        | "optional?" . "scheme?" function_arglist_backup steno_tonic_pitch
  246                        | "optional?" . "scheme?" function_arglist_backup full_markup
  247                        | "optional?" . "scheme?" function_arglist_backup UNSIGNED
  248                        | "optional?" . "scheme?" function_arglist_backup REAL
  249                        | "optional?" . "scheme?" function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" . "scheme?" function_arglist_backup '-' UNSIGNED
  251                        | "optional?" . "scheme?" function_arglist_backup '-' REAL
  252                        | "optional?" . "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" . "scheme?" function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" . "scheme?" function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" . "scheme?" function_arglist_backup STRING
  293 function_arglist_optional: "optional?" . "scheme?" function_arglist_skip_backup "\\default"
  296 function_arglist_skip_backup: "optional?" . "scheme?" function_arglist_skip_backup

    "scheme?"  shift, and go to state 525


state 374

  256 function_arglist_backup: function_arglist_backup . "(reparsed?)" pitch_or_music
  257                        | function_arglist_backup . "(reparsed?)" bare_number_common
  258                        | function_arglist_backup . "(reparsed?)" duration_length
  259                        | function_arglist_backup . "(reparsed?)" symbol_list_arg
  292 function_arglist_optional: function_arglist_backup .
  295 function_arglist_skip_backup: function_arglist_backup .

    "(reparsed?)"  shift, and go to state 526

    "(backed-up?)"  reduce using rule 295 (function_arglist_skip_backup)
    $default        reduce using rule 292 (function_arglist_optional)


state 375

  241 function_arglist_backup: function_arglist_common .

    $default  reduce using rule 241 (function_arglist_backup)


state 376

  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 377

  294 function_arglist_optional: function_arglist_skip_backup . "(backed-up?)"

    "(backed-up?)"  shift, and go to state 538


state 378

  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" "scheme?" . function_arglist_skip_nonbackup "\\default"

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 539
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 540
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 541
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 379

  228 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" . pitch_or_music
  229                           | function_arglist_nonbackup_reparse "(reparsed?)" . duration_length
  230                           | function_arglist_nonbackup_reparse "(reparsed?)" . bare_number_common
  231                           | function_arglist_nonbackup_reparse "(reparsed?)" . SCM_ARG
  232                           | function_arglist_nonbackup_reparse "(reparsed?)" . lyric_element_music
  233                           | function_arglist_nonbackup_reparse "(reparsed?)" . symbol_list_arg

    DURATION_IDENTIFIER  shift, and go to state 74
    REAL                 shift, and go to state 80
    UNSIGNED             shift, and go to state 290
    NUMBER_IDENTIFIER    shift, and go to state 82
    "\\markup"           shift, and go to state 22
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    NOTENAME_PITCH       shift, and go to state 102
    SCM_ARG              shift, and go to state 542
    STRING               shift, and go to state 315
    SYMBOL_LIST          shift, and go to state 543
    TONICNAME_PITCH      shift, and go to state 108

    symbol_list_arg      go to state 544
    steno_pitch          go to state 142
    steno_tonic_pitch    go to state 143
    pitch                go to state 144
    duration_length      go to state 545
    steno_duration       go to state 146
    multiplied_duration  go to state 546
    pitch_or_music       go to state 547
    lyric_element        go to state 151
    lyric_element_music  go to state 548
    new_chord            go to state 153
    bare_number_common   go to state 549
    markup_mode          go to state 68
    full_markup          go to state 320


state 380

  277 function_arglist_common: function_arglist_common_reparse "(reparsed?)" . SCM_ARG
  278                        | function_arglist_common_reparse "(reparsed?)" . lyric_element_music
  279                        | function_arglist_common_reparse "(reparsed?)" . pitch_or_music
  280                        | function_arglist_common_reparse "(reparsed?)" . bare_number_common
  281                        | function_arglist_common_reparse "(reparsed?)" . duration_length
  282                        | function_arglist_common_reparse "(reparsed?)" . symbol_list_arg

    DURATION_IDENTIFIER  shift, and go to state 74
    REAL                 shift, and go to state 80
    UNSIGNED             shift, and go to state 290
    NUMBER_IDENTIFIER    shift, and go to state 82
    "\\markup"           shift, and go to state 22
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    NOTENAME_PITCH       shift, and go to state 102
    SCM_ARG              shift, and go to state 550
    STRING               shift, and go to state 315
    SYMBOL_LIST          shift, and go to state 543
    TONICNAME_PITCH      shift, and go to state 108

    symbol_list_arg      go to state 551
    steno_pitch          go to state 142
    steno_tonic_pitch    go to state 143
    pitch                go to state 144
    duration_length      go to state 552
    steno_duration       go to state 146
    multiplied_duration  go to state 546
    pitch_or_music       go to state 553
    lyric_element        go to state 151
    lyric_element_music  go to state 554
    new_chord            go to state 153
    bare_number_common   go to state 555
    markup_mode          go to state 68
    full_markup          go to state 320


state 381

  157 braced_music_list: '{' music_list '}' .

    $default  reduce using rule 157 (braced_music_list)


state 382

   56 lilypond_header: "\\header" '{' . lilypond_header_body '}'

    $default  reduce using rule 53 (lilypond_header_body)

    lilypond_header_body  go to state 556


state 383

  497 bare_number: UNSIGNED .
  498            | UNSIGNED . NUMBER_IDENTIFIER

    NUMBER_IDENTIFIER  shift, and go to state 438

    $default  reduce using rule 497 (bare_number)


state 384

  423 script_dir: '-' .
  491 number_factor: '-' . number_factor

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82

    $default  reduce using rule 423 (script_dir)

    number_factor       go to state 558
    bare_number_common  go to state 277
    bare_number         go to state 394


state 385

   73 identifier_init_nonumber: embedded_scm .

    $default  reduce using rule 73 (identifier_init_nonumber)


state 386

   58 assignment: assignment_id '=' identifier_init .

    $default  reduce using rule 58 (assignment)


state 387

   61 identifier_init: identifier_init_nonumber .

    $default  reduce using rule 61 (identifier_init)


state 388

   69 identifier_init_nonumber: music_assign .

    $default  reduce using rule 69 (identifier_init_nonumber)


state 389

   63 identifier_init: post_event_nofinger . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 559


state 390

   70 identifier_init_nonumber: pitch_or_music .

    $default  reduce using rule 70 (identifier_init_nonumber)


state 391

   62 identifier_init: number_expression .
  485 number_expression: number_expression . '+' number_term
  486                  | number_expression . '-' number_term

    '-'  shift, and go to state 560
    '+'  shift, and go to state 561

    $default  reduce using rule 62 (identifier_init)


state 392

  487 number_expression: number_term .

    $default  reduce using rule 487 (number_expression)


state 393

  488 number_term: number_factor .
  489            | number_factor . '*' number_factor
  490            | number_factor . '/' number_factor

    '*'  shift, and go to state 562
    '/'  shift, and go to state 563

    $default  reduce using rule 488 (number_term)


state 394

  492 number_factor: bare_number .

    $default  reduce using rule 492 (number_factor)


state 395

   60 assignment: assignment_id '.' property_path . '=' identifier_init

    '='  shift, and go to state 564


state 396

  217 symbol_list_rev: symbol_list_rev '.' . symbol_list_part

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_part     go to state 565
    symbol_list_element  go to state 195


state 397

  316 property_path: symbol_list_rev property_path .

    $default  reduce using rule 316 (property_path)


state 398

   59 assignment: assignment_id property_path '=' . identifier_init

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 99
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 384
    '{'                     shift, and go to state 39

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 385
    scm_function_call                 go to state 112
    identifier_init                   go to state 566
    identifier_init_nonumber          go to state 387
    partial_function                  go to state 116
    context_def_spec_block            go to state 117
    book_block                        go to state 118
    bookpart_block                    go to state 119
    score_block                       go to state 120
    output_def                        go to state 121
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 388
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 129
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 133
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 389
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    pitch_or_music                    go to state 390
    simple_element                    go to state 150
    new_chord                         go to state 153
    number_expression                 go to state 391
    number_term                       go to state 392
    number_factor                     go to state 393
    bare_number_common                go to state 277
    bare_number                       go to state 394
    full_markup_list                  go to state 155
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 158


state 399

  143 music_or_context_def: context_def_spec_block .

    $default  reduce using rule 143 (music_or_context_def)


state 400

  149 output_def_body: output_def_body @7 music_or_context_def .

    $default  reduce using rule 149 (output_def_body)


state 401

  142 music_or_context_def: music_assign .

    $default  reduce using rule 142 (music_or_context_def)


state 402

  194 new_lyrics: new_lyrics . "\\addlyrics" lyric_mode_music
  203 contexted_basic_music: context_prefix contextable_music new_lyrics .

    "\\addlyrics"  shift, and go to state 404

    $default  reduce using rule 203 (contexted_basic_music)


state 403

  193 new_lyrics: "\\addlyrics" lyric_mode_music .

    $default  reduce using rule 193 (new_lyrics)


state 404

  194 new_lyrics: new_lyrics "\\addlyrics" . lyric_mode_music

    MUSIC_IDENTIFIER  shift, and go to state 359

    $default  reduce using rule 300 (@9)

    lyric_mode_music  go to state 567
    @9                go to state 361


state 405

  304 mode_changed_music: mode_changing_head_with_context optional_context_mod grouped_music_list .

    $default  reduce using rule 304 (mode_changed_music)


state 406

  539 simple_markup: "\\score" @13 . '{' score_body '}'

    '{'  shift, and go to state 568


state 407

  522 markup_uncomposed_list: "\\score-lines" @12 . '{' score_body '}'

    '{'  shift, and go to state 569


state 408

  534 markup_head_1_item: MARKUP_FUNCTION "markup?" . markup_command_list_arguments

    "markup?"            shift, and go to state 413
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 414
    markup_command_list_arguments   go to state 570


state 409

  530 markup_command_basic_arguments: "scheme?" . markup_command_list_arguments embedded_scm

    "markup?"            shift, and go to state 413
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 414
    markup_command_list_arguments   go to state 571


state 410

  529 markup_command_basic_arguments: "markup-list?" . markup_command_list_arguments markup_list

    "markup?"            shift, and go to state 413
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 414
    markup_command_list_arguments   go to state 572


state 411

  531 markup_command_basic_arguments: EXPECT_NO_MORE_ARGS .

    $default  reduce using rule 531 (markup_command_basic_arguments)


state 412

  540 simple_markup: MARKUP_FUNCTION markup_command_basic_arguments .

    $default  reduce using rule 540 (simple_markup)


state 413

  533 markup_command_list_arguments: "markup?" . markup_command_list_arguments markup

    "markup?"            shift, and go to state 413
    "scheme?"            shift, and go to state 409
    "markup-list?"       shift, and go to state 410
    EXPECT_NO_MORE_ARGS  shift, and go to state 411

    markup_command_basic_arguments  go to state 414
    markup_command_list_arguments   go to state 573


state 414

  532 markup_command_list_arguments: markup_command_basic_arguments .

    $default  reduce using rule 532 (markup_command_list_arguments)


state 415

  528 markup_command_list: MARKUP_LIST_FUNCTION markup_command_list_arguments .

    $default  reduce using rule 528 (markup_command_list)


state 416

  524 markup_braced_list: '{' markup_braced_list_body . '}'
  526 markup_braced_list_body: markup_braced_list_body . markup
  527                        | markup_braced_list_body . markup_list

    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220
    '}'                   shift, and go to state 574

    embedded_scm_bare       go to state 221
    markup_scm              go to state 223
    markup_list             go to state 575
    markup_uncomposed_list  go to state 225
    markup_composed_list    go to state 226
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 229
    markup_head_1_list      go to state 576
    simple_markup           go to state 577
    markup                  go to state 578


state 417

  515 markup_scm: embedded_scm_bare @11 . "(backed-up?)"

    "(backed-up?)"  shift, and go to state 579


state 418

  541 simple_markup: markup_scm MARKUP_IDENTIFIER .

    $default  reduce using rule 541 (simple_markup)


state 419

  520 markup_uncomposed_list: markup_scm MARKUPLIST_IDENTIFIER .

    $default  reduce using rule 520 (markup_uncomposed_list)


state 420

  523 markup_composed_list: markup_head_1_list markup_uncomposed_list .

    $default  reduce using rule 523 (markup_composed_list)


state 421

  536 markup_head_1_list: markup_head_1_list markup_head_1_item .

    $default  reduce using rule 536 (markup_head_1_list)


state 422

  512 markup_top: markup_head_1_list simple_markup .

    $default  reduce using rule 512 (markup_top)


state 423

  434 dots: dots '.' .

    $default  reduce using rule 434 (dots)


state 424

  268 function_arglist_partial_optional: "scheme?" . function_arglist_optional
  269                                  | "scheme?" . function_arglist_partial_optional
  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 580
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 581
    function_arglist_skip_backup       go to state 377


state 425

  242 function_arglist_backup: "optional?" . "scheme?" function_arglist_backup embedded_scm_arg
  243                        | "optional?" . "scheme?" function_arglist_backup post_event_nofinger
  244                        | "optional?" . "scheme?" function_arglist_backup pitch
  245                        | "optional?" . "scheme?" function_arglist_backup steno_tonic_pitch
  246                        | "optional?" . "scheme?" function_arglist_backup full_markup
  247                        | "optional?" . "scheme?" function_arglist_backup UNSIGNED
  248                        | "optional?" . "scheme?" function_arglist_backup REAL
  249                        | "optional?" . "scheme?" function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" . "scheme?" function_arglist_backup '-' UNSIGNED
  251                        | "optional?" . "scheme?" function_arglist_backup '-' REAL
  252                        | "optional?" . "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" . "scheme?" function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" . "scheme?" function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" . "scheme?" function_arglist_backup STRING
  270 function_arglist_partial_optional: "optional?" . "scheme?" function_arglist_backup
  271                                  | "optional?" . "scheme?" function_arglist_partial_optional
  293 function_arglist_optional: "optional?" . "scheme?" function_arglist_skip_backup "\\default"
  296 function_arglist_skip_backup: "optional?" . "scheme?" function_arglist_skip_backup

    "scheme?"  shift, and go to state 582


state 426

  265 function_arglist_partial: "scheme?" function_arglist_partial_optional .

    $default  reduce using rule 265 (function_arglist_partial)


state 427

   84 partial_function: EVENT_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .
  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    $default  reduce using rule 264 (function_arglist_partial)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    partial_function                  go to state 583
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 428

   89 partial_function: EVENT_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" "scheme?" . function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 585
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 586
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 541
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 429

  314 context_change: "\\change" symbol '=' . simple_string

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 159

    embedded_scm_bare  go to state 160
    simple_string      go to state 588


state 430

   91 context_def_spec_block: "\\context" '{' context_def_spec_body . '}'
   96 context_def_spec_body: context_def_spec_body . context_mod
   97                      | context_def_spec_body . context_modification
   98                      | context_def_spec_body . context_mod_arg

    "\\accepts"             shift, and go to state 589
    "\\alias"               shift, and go to state 590
    "\\consists"            shift, and go to state 591
    "\\defaultchild"        shift, and go to state 592
    "\\denies"              shift, and go to state 593
    "\\description"         shift, and go to state 594
    "\\name"                shift, and go to state 595
    "\\override"            shift, and go to state 596
    "\\remove"              shift, and go to state 597
    "\\revert"              shift, and go to state 598
    "\\type"                shift, and go to state 599
    "\\unset"               shift, and go to state 600
    "\\with"                shift, and go to state 91
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 164
    '}'                     shift, and go to state 601

    $default  reduce using rule 93 (@3)

    embedded_scm_bare     go to state 602
    embedded_scm          go to state 603
    scm_function_call     go to state 112
    context_mod_arg       go to state 604
    @3                    go to state 605
    context_modification  go to state 606
    property_operation    go to state 607
    context_def_mod       go to state 608
    context_mod           go to state 609
    symbol                go to state 610


state 431

  340 grob_prop_path: grob_prop_spec property_path .

    $default  reduce using rule 340 (grob_prop_path)


state 432

   81 partial_function: "\\override" grob_prop_path '=' .
   86                 | "\\override" grob_prop_path '=' . partial_function
  343 music_property_def: "\\override" grob_prop_path '=' . scalar

    "\\repeat"              shift, and go to state 7
    EVENT_FUNCTION          shift, and go to state 611
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    $default  reduce using rule 81 (partial_function)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    partial_function                  go to state 612
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 613
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 433

  323 revert_arg_part: symbol_list_part .

    $default  reduce using rule 323 (revert_arg_part)


state 434

  344 music_property_def: "\\revert" simple_revert_context revert_arg .

    $default  reduce using rule 344 (music_property_def)


state 435

  321 revert_arg: revert_arg_backup . "(backed-up?)" symbol_list_arg
  324 revert_arg_part: revert_arg_backup . "(backed-up?)" SCM_ARG '.' symbol_list_part
  325                | revert_arg_backup . "(backed-up?)" SCM_ARG symbol_list_part

    "(backed-up?)"  shift, and go to state 614


state 436

  322 revert_arg_backup: revert_arg_part .

    $default  reduce using rule 322 (revert_arg_backup)


state 437

   82 partial_function: "\\set" context_prop_spec '=' .
   87                 | "\\set" context_prop_spec '=' . partial_function
  345 music_property_def: "\\set" context_prop_spec '=' . scalar

    "\\repeat"              shift, and go to state 7
    EVENT_FUNCTION          shift, and go to state 611
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    $default  reduce using rule 82 (partial_function)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    partial_function                  go to state 615
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 616
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 438

  498 bare_number: UNSIGNED NUMBER_IDENTIFIER .

    $default  reduce using rule 498 (bare_number)


state 439

  343 music_property_def: "\\override" grob_prop_path . '=' scalar

    '='  shift, and go to state 617


state 440

  345 music_property_def: "\\set" context_prop_spec . '=' scalar

    '='  shift, and go to state 618


state 441

  357 scalar: '-' bare_number .

    $default  reduce using rule 357 (scalar)


state 442

  152 tempo_event: "\\tempo" scalar steno_duration . '=' tempo_range

    '='  shift, and go to state 619


state 443

  151 tempo_event: "\\tempo" steno_duration '=' . tempo_range

    UNSIGNED           shift, and go to state 349
    NUMBER_IDENTIFIER  shift, and go to state 350
    SCM_FUNCTION       shift, and go to state 35
    SCM_IDENTIFIER     shift, and go to state 105
    SCM_TOKEN          shift, and go to state 106

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 351
    scm_function_call  go to state 112
    tempo_range        go to state 620
    unsigned_number    go to state 621


state 444

  179 context_modification: "\\with" @8 '{' . context_mod_list '}'

    $default  reduce using rule 187 (context_mod_list)

    context_mod_list  go to state 622


state 445

  365 chord_body: "<" chord_body_elements ">" .

    $default  reduce using rule 365 (chord_body)


state 446

  370 chord_body_element: DRUM_PITCH . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 623


state 447

  373 music_function_chord_body: MUSIC_IDENTIFIER .

    $default  reduce using rule 373 (music_function_chord_body)


state 448

  374 music_function_chord_body: embedded_scm .

    $default  reduce using rule 374 (music_function_chord_body)


state 449

  372 music_function_chord_body: music_function_call .

    $default  reduce using rule 372 (music_function_chord_body)


state 450

  368 chord_body_elements: chord_body_elements chord_body_element .

    $default  reduce using rule 368 (chord_body_elements)


state 451

  371 chord_body_element: music_function_chord_body .

    $default  reduce using rule 371 (chord_body_element)


state 452

  409 pitch_or_tonic_pitch: steno_tonic_pitch .

    $default  reduce using rule 409 (pitch_or_tonic_pitch)


state 453

  408 pitch_or_tonic_pitch: pitch .

    $default  reduce using rule 408 (pitch_or_tonic_pitch)


state 454

  369 chord_body_element: pitch_or_tonic_pitch . exclamations questions octave_check post_events

    $default  reduce using rule 502 (exclamations)

    exclamations  go to state 624


state 455

  437 bass_number: UNSIGNED .

    $default  reduce using rule 437 (bass_number)


state 456

  366 chord_body: FIGURE_OPEN figure_list FIGURE_CLOSE .

    $default  reduce using rule 366 (chord_body)


state 457

  444 bass_figure: "_" .

    $default  reduce using rule 444 (bass_figure)


state 458

  438 bass_number: STRING .

    $default  reduce using rule 438 (bass_number)


state 459

  454 br_bass_figure: '[' . bass_figure

    UNSIGNED        shift, and go to state 455
    "\\markup"      shift, and go to state 22
    "_"             shift, and go to state 457
    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 458

    embedded_scm_bare  go to state 460
    bass_number        go to state 461
    bass_figure        go to state 625
    markup_mode        go to state 68
    full_markup        go to state 464


state 460

  440 bass_number: embedded_scm_bare .

    $default  reduce using rule 440 (bass_number)


state 461

  445 bass_figure: bass_number .

    $default  reduce using rule 445 (bass_figure)


state 462

  446 bass_figure: bass_figure . ']'
  447            | bass_figure . figured_bass_alteration
  448            | bass_figure . figured_bass_modification
  453 br_bass_figure: bass_figure .

    '!'    shift, and go to state 626
    "\\"   shift, and go to state 627
    "\\!"  shift, and go to state 628
    "\\+"  shift, and go to state 629
    '-'    shift, and go to state 630
    '+'    shift, and go to state 631
    ']'    shift, and go to state 632
    '/'    shift, and go to state 633

    $default  reduce using rule 453 (br_bass_figure)

    figured_bass_alteration    go to state 634
    figured_bass_modification  go to state 635


state 463

  456 figure_list: figure_list br_bass_figure .

    $default  reduce using rule 456 (figure_list)


state 464

  439 bass_number: full_markup .

    $default  reduce using rule 439 (bass_number)


state 465

  361 event_chord: MULTI_MEASURE_REST optional_notemode_duration post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 361 (event_chord)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 466

  360 event_chord: CHORD_REPETITION optional_notemode_duration post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 360 (event_chord)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 467

  401 sup_quotes: sup_quotes ''' .

    $default  reduce using rule 401 (sup_quotes)


state 468

  403 sub_quotes: sub_quotes ',' .

    $default  reduce using rule 403 (sub_quotes)


state 469

   83 partial_function: MUSIC_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .
  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    $default  reduce using rule 264 (function_arglist_partial)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    partial_function                  go to state 636
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 470

   88 partial_function: MUSIC_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" "scheme?" . function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 585
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 637
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 541
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 471

   85 partial_function: SCM_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .
  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    $default  reduce using rule 264 (function_arglist_partial)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    partial_function                  go to state 638
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 472

   90 partial_function: SCM_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  261 function_arglist: "optional?" "scheme?" . function_arglist_skip_nonbackup "\\default"
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 585
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 639
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 541
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 473

   44 embedded_lilypond_number: UNSIGNED . NUMBER_IDENTIFIER

    NUMBER_IDENTIFIER  shift, and go to state 242


state 474

   50 embedded_lilypond: music_embedded music_embedded music_list .
  155 music_list: music_list . music_embedded
  156           | music_list . error

    error                shift, and go to state 370
    "\\repeat"           shift, and go to state 7
    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290
    "\\change"           shift, and go to state 83
    "\\chordmode"        shift, and go to state 10
    "\\chords"           shift, and go to state 11
    "\\context"          shift, and go to state 12
    "\\drummode"         shift, and go to state 13
    "\\drums"            shift, and go to state 14
    "\\figuremode"       shift, and go to state 15
    "\\figures"          shift, and go to state 16
    "\\lyricmode"        shift, and go to state 19
    "\\lyrics"           shift, and go to state 20
    "\\lyricsto"         shift, and go to state 21
    "\\markup"           shift, and go to state 22
    "\\notemode"         shift, and go to state 25
    "\\override"         shift, and go to state 255
    "\\revert"           shift, and go to state 87
    "\\sequential"       shift, and go to state 28
    "\\set"              shift, and go to state 256
    "\\simultaneous"     shift, and go to state 29
    "\\tempo"            shift, and go to state 89
    "\\unset"            shift, and go to state 90
    "\\new"              shift, and go to state 30
    "<"                  shift, and go to state 92
    "<<"                 shift, and go to state 31
    FIGURE_OPEN          shift, and go to state 93
    MULTI_MEASURE_REST   shift, and go to state 94
    CHORD_REPETITION     shift, and go to state 95
    DRUM_PITCH           shift, and go to state 97
    PITCH_IDENTIFIER     shift, and go to state 98
    LYRIC_ELEMENT        shift, and go to state 100
    MUSIC_FUNCTION       shift, and go to state 33
    MUSIC_IDENTIFIER     shift, and go to state 34
    NOTENAME_PITCH       shift, and go to state 102
    RESTNAME             shift, and go to state 103
    SCM_FUNCTION         shift, and go to state 35
    SCM_IDENTIFIER       shift, and go to state 105
    SCM_TOKEN            shift, and go to state 106
    STRING               shift, and go to state 315
    TONICNAME_PITCH      shift, and go to state 108
    '{'                  shift, and go to state 39

    "end of input"  reduce using rule 50 (embedded_lilypond)

    embedded_scm_bare                go to state 110
    embedded_scm                     go to state 316
    scm_function_call                go to state 112
    tempo_event                      go to state 122
    braced_music_list                go to state 53
    music                            go to state 123
    pitch_as_music                   go to state 124
    music_embedded                   go to state 372
    music_embedded_backup            go to state 126
    music_assign                     go to state 318
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    simple_music                     go to state 128
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 130
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66
    context_change                   go to state 131
    music_property_def               go to state 132
    event_chord                      go to state 134
    note_chord_element               go to state 135
    chord_body                       go to state 136
    steno_pitch                      go to state 142
    steno_tonic_pitch                go to state 143
    pitch                            go to state 144
    steno_duration                   go to state 146
    multiplied_duration              go to state 319
    pitch_or_music                   go to state 209
    simple_element                   go to state 150
    lyric_element                    go to state 151
    lyric_element_music              go to state 152
    new_chord                        go to state 153
    markup_mode                      go to state 68
    full_markup                      go to state 320


state 475

  164 music_embedded: music_embedded_backup "(backed-up?)" lyric_element_music .

    $default  reduce using rule 164 (music_embedded)


state 476

  364 note_chord_element: chord_body optional_notemode_duration post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 364 (note_chord_element)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 477

  387 post_event: '-' . fingering
  423 script_dir: '-' .

    UNSIGNED  shift, and go to state 233

    $default  reduce using rule 423 (script_dir)

    fingering  go to state 313


state 478

  377 post_events: post_events post_event .

    $default  reduce using rule 377 (post_events)


state 479

  474 chord_separator: "/+" . steno_tonic_pitch

    TONICNAME_PITCH  shift, and go to state 108

    steno_tonic_pitch  go to state 640


state 480

  472 chord_separator: "^" .

    $default  reduce using rule 472 (chord_separator)


state 481

  471 chord_separator: ":" .

    $default  reduce using rule 471 (chord_separator)


state 482

  473 chord_separator: "/" . steno_tonic_pitch

    TONICNAME_PITCH  shift, and go to state 108

    steno_tonic_pitch  go to state 641


state 483

  468 new_chord: steno_tonic_pitch optional_notemode_duration chord_separator . chord_items

    $default  reduce using rule 469 (chord_items)

    chord_items  go to state 642


state 484

  503 exclamations: exclamations '!' .

    $default  reduce using rule 503 (exclamations)


state 485

  459 pitch_or_music: pitch exclamations questions . octave_check maybe_notemode_duration optional_rest post_events
  505 questions: questions . '?'

    '='  shift, and go to state 643
    '?'  shift, and go to state 644

    $default  reduce using rule 395 (octave_check)

    octave_check  go to state 645


state 486

  431 multiplied_duration: multiplied_duration '*' UNSIGNED .

    $default  reduce using rule 431 (multiplied_duration)


state 487

  432 multiplied_duration: multiplied_duration '*' FRACTION .

    $default  reduce using rule 432 (multiplied_duration)


state 488

  377 post_events: post_events . post_event
  466 lyric_element_music: lyric_element optional_notemode_duration post_events .

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 466 (lyric_element_music)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 489

  510 partial_markup: markup_mode markup_head_1_list "\\etc" .

    $default  reduce using rule 510 (partial_markup)


state 490

  169 repeated_music: "\\repeat" simple_string unsigned_number music .
  170               | "\\repeat" simple_string unsigned_number music . "\\alternative" braced_music_list

    "\\alternative"  shift, and go to state 646

    $default  reduce using rule 169 (repeated_music)


state 491

  112 book_body: book_body error .

    $default  reduce using rule 112 (book_body)


state 492

  108 book_body: book_body SCM_TOKEN .

    $default  reduce using rule 108 (book_body)


state 493

   99 book_block: "\\book" '{' book_body '}' .

    $default  reduce using rule 99 (book_block)


state 494

  109 book_body: book_body embedded_scm_active .

    $default  reduce using rule 109 (book_body)


state 495

  111 book_body: book_body @4 . lilypond_header

    "\\header"  shift, and go to state 187

    lilypond_header  go to state 647


state 496

  103 book_body: book_body bookpart_block .

    $default  reduce using rule 103 (book_body)


state 497

  104 book_body: book_body score_block .

    $default  reduce using rule 104 (book_body)


state 498

  102 book_body: book_body paper_block .

    $default  reduce using rule 102 (book_body)


state 499

  136 paper_block: output_def .

    $default  reduce using rule 136 (paper_block)


state 500

  105 book_body: book_body composite_music .

    $default  reduce using rule 105 (book_body)


state 501

  107 book_body: book_body full_markup_list .

    $default  reduce using rule 107 (book_body)


state 502

  106 book_body: book_body full_markup .

    $default  reduce using rule 106 (book_body)


state 503

  125 bookpart_body: bookpart_body error .

    $default  reduce using rule 125 (bookpart_body)


state 504

  121 bookpart_body: bookpart_body SCM_TOKEN .

    $default  reduce using rule 121 (bookpart_body)


state 505

  113 bookpart_block: "\\bookpart" '{' bookpart_body '}' .

    $default  reduce using rule 113 (bookpart_block)


state 506

  122 bookpart_body: bookpart_body embedded_scm_active .

    $default  reduce using rule 122 (bookpart_body)


state 507

  124 bookpart_body: bookpart_body @5 . lilypond_header

    "\\header"  shift, and go to state 187

    lilypond_header  go to state 648


state 508

  117 bookpart_body: bookpart_body score_block .

    $default  reduce using rule 117 (bookpart_body)


state 509

  116 bookpart_body: bookpart_body paper_block .

    $default  reduce using rule 116 (bookpart_body)


state 510

  118 bookpart_body: bookpart_body composite_music .

    $default  reduce using rule 118 (bookpart_body)


state 511

  120 bookpart_body: bookpart_body full_markup_list .

    $default  reduce using rule 120 (bookpart_body)


state 512

  119 bookpart_body: bookpart_body full_markup .

    $default  reduce using rule 119 (bookpart_body)


state 513

  299 optional_id: '=' simple_string .

    $default  reduce using rule 299 (optional_id)


state 514

  191 context_prefix: "\\context" symbol optional_id optional_context_mod .

    $default  reduce using rule 191 (context_prefix)


state 515

  301 lyric_mode_music: @9 grouped_music_list .

    $default  reduce using rule 301 (lyric_mode_music)


state 516

  199 basic_music: "\\lyricsto" symbol '=' simple_string . lyric_mode_music

    MUSIC_IDENTIFIER  shift, and go to state 359

    $default  reduce using rule 300 (@9)

    lyric_mode_music  go to state 649
    @9                go to state 361


state 517

  128 score_body: score_body error .

    $default  reduce using rule 128 (score_body)


state 518

  126 score_block: "\\score" '{' score_body '}' .

    $default  reduce using rule 126 (score_block)


state 519

  129 score_item: embedded_scm .

    $default  reduce using rule 129 (score_item)


state 520

  133 score_items: score_items score_item .

    $default  reduce using rule 133 (score_items)


state 521

  135 score_items: score_items @6 . lilypond_header

    "\\header"  shift, and go to state 187

    lilypond_header  go to state 650


state 522

  131 score_item: output_def .

    $default  reduce using rule 131 (score_item)


state 523

  130 score_item: music .

    $default  reduce using rule 130 (score_item)


state 524

  192 context_prefix: "\\new" symbol optional_id optional_context_mod .

    $default  reduce using rule 192 (context_prefix)


state 525

  242 function_arglist_backup: "optional?" "scheme?" . function_arglist_backup embedded_scm_arg
  243                        | "optional?" "scheme?" . function_arglist_backup post_event_nofinger
  244                        | "optional?" "scheme?" . function_arglist_backup pitch
  245                        | "optional?" "scheme?" . function_arglist_backup steno_tonic_pitch
  246                        | "optional?" "scheme?" . function_arglist_backup full_markup
  247                        | "optional?" "scheme?" . function_arglist_backup UNSIGNED
  248                        | "optional?" "scheme?" . function_arglist_backup REAL
  249                        | "optional?" "scheme?" . function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" . function_arglist_backup '-' UNSIGNED
  251                        | "optional?" "scheme?" . function_arglist_backup '-' REAL
  252                        | "optional?" "scheme?" . function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" . function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" . function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" "scheme?" . function_arglist_backup STRING
  293 function_arglist_optional: "optional?" "scheme?" . function_arglist_skip_backup "\\default"
  296 function_arglist_skip_backup: "optional?" "scheme?" . function_arglist_skip_backup

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 651
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup          go to state 652
    function_arglist_common          go to state 375
    function_arglist_common_reparse  go to state 184
    function_arglist_skip_backup     go to state 653


state 526

  256 function_arglist_backup: function_arglist_backup "(reparsed?)" . pitch_or_music
  257                        | function_arglist_backup "(reparsed?)" . bare_number_common
  258                        | function_arglist_backup "(reparsed?)" . duration_length
  259                        | function_arglist_backup "(reparsed?)" . symbol_list_arg

    DURATION_IDENTIFIER  shift, and go to state 74
    REAL                 shift, and go to state 80
    UNSIGNED             shift, and go to state 290
    NUMBER_IDENTIFIER    shift, and go to state 82
    PITCH_IDENTIFIER     shift, and go to state 98
    NOTENAME_PITCH       shift, and go to state 102
    SYMBOL_LIST          shift, and go to state 543
    TONICNAME_PITCH      shift, and go to state 108

    symbol_list_arg      go to state 654
    steno_pitch          go to state 142
    steno_tonic_pitch    go to state 143
    pitch                go to state 144
    duration_length      go to state 655
    steno_duration       go to state 146
    multiplied_duration  go to state 546
    pitch_or_music       go to state 656
    new_chord            go to state 153
    bare_number_common   go to state 657


state 527

  289 function_arglist_common_reparse: "scheme?" function_arglist_optional DURATION_IDENTIFIER .

    $default  reduce using rule 289 (function_arglist_common_reparse)


state 528

  288 function_arglist_common_reparse: "scheme?" function_arglist_optional UNSIGNED .

    $default  reduce using rule 288 (function_arglist_common_reparse)


state 529

  283 function_arglist_common_reparse: "scheme?" function_arglist_optional SCM_IDENTIFIER .

    $default  reduce using rule 283 (function_arglist_common_reparse)


state 530

  286 function_arglist_common_reparse: "scheme?" function_arglist_optional STRING .

    $default  reduce using rule 286 (function_arglist_common_reparse)


state 531

  276 function_arglist_common: "scheme?" function_arglist_optional '-' . NUMBER_IDENTIFIER
  290 function_arglist_common_reparse: "scheme?" function_arglist_optional '-' . UNSIGNED
  291                                | "scheme?" function_arglist_optional '-' . REAL
  423 script_dir: '-' .

    REAL               shift, and go to state 658
    UNSIGNED           shift, and go to state 659
    NUMBER_IDENTIFIER  shift, and go to state 660

    $default  reduce using rule 423 (script_dir)


state 532

  273 function_arglist_common: "scheme?" function_arglist_optional embedded_scm_arg .

    $default  reduce using rule 273 (function_arglist_common)


state 533

  275 function_arglist_common: "scheme?" function_arglist_optional post_event_nofinger .

    $default  reduce using rule 275 (function_arglist_common)


state 534

  285 function_arglist_common_reparse: "scheme?" function_arglist_optional steno_tonic_pitch .

    $default  reduce using rule 285 (function_arglist_common_reparse)


state 535

  284 function_arglist_common_reparse: "scheme?" function_arglist_optional pitch .

    $default  reduce using rule 284 (function_arglist_common_reparse)


state 536

  274 function_arglist_common: "scheme?" function_arglist_optional bare_number_common .

    $default  reduce using rule 274 (function_arglist_common)


state 537

  287 function_arglist_common_reparse: "scheme?" function_arglist_optional full_markup .

    $default  reduce using rule 287 (function_arglist_common_reparse)


state 538

  294 function_arglist_optional: function_arglist_skip_backup "(backed-up?)" .

    $default  reduce using rule 294 (function_arglist_optional)


state 539

  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  263 function_arglist_skip_nonbackup: "optional?" . "scheme?" function_arglist_skip_nonbackup

    "scheme?"  shift, and go to state 661


state 540

  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  262 function_arglist_skip_nonbackup: function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    $default  reduce using rule 262 (function_arglist_skip_nonbackup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 541

  261 function_arglist: "optional?" "scheme?" function_arglist_skip_nonbackup . "\\default"

    "\\default"  shift, and go to state 673


state 542

  231 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" SCM_ARG .

    $default  reduce using rule 231 (function_arglist_nonbackup)


state 543

  214 symbol_list_arg: SYMBOL_LIST .
  215                | SYMBOL_LIST . '.' symbol_list_rev

    '.'  shift, and go to state 674

    $default  reduce using rule 214 (symbol_list_arg)


state 544

  233 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" symbol_list_arg .

    $default  reduce using rule 233 (function_arglist_nonbackup)


state 545

  229 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" duration_length .

    $default  reduce using rule 229 (function_arglist_nonbackup)


state 546

  424 duration_length: multiplied_duration .
  431 multiplied_duration: multiplied_duration . '*' UNSIGNED
  432                    | multiplied_duration . '*' FRACTION

    '*'  shift, and go to state 343

    $default  reduce using rule 424 (duration_length)


state 547

  228 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" pitch_or_music .

    $default  reduce using rule 228 (function_arglist_nonbackup)


state 548

  232 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" lyric_element_music .

    $default  reduce using rule 232 (function_arglist_nonbackup)


state 549

  230 function_arglist_nonbackup: function_arglist_nonbackup_reparse "(reparsed?)" bare_number_common .

    $default  reduce using rule 230 (function_arglist_nonbackup)


state 550

  277 function_arglist_common: function_arglist_common_reparse "(reparsed?)" SCM_ARG .

    $default  reduce using rule 277 (function_arglist_common)


state 551

  282 function_arglist_common: function_arglist_common_reparse "(reparsed?)" symbol_list_arg .

    $default  reduce using rule 282 (function_arglist_common)


state 552

  281 function_arglist_common: function_arglist_common_reparse "(reparsed?)" duration_length .

    $default  reduce using rule 281 (function_arglist_common)


state 553

  279 function_arglist_common: function_arglist_common_reparse "(reparsed?)" pitch_or_music .

    $default  reduce using rule 279 (function_arglist_common)


state 554

  278 function_arglist_common: function_arglist_common_reparse "(reparsed?)" lyric_element_music .

    $default  reduce using rule 278 (function_arglist_common)


state 555

  280 function_arglist_common: function_arglist_common_reparse "(reparsed?)" bare_number_common .

    $default  reduce using rule 280 (function_arglist_common)


state 556

   54 lilypond_header_body: lilypond_header_body . assignment
   55                     | lilypond_header_body . embedded_scm
   56 lilypond_header: "\\header" '{' lilypond_header_body . '}'

    SCM_FUNCTION    shift, and go to state 35
    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 38
    '}'             shift, and go to state 675

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 676
    scm_function_call  go to state 112
    assignment_id      go to state 44
    assignment         go to state 677


state 557

  491 number_factor: '-' . number_factor

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 557

    number_factor       go to state 558
    bare_number_common  go to state 277
    bare_number         go to state 394


state 558

  491 number_factor: '-' number_factor .

    $default  reduce using rule 491 (number_factor)


state 559

   63 identifier_init: post_event_nofinger post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 63 (identifier_init)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 560

  486 number_expression: number_expression '-' . number_term

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 557

    number_term         go to state 678
    number_factor       go to state 393
    bare_number_common  go to state 277
    bare_number         go to state 394


state 561

  485 number_expression: number_expression '+' . number_term

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 557

    number_term         go to state 679
    number_factor       go to state 393
    bare_number_common  go to state 277
    bare_number         go to state 394


state 562

  489 number_term: number_factor '*' . number_factor

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 557

    number_factor       go to state 680
    bare_number_common  go to state 277
    bare_number         go to state 394


state 563

  490 number_term: number_factor '/' . number_factor

    REAL               shift, and go to state 80
    UNSIGNED           shift, and go to state 383
    NUMBER_IDENTIFIER  shift, and go to state 82
    '-'                shift, and go to state 557

    number_factor       go to state 681
    bare_number_common  go to state 277
    bare_number         go to state 394


state 564

   60 assignment: assignment_id '.' property_path '=' . identifier_init

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 99
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 384
    '{'                     shift, and go to state 39

    embedded_scm_bare                 go to state 110
    embedded_scm                      go to state 385
    scm_function_call                 go to state 112
    identifier_init                   go to state 682
    identifier_init_nonumber          go to state 387
    partial_function                  go to state 116
    context_def_spec_block            go to state 117
    book_block                        go to state 118
    bookpart_block                    go to state 119
    score_block                       go to state 120
    output_def                        go to state 121
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 388
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 129
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 133
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 389
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    pitch_or_music                    go to state 390
    simple_element                    go to state 150
    new_chord                         go to state 153
    number_expression                 go to state 391
    number_term                       go to state 392
    number_factor                     go to state 393
    bare_number_common                go to state 277
    bare_number                       go to state 394
    full_markup_list                  go to state 155
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 158


state 565

  217 symbol_list_rev: symbol_list_rev '.' symbol_list_part .

    $default  reduce using rule 217 (symbol_list_rev)


state 566

   59 assignment: assignment_id property_path '=' identifier_init .

    $default  reduce using rule 59 (assignment)


state 567

  194 new_lyrics: new_lyrics "\\addlyrics" lyric_mode_music .

    $default  reduce using rule 194 (new_lyrics)


state 568

  539 simple_markup: "\\score" @13 '{' . score_body '}'

    $default  reduce using rule 132 (score_items)

    score_body   go to state 683
    score_items  go to state 368


state 569

  522 markup_uncomposed_list: "\\score-lines" @12 '{' . score_body '}'

    $default  reduce using rule 132 (score_items)

    score_body   go to state 684
    score_items  go to state 368


state 570

  534 markup_head_1_item: MARKUP_FUNCTION "markup?" markup_command_list_arguments .

    $default  reduce using rule 534 (markup_head_1_item)


state 571

  530 markup_command_basic_arguments: "scheme?" markup_command_list_arguments . embedded_scm

    SCM_FUNCTION    shift, and go to state 35
    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 685
    scm_function_call  go to state 112


state 572

  529 markup_command_basic_arguments: "markup-list?" markup_command_list_arguments . markup_list

    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 363
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 364
    markup_list             go to state 686
    markup_uncomposed_list  go to state 225
    markup_composed_list    go to state 226
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 229
    markup_head_1_list      go to state 366


state 573

  533 markup_command_list_arguments: "markup?" markup_command_list_arguments . markup

    "\\score"        shift, and go to state 215
    MARKUP_FUNCTION  shift, and go to state 217
    SCM_IDENTIFIER   shift, and go to state 105
    SCM_TOKEN        shift, and go to state 106
    STRING           shift, and go to state 219

    embedded_scm_bare   go to state 221
    markup_scm          go to state 687
    markup_head_1_item  go to state 229
    markup_head_1_list  go to state 688
    simple_markup       go to state 577
    markup              go to state 689


state 574

  524 markup_braced_list: '{' markup_braced_list_body '}' .

    $default  reduce using rule 524 (markup_braced_list)


state 575

  527 markup_braced_list_body: markup_braced_list_body markup_list .

    $default  reduce using rule 527 (markup_braced_list_body)


state 576

  523 markup_composed_list: markup_head_1_list . markup_uncomposed_list
  536 markup_head_1_list: markup_head_1_list . markup_head_1_item
  542 markup: markup_head_1_list . simple_markup

    "\\score"             shift, and go to state 215
    "\\score-lines"       shift, and go to state 216
    MARKUP_FUNCTION       shift, and go to state 217
    MARKUP_LIST_FUNCTION  shift, and go to state 218
    SCM_IDENTIFIER        shift, and go to state 105
    SCM_TOKEN             shift, and go to state 106
    STRING                shift, and go to state 219
    '{'                   shift, and go to state 220

    embedded_scm_bare       go to state 221
    markup_scm              go to state 223
    markup_uncomposed_list  go to state 420
    markup_braced_list      go to state 227
    markup_command_list     go to state 228
    markup_head_1_item      go to state 421
    simple_markup           go to state 690


state 577

  543 markup: simple_markup .

    $default  reduce using rule 543 (markup)


state 578

  526 markup_braced_list_body: markup_braced_list_body markup .

    $default  reduce using rule 526 (markup_braced_list_body)


state 579

  515 markup_scm: embedded_scm_bare @11 "(backed-up?)" .

    $default  reduce using rule 515 (markup_scm)


state 580

  269 function_arglist_partial_optional: "scheme?" function_arglist_partial_optional .

    $default  reduce using rule 269 (function_arglist_partial_optional)


state 581

  268 function_arglist_partial_optional: "scheme?" function_arglist_optional .
  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    $default  reduce using rule 268 (function_arglist_partial_optional)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 582

  242 function_arglist_backup: "optional?" "scheme?" . function_arglist_backup embedded_scm_arg
  243                        | "optional?" "scheme?" . function_arglist_backup post_event_nofinger
  244                        | "optional?" "scheme?" . function_arglist_backup pitch
  245                        | "optional?" "scheme?" . function_arglist_backup steno_tonic_pitch
  246                        | "optional?" "scheme?" . function_arglist_backup full_markup
  247                        | "optional?" "scheme?" . function_arglist_backup UNSIGNED
  248                        | "optional?" "scheme?" . function_arglist_backup REAL
  249                        | "optional?" "scheme?" . function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" . function_arglist_backup '-' UNSIGNED
  251                        | "optional?" "scheme?" . function_arglist_backup '-' REAL
  252                        | "optional?" "scheme?" . function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" . function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" . function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" "scheme?" . function_arglist_backup STRING
  270 function_arglist_partial_optional: "optional?" "scheme?" . function_arglist_backup
  271                                  | "optional?" "scheme?" . function_arglist_partial_optional
  293 function_arglist_optional: "optional?" "scheme?" . function_arglist_skip_backup "\\default"
  296 function_arglist_skip_backup: "optional?" "scheme?" . function_arglist_skip_backup

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 691
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 692
    function_arglist_partial_optional  go to state 693
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_skip_backup       go to state 653


state 583

   84 partial_function: EVENT_FUNCTION "scheme?" function_arglist_optional partial_function .

    $default  reduce using rule 84 (partial_function)


state 584

  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional
  273 function_arglist_common: "scheme?" . function_arglist_optional embedded_scm_arg
  274                        | "scheme?" . function_arglist_optional bare_number_common
  275                        | "scheme?" . function_arglist_optional post_event_nofinger
  276                        | "scheme?" . function_arglist_optional '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" . function_arglist_optional SCM_IDENTIFIER
  284                                | "scheme?" . function_arglist_optional pitch
  285                                | "scheme?" . function_arglist_optional steno_tonic_pitch
  286                                | "scheme?" . function_arglist_optional STRING
  287                                | "scheme?" . function_arglist_optional full_markup
  288                                | "scheme?" . function_arglist_optional UNSIGNED
  289                                | "scheme?" . function_arglist_optional DURATION_IDENTIFIER
  290                                | "scheme?" . function_arglist_optional '-' UNSIGNED
  291                                | "scheme?" . function_arglist_optional '-' REAL

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 694
    function_arglist_skip_backup       go to state 377


state 585

  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  263 function_arglist_skip_nonbackup: "optional?" . "scheme?" function_arglist_skip_nonbackup
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 695


state 586

   89 partial_function: EVENT_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  262 function_arglist_skip_nonbackup: function_arglist_nonbackup .
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    "\\etc"   reduce using rule 266 (function_arglist_partial)
    $default  reduce using rule 262 (function_arglist_skip_nonbackup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    partial_function                  go to state 696
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 587

  267 function_arglist_partial: "optional?" "scheme?" function_arglist_partial .

    $default  reduce using rule 267 (function_arglist_partial)


state 588

  314 context_change: "\\change" symbol '=' simple_string .

    $default  reduce using rule 314 (context_change)


state 589

  328 context_def_mod: "\\accepts" .

    $default  reduce using rule 328 (context_def_mod)


state 590

  331 context_def_mod: "\\alias" .

    $default  reduce using rule 331 (context_def_mod)


state 591

  326 context_def_mod: "\\consists" .

    $default  reduce using rule 326 (context_def_mod)


state 592

  329 context_def_mod: "\\defaultchild" .

    $default  reduce using rule 329 (context_def_mod)


state 593

  330 context_def_mod: "\\denies" .

    $default  reduce using rule 330 (context_def_mod)


state 594

  333 context_def_mod: "\\description" .

    $default  reduce using rule 333 (context_def_mod)


state 595

  334 context_def_mod: "\\name" .

    $default  reduce using rule 334 (context_def_mod)


state 596

  319 property_operation: "\\override" . property_path '=' scalar

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 193
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    property_path        go to state 697


state 597

  327 context_def_mod: "\\remove" .

    $default  reduce using rule 327 (context_def_mod)


state 598

  320 property_operation: "\\revert" . revert_arg

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_part     go to state 433
    symbol_list_element  go to state 195
    revert_arg           go to state 698
    revert_arg_backup    go to state 435
    revert_arg_part      go to state 436


state 599

  332 context_def_mod: "\\type" .

    $default  reduce using rule 332 (context_def_mod)


state 600

  318 property_operation: "\\unset" . symbol

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 164

    embedded_scm_bare  go to state 165
    symbol             go to state 699


state 601

   91 context_def_spec_block: "\\context" '{' context_def_spec_body '}' .

    $default  reduce using rule 91 (context_def_spec_block)


state 602

   36 embedded_scm: embedded_scm_bare .
  352 symbol: embedded_scm_bare .

    '='       reduce using rule 352 (symbol)
    $default  reduce using rule 36 (embedded_scm)


state 603

   92 context_mod_arg: embedded_scm .

    $default  reduce using rule 92 (context_mod_arg)


state 604

   98 context_def_spec_body: context_def_spec_body context_mod_arg .

    $default  reduce using rule 98 (context_def_spec_body)


state 605

   94 context_mod_arg: @3 . composite_music

    "\\repeat"        shift, and go to state 7
    "\\chordmode"     shift, and go to state 10
    "\\chords"        shift, and go to state 11
    "\\context"       shift, and go to state 12
    "\\drummode"      shift, and go to state 13
    "\\drums"         shift, and go to state 14
    "\\figuremode"    shift, and go to state 15
    "\\figures"       shift, and go to state 16
    "\\lyricmode"     shift, and go to state 19
    "\\lyrics"        shift, and go to state 20
    "\\lyricsto"      shift, and go to state 21
    "\\notemode"      shift, and go to state 25
    "\\sequential"    shift, and go to state 28
    "\\simultaneous"  shift, and go to state 29
    "\\new"           shift, and go to state 30
    "<<"              shift, and go to state 31
    MUSIC_FUNCTION    shift, and go to state 33
    MUSIC_IDENTIFIER  shift, and go to state 34
    '{'               shift, and go to state 39

    braced_music_list                go to state 53
    repeated_music                   go to state 54
    sequential_music                 go to state 55
    simultaneous_music               go to state 56
    context_prefix                   go to state 57
    basic_music                      go to state 58
    contexted_basic_music            go to state 59
    composite_music                  go to state 700
    music_bare                       go to state 61
    grouped_music_list               go to state 62
    music_function_call              go to state 63
    mode_changed_music               go to state 64
    mode_changing_head               go to state 65
    mode_changing_head_with_context  go to state 66


state 606

   97 context_def_spec_body: context_def_spec_body context_modification .

    $default  reduce using rule 97 (context_def_spec_body)


state 607

  335 context_mod: property_operation .

    $default  reduce using rule 335 (context_mod)


state 608

  336 context_mod: context_def_mod . STRING
  337            | context_def_mod . embedded_scm

    SCM_FUNCTION    shift, and go to state 35
    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 701

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 702
    scm_function_call  go to state 112


state 609

   96 context_def_spec_body: context_def_spec_body context_mod .

    $default  reduce using rule 96 (context_def_spec_body)


state 610

  317 property_operation: symbol . '=' scalar

    '='  shift, and go to state 703


state 611

   79 partial_function: EVENT_FUNCTION . function_arglist_partial
   84                 | EVENT_FUNCTION . "scheme?" function_arglist_optional partial_function
   89                 | EVENT_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function

    "scheme?"    shift, and go to state 704
    "optional?"  shift, and go to state 705

    function_arglist_partial  go to state 240


state 612

   86 partial_function: "\\override" grob_prop_path '=' partial_function .

    $default  reduce using rule 86 (partial_function)


state 613

  343 music_property_def: "\\override" grob_prop_path '=' scalar .

    $default  reduce using rule 343 (music_property_def)


state 614

  321 revert_arg: revert_arg_backup "(backed-up?)" . symbol_list_arg
  324 revert_arg_part: revert_arg_backup "(backed-up?)" . SCM_ARG '.' symbol_list_part
  325                | revert_arg_backup "(backed-up?)" . SCM_ARG symbol_list_part

    SCM_ARG      shift, and go to state 706
    SYMBOL_LIST  shift, and go to state 543

    symbol_list_arg  go to state 707


state 615

   87 partial_function: "\\set" context_prop_spec '=' partial_function .

    $default  reduce using rule 87 (partial_function)


state 616

  345 music_property_def: "\\set" context_prop_spec '=' scalar .

    $default  reduce using rule 345 (music_property_def)


state 617

  343 music_property_def: "\\override" grob_prop_path '=' . scalar

    "\\repeat"              shift, and go to state 7
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 613
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 618

  345 music_property_def: "\\set" context_prop_spec '=' . scalar

    "\\repeat"              shift, and go to state 7
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 616
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 619

  152 tempo_event: "\\tempo" scalar steno_duration '=' . tempo_range

    UNSIGNED           shift, and go to state 349
    NUMBER_IDENTIFIER  shift, and go to state 350
    SCM_FUNCTION       shift, and go to state 35
    SCM_IDENTIFIER     shift, and go to state 105
    SCM_TOKEN          shift, and go to state 106

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 351
    scm_function_call  go to state 112
    tempo_range        go to state 708
    unsigned_number    go to state 621


state 620

  151 tempo_event: "\\tempo" steno_duration '=' tempo_range .

    $default  reduce using rule 151 (tempo_event)


state 621

  483 tempo_range: unsigned_number .
  484            | unsigned_number . '-' unsigned_number

    '-'  shift, and go to state 709

    $default  reduce using rule 483 (tempo_range)


state 622

  179 context_modification: "\\with" @8 '{' context_mod_list . '}'
  188 context_mod_list: context_mod_list . context_mod
  189                 | context_mod_list . CONTEXT_MOD_IDENTIFIER
  190                 | context_mod_list . context_mod_arg

    "\\accepts"             shift, and go to state 589
    "\\alias"               shift, and go to state 590
    "\\consists"            shift, and go to state 591
    "\\defaultchild"        shift, and go to state 592
    "\\denies"              shift, and go to state 593
    "\\description"         shift, and go to state 594
    "\\name"                shift, and go to state 595
    "\\override"            shift, and go to state 596
    "\\remove"              shift, and go to state 597
    "\\revert"              shift, and go to state 598
    "\\type"                shift, and go to state 599
    "\\unset"               shift, and go to state 600
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 710
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 105
    SCM_TOKEN               shift, and go to state 106
    STRING                  shift, and go to state 164
    '}'                     shift, and go to state 711

    $default  reduce using rule 93 (@3)

    embedded_scm_bare   go to state 602
    embedded_scm        go to state 603
    scm_function_call   go to state 112
    context_mod_arg     go to state 712
    @3                  go to state 605
    property_operation  go to state 607
    context_def_mod     go to state 608
    context_mod         go to state 713
    symbol              go to state 610


state 623

  370 chord_body_element: DRUM_PITCH post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 370 (chord_body_element)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 624

  369 chord_body_element: pitch_or_tonic_pitch exclamations . questions octave_check post_events
  503 exclamations: exclamations . '!'

    '!'  shift, and go to state 484

    $default  reduce using rule 504 (questions)

    questions  go to state 714


state 625

  446 bass_figure: bass_figure . ']'
  447            | bass_figure . figured_bass_alteration
  448            | bass_figure . figured_bass_modification
  454 br_bass_figure: '[' bass_figure .

    '!'    shift, and go to state 626
    "\\"   shift, and go to state 627
    "\\!"  shift, and go to state 628
    "\\+"  shift, and go to state 629
    '-'    shift, and go to state 630
    '+'    shift, and go to state 631
    ']'    shift, and go to state 632
    '/'    shift, and go to state 633

    $default  reduce using rule 454 (br_bass_figure)

    figured_bass_alteration    go to state 634
    figured_bass_modification  go to state 635


state 626

  443 figured_bass_alteration: '!' .

    $default  reduce using rule 443 (figured_bass_alteration)


state 627

  452 figured_bass_modification: "\\" .

    $default  reduce using rule 452 (figured_bass_modification)


state 628

  450 figured_bass_modification: "\\!" .

    $default  reduce using rule 450 (figured_bass_modification)


state 629

  449 figured_bass_modification: "\\+" .

    $default  reduce using rule 449 (figured_bass_modification)


state 630

  441 figured_bass_alteration: '-' .

    $default  reduce using rule 441 (figured_bass_alteration)


state 631

  442 figured_bass_alteration: '+' .

    $default  reduce using rule 442 (figured_bass_alteration)


state 632

  446 bass_figure: bass_figure ']' .

    $default  reduce using rule 446 (bass_figure)


state 633

  451 figured_bass_modification: '/' .

    $default  reduce using rule 451 (figured_bass_modification)


state 634

  447 bass_figure: bass_figure figured_bass_alteration .

    $default  reduce using rule 447 (bass_figure)


state 635

  448 bass_figure: bass_figure figured_bass_modification .

    $default  reduce using rule 448 (bass_figure)


state 636

   83 partial_function: MUSIC_FUNCTION "scheme?" function_arglist_optional partial_function .

    $default  reduce using rule 83 (partial_function)


state 637

   88 partial_function: MUSIC_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  262 function_arglist_skip_nonbackup: function_arglist_nonbackup .
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    "\\etc"   reduce using rule 266 (function_arglist_partial)
    $default  reduce using rule 262 (function_arglist_skip_nonbackup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    partial_function                  go to state 715
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 638

   85 partial_function: SCM_FUNCTION "scheme?" function_arglist_optional partial_function .

    $default  reduce using rule 85 (partial_function)


state 639

   90 partial_function: SCM_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  262 function_arglist_skip_nonbackup: function_arglist_nonbackup .
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 77
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 86
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 88
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 101
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 104
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    "\\etc"   reduce using rule 266 (function_arglist_partial)
    $default  reduce using rule 262 (function_arglist_skip_nonbackup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    partial_function                  go to state 716
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 640

  474 chord_separator: "/+" steno_tonic_pitch .

    $default  reduce using rule 474 (chord_separator)


state 641

  473 chord_separator: "/" steno_tonic_pitch .

    $default  reduce using rule 473 (chord_separator)


state 642

  468 new_chord: steno_tonic_pitch optional_notemode_duration chord_separator chord_items .
  470 chord_items: chord_items . chord_item

    UNSIGNED        shift, and go to state 717
    "/+"            shift, and go to state 479
    "^"             shift, and go to state 480
    ":"             shift, and go to state 481
    "/"             shift, and go to state 482
    CHORD_MODIFIER  shift, and go to state 718

    $default  reduce using rule 468 (new_chord)

    chord_separator  go to state 719
    chord_item       go to state 720
    step_numbers     go to state 721
    step_number      go to state 722


state 643

  396 octave_check: '=' . quotes

    '''  shift, and go to state 296
    ','  shift, and go to state 297

    $default  reduce using rule 397 (quotes)

    quotes      go to state 723
    sup_quotes  go to state 299
    sub_quotes  go to state 300


state 644

  505 questions: questions '?' .

    $default  reduce using rule 505 (questions)


state 645

  459 pitch_or_music: pitch exclamations questions octave_check . maybe_notemode_duration optional_rest post_events

    DURATION_IDENTIFIER  shift, and go to state 74
    UNSIGNED             shift, and go to state 290

    $default  reduce using rule 425 (maybe_notemode_duration)

    maybe_notemode_duration  go to state 724
    steno_duration           go to state 146
    multiplied_duration      go to state 293


state 646

  170 repeated_music: "\\repeat" simple_string unsigned_number music "\\alternative" . braced_music_list

    '{'  shift, and go to state 39

    braced_music_list  go to state 725


state 647

  111 book_body: book_body @4 lilypond_header .

    $default  reduce using rule 111 (book_body)


state 648

  124 bookpart_body: bookpart_body @5 lilypond_header .

    $default  reduce using rule 124 (bookpart_body)


state 649

  199 basic_music: "\\lyricsto" symbol '=' simple_string lyric_mode_music .

    $default  reduce using rule 199 (basic_music)


state 650

  135 score_items: score_items @6 lilypond_header .

    $default  reduce using rule 135 (score_items)


state 651

  242 function_arglist_backup: "optional?" . "scheme?" function_arglist_backup embedded_scm_arg
  243                        | "optional?" . "scheme?" function_arglist_backup post_event_nofinger
  244                        | "optional?" . "scheme?" function_arglist_backup pitch
  245                        | "optional?" . "scheme?" function_arglist_backup steno_tonic_pitch
  246                        | "optional?" . "scheme?" function_arglist_backup full_markup
  247                        | "optional?" . "scheme?" function_arglist_backup UNSIGNED
  248                        | "optional?" . "scheme?" function_arglist_backup REAL
  249                        | "optional?" . "scheme?" function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" . "scheme?" function_arglist_backup '-' UNSIGNED
  251                        | "optional?" . "scheme?" function_arglist_backup '-' REAL
  252                        | "optional?" . "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" . "scheme?" function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" . "scheme?" function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" . "scheme?" function_arglist_backup STRING
  296 function_arglist_skip_backup: "optional?" . "scheme?" function_arglist_skip_backup

    "scheme?"  shift, and go to state 726


state 652

  242 function_arglist_backup: "optional?" "scheme?" function_arglist_backup . embedded_scm_arg
  243                        | "optional?" "scheme?" function_arglist_backup . post_event_nofinger
  244                        | "optional?" "scheme?" function_arglist_backup . pitch
  245                        | "optional?" "scheme?" function_arglist_backup . steno_tonic_pitch
  246                        | "optional?" "scheme?" function_arglist_backup . full_markup
  247                        | "optional?" "scheme?" function_arglist_backup . UNSIGNED
  248                        | "optional?" "scheme?" function_arglist_backup . REAL
  249                        | "optional?" "scheme?" function_arglist_backup . NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" function_arglist_backup . '-' UNSIGNED
  251                        | "optional?" "scheme?" function_arglist_backup . '-' REAL
  252                        | "optional?" "scheme?" function_arglist_backup . '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" function_arglist_backup . DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" function_arglist_backup . SCM_IDENTIFIER
  255                        | "optional?" "scheme?" function_arglist_backup . STRING
  256                        | function_arglist_backup . "(reparsed?)" pitch_or_music
  257                        | function_arglist_backup . "(reparsed?)" bare_number_common
  258                        | function_arglist_backup . "(reparsed?)" duration_length
  259                        | function_arglist_backup . "(reparsed?)" symbol_list_arg
  295 function_arglist_skip_backup: function_arglist_backup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 727
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 728
    UNSIGNED                shift, and go to state 729
    NUMBER_IDENTIFIER       shift, and go to state 730
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    "(reparsed?)"           shift, and go to state 526
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 731
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 732
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 733
    '{'                     shift, and go to state 39

    $default  reduce using rule 295 (function_arglist_skip_backup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 734
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 735
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 736
    pitch                             go to state 737
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 738
    partial_markup                    go to state 281


state 653

  293 function_arglist_optional: "optional?" "scheme?" function_arglist_skip_backup . "\\default"
  296 function_arglist_skip_backup: "optional?" "scheme?" function_arglist_skip_backup .

    "\\default"  shift, and go to state 739

    $default  reduce using rule 296 (function_arglist_skip_backup)


state 654

  259 function_arglist_backup: function_arglist_backup "(reparsed?)" symbol_list_arg .

    $default  reduce using rule 259 (function_arglist_backup)


state 655

  258 function_arglist_backup: function_arglist_backup "(reparsed?)" duration_length .

    $default  reduce using rule 258 (function_arglist_backup)


state 656

  256 function_arglist_backup: function_arglist_backup "(reparsed?)" pitch_or_music .

    $default  reduce using rule 256 (function_arglist_backup)


state 657

  257 function_arglist_backup: function_arglist_backup "(reparsed?)" bare_number_common .

    $default  reduce using rule 257 (function_arglist_backup)


state 658

  291 function_arglist_common_reparse: "scheme?" function_arglist_optional '-' REAL .

    $default  reduce using rule 291 (function_arglist_common_reparse)


state 659

  290 function_arglist_common_reparse: "scheme?" function_arglist_optional '-' UNSIGNED .

    $default  reduce using rule 290 (function_arglist_common_reparse)


state 660

  276 function_arglist_common: "scheme?" function_arglist_optional '-' NUMBER_IDENTIFIER .

    $default  reduce using rule 276 (function_arglist_common)


state 661

  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  263 function_arglist_skip_nonbackup: "optional?" "scheme?" . function_arglist_skip_nonbackup

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 539
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 540
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 740
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 662

  240 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER .

    $default  reduce using rule 240 (function_arglist_nonbackup_reparse)


state 663

  239 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup UNSIGNED .

    $default  reduce using rule 239 (function_arglist_nonbackup_reparse)


state 664

  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup SCM_IDENTIFIER .

    $default  reduce using rule 234 (function_arglist_nonbackup_reparse)


state 665

  237 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup STRING .

    $default  reduce using rule 237 (function_arglist_nonbackup_reparse)


state 666

  223 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup '-' . UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup '-' . REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup '-' . NUMBER_IDENTIFIER
  423 script_dir: '-' .

    REAL               shift, and go to state 741
    UNSIGNED           shift, and go to state 742
    NUMBER_IDENTIFIER  shift, and go to state 743

    $default  reduce using rule 423 (script_dir)


state 667

  226 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup embedded_scm_arg .

    $default  reduce using rule 226 (function_arglist_nonbackup)


state 668

  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup post_event_nofinger .

    $default  reduce using rule 222 (function_arglist_nonbackup)


state 669

  236 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup steno_tonic_pitch .

    $default  reduce using rule 236 (function_arglist_nonbackup_reparse)


state 670

  235 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup pitch .

    $default  reduce using rule 235 (function_arglist_nonbackup_reparse)


state 671

  227 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup bare_number_common .

    $default  reduce using rule 227 (function_arglist_nonbackup)


state 672

  238 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup full_markup .

    $default  reduce using rule 238 (function_arglist_nonbackup_reparse)


state 673

  261 function_arglist: "optional?" "scheme?" function_arglist_skip_nonbackup "\\default" .

    $default  reduce using rule 261 (function_arglist)


state 674

  215 symbol_list_arg: SYMBOL_LIST '.' . symbol_list_rev

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 744
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195


state 675

   56 lilypond_header: "\\header" '{' lilypond_header_body '}' .

    $default  reduce using rule 56 (lilypond_header)


state 676

   55 lilypond_header_body: lilypond_header_body embedded_scm .

    $default  reduce using rule 55 (lilypond_header_body)


state 677

   54 lilypond_header_body: lilypond_header_body assignment .

    $default  reduce using rule 54 (lilypond_header_body)


state 678

  486 number_expression: number_expression '-' number_term .

    $default  reduce using rule 486 (number_expression)


state 679

  485 number_expression: number_expression '+' number_term .

    $default  reduce using rule 485 (number_expression)


state 680

  489 number_term: number_factor '*' number_factor .

    $default  reduce using rule 489 (number_term)


state 681

  490 number_term: number_factor '/' number_factor .

    $default  reduce using rule 490 (number_term)


state 682

   60 assignment: assignment_id '.' property_path '=' identifier_init .

    $default  reduce using rule 60 (assignment)


state 683

  128 score_body: score_body . error
  539 simple_markup: "\\score" @13 '{' score_body . '}'

    error  shift, and go to state 517
    '}'    shift, and go to state 745


state 684

  128 score_body: score_body . error
  522 markup_uncomposed_list: "\\score-lines" @12 '{' score_body . '}'

    error  shift, and go to state 517
    '}'    shift, and go to state 746


state 685

  530 markup_command_basic_arguments: "scheme?" markup_command_list_arguments embedded_scm .

    $default  reduce using rule 530 (markup_command_basic_arguments)


state 686

  529 markup_command_basic_arguments: "markup-list?" markup_command_list_arguments markup_list .

    $default  reduce using rule 529 (markup_command_basic_arguments)


state 687

  541 simple_markup: markup_scm . MARKUP_IDENTIFIER

    MARKUP_IDENTIFIER  shift, and go to state 418


state 688

  536 markup_head_1_list: markup_head_1_list . markup_head_1_item
  542 markup: markup_head_1_list . simple_markup

    "\\score"        shift, and go to state 215
    MARKUP_FUNCTION  shift, and go to state 217
    SCM_IDENTIFIER   shift, and go to state 105
    SCM_TOKEN        shift, and go to state 106
    STRING           shift, and go to state 219

    embedded_scm_bare   go to state 221
    markup_scm          go to state 687
    markup_head_1_item  go to state 421
    simple_markup       go to state 690


state 689

  533 markup_command_list_arguments: "markup?" markup_command_list_arguments markup .

    $default  reduce using rule 533 (markup_command_list_arguments)


state 690

  542 markup: markup_head_1_list simple_markup .

    $default  reduce using rule 542 (markup)


state 691

  242 function_arglist_backup: "optional?" . "scheme?" function_arglist_backup embedded_scm_arg
  243                        | "optional?" . "scheme?" function_arglist_backup post_event_nofinger
  244                        | "optional?" . "scheme?" function_arglist_backup pitch
  245                        | "optional?" . "scheme?" function_arglist_backup steno_tonic_pitch
  246                        | "optional?" . "scheme?" function_arglist_backup full_markup
  247                        | "optional?" . "scheme?" function_arglist_backup UNSIGNED
  248                        | "optional?" . "scheme?" function_arglist_backup REAL
  249                        | "optional?" . "scheme?" function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" . "scheme?" function_arglist_backup '-' UNSIGNED
  251                        | "optional?" . "scheme?" function_arglist_backup '-' REAL
  252                        | "optional?" . "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" . "scheme?" function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" . "scheme?" function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" . "scheme?" function_arglist_backup STRING
  270 function_arglist_partial_optional: "optional?" . "scheme?" function_arglist_backup
  271                                  | "optional?" . "scheme?" function_arglist_partial_optional
  296 function_arglist_skip_backup: "optional?" . "scheme?" function_arglist_skip_backup

    "scheme?"  shift, and go to state 747


state 692

  242 function_arglist_backup: "optional?" "scheme?" function_arglist_backup . embedded_scm_arg
  243                        | "optional?" "scheme?" function_arglist_backup . post_event_nofinger
  244                        | "optional?" "scheme?" function_arglist_backup . pitch
  245                        | "optional?" "scheme?" function_arglist_backup . steno_tonic_pitch
  246                        | "optional?" "scheme?" function_arglist_backup . full_markup
  247                        | "optional?" "scheme?" function_arglist_backup . UNSIGNED
  248                        | "optional?" "scheme?" function_arglist_backup . REAL
  249                        | "optional?" "scheme?" function_arglist_backup . NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" function_arglist_backup . '-' UNSIGNED
  251                        | "optional?" "scheme?" function_arglist_backup . '-' REAL
  252                        | "optional?" "scheme?" function_arglist_backup . '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" function_arglist_backup . DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" function_arglist_backup . SCM_IDENTIFIER
  255                        | "optional?" "scheme?" function_arglist_backup . STRING
  256                        | function_arglist_backup . "(reparsed?)" pitch_or_music
  257                        | function_arglist_backup . "(reparsed?)" bare_number_common
  258                        | function_arglist_backup . "(reparsed?)" duration_length
  259                        | function_arglist_backup . "(reparsed?)" symbol_list_arg
  270 function_arglist_partial_optional: "optional?" "scheme?" function_arglist_backup .
  295 function_arglist_skip_backup: function_arglist_backup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 727
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 728
    UNSIGNED                shift, and go to state 729
    NUMBER_IDENTIFIER       shift, and go to state 730
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    "(reparsed?)"           shift, and go to state 526
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 731
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 732
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 733
    '{'                     shift, and go to state 39

    "\\etc"   reduce using rule 270 (function_arglist_partial_optional)
    $default  reduce using rule 295 (function_arglist_skip_backup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 734
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 735
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 736
    pitch                             go to state 737
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 738
    partial_markup                    go to state 281


state 693

  271 function_arglist_partial_optional: "optional?" "scheme?" function_arglist_partial_optional .

    $default  reduce using rule 271 (function_arglist_partial_optional)


state 694

  264 function_arglist_partial: "scheme?" function_arglist_optional .
  273 function_arglist_common: "scheme?" function_arglist_optional . embedded_scm_arg
  274                        | "scheme?" function_arglist_optional . bare_number_common
  275                        | "scheme?" function_arglist_optional . post_event_nofinger
  276                        | "scheme?" function_arglist_optional . '-' NUMBER_IDENTIFIER
  283 function_arglist_common_reparse: "scheme?" function_arglist_optional . SCM_IDENTIFIER
  284                                | "scheme?" function_arglist_optional . pitch
  285                                | "scheme?" function_arglist_optional . steno_tonic_pitch
  286                                | "scheme?" function_arglist_optional . STRING
  287                                | "scheme?" function_arglist_optional . full_markup
  288                                | "scheme?" function_arglist_optional . UNSIGNED
  289                                | "scheme?" function_arglist_optional . DURATION_IDENTIFIER
  290                                | "scheme?" function_arglist_optional . '-' UNSIGNED
  291                                | "scheme?" function_arglist_optional . '-' REAL

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 527
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 528
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 529
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 530
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 531
    '{'                     shift, and go to state 39

    $default  reduce using rule 264 (function_arglist_partial)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 532
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 533
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 534
    pitch                             go to state 535
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 536
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 537
    partial_markup                    go to state 281


state 695

  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  263 function_arglist_skip_nonbackup: "optional?" "scheme?" . function_arglist_skip_nonbackup
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 585
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 748
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_skip_nonbackup     go to state 740
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 696

   89 partial_function: EVENT_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function .

    $default  reduce using rule 89 (partial_function)


state 697

  319 property_operation: "\\override" property_path . '=' scalar

    '='  shift, and go to state 749


state 698

  320 property_operation: "\\revert" revert_arg .

    $default  reduce using rule 320 (property_operation)


state 699

  318 property_operation: "\\unset" symbol .

    $default  reduce using rule 318 (property_operation)


state 700

   94 context_mod_arg: @3 composite_music .

    $default  reduce using rule 94 (context_mod_arg)


state 701

  336 context_mod: context_def_mod STRING .

    $default  reduce using rule 336 (context_mod)


state 702

  337 context_mod: context_def_mod embedded_scm .

    $default  reduce using rule 337 (context_mod)


state 703

  317 property_operation: symbol '=' . scalar

    "\\repeat"              shift, and go to state 7
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 750
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 704

   84 partial_function: EVENT_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 751
    function_arglist_skip_backup       go to state 377


state 705

   89 partial_function: EVENT_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 752


state 706

  324 revert_arg_part: revert_arg_backup "(backed-up?)" SCM_ARG . '.' symbol_list_part
  325                | revert_arg_backup "(backed-up?)" SCM_ARG . symbol_list_part

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189
    '.'             shift, and go to state 753

    embedded_scm_bare    go to state 192
    symbol_list_part     go to state 754
    symbol_list_element  go to state 195


state 707

  321 revert_arg: revert_arg_backup "(backed-up?)" symbol_list_arg .

    $default  reduce using rule 321 (revert_arg)


state 708

  152 tempo_event: "\\tempo" scalar steno_duration '=' tempo_range .

    $default  reduce using rule 152 (tempo_event)


state 709

  484 tempo_range: unsigned_number '-' . unsigned_number

    UNSIGNED           shift, and go to state 349
    NUMBER_IDENTIFIER  shift, and go to state 350
    SCM_FUNCTION       shift, and go to state 35
    SCM_IDENTIFIER     shift, and go to state 105
    SCM_TOKEN          shift, and go to state 106

    embedded_scm_bare  go to state 110
    embedded_scm       go to state 351
    scm_function_call  go to state 112
    unsigned_number    go to state 755


state 710

  189 context_mod_list: context_mod_list CONTEXT_MOD_IDENTIFIER .

    $default  reduce using rule 189 (context_mod_list)


state 711

  179 context_modification: "\\with" @8 '{' context_mod_list '}' .

    $default  reduce using rule 179 (context_modification)


state 712

  190 context_mod_list: context_mod_list context_mod_arg .

    $default  reduce using rule 190 (context_mod_list)


state 713

  188 context_mod_list: context_mod_list context_mod .

    $default  reduce using rule 188 (context_mod_list)


state 714

  369 chord_body_element: pitch_or_tonic_pitch exclamations questions . octave_check post_events
  505 questions: questions . '?'

    '='  shift, and go to state 643
    '?'  shift, and go to state 644

    $default  reduce using rule 395 (octave_check)

    octave_check  go to state 756


state 715

   88 partial_function: MUSIC_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function .

    $default  reduce using rule 88 (partial_function)


state 716

   90 partial_function: SCM_FUNCTION "optional?" "scheme?" function_arglist_nonbackup partial_function .

    $default  reduce using rule 90 (partial_function)


state 717

  480 step_number: UNSIGNED .
  481            | UNSIGNED . '+'
  482            | UNSIGNED . "-"

    "-"  shift, and go to state 757
    '+'  shift, and go to state 758

    $default  reduce using rule 480 (step_number)


state 718

  477 chord_item: CHORD_MODIFIER .

    $default  reduce using rule 477 (chord_item)


state 719

  475 chord_item: chord_separator .

    $default  reduce using rule 475 (chord_item)


state 720

  470 chord_items: chord_items chord_item .

    $default  reduce using rule 470 (chord_items)


state 721

  476 chord_item: step_numbers .
  479 step_numbers: step_numbers . '.' step_number

    '.'  shift, and go to state 759

    $default  reduce using rule 476 (chord_item)


state 722

  478 step_numbers: step_number .

    $default  reduce using rule 478 (step_numbers)


state 723

  396 octave_check: '=' quotes .

    $default  reduce using rule 396 (octave_check)


state 724

  459 pitch_or_music: pitch exclamations questions octave_check maybe_notemode_duration . optional_rest post_events

    "\\rest"  shift, and go to state 760

    $default  reduce using rule 457 (optional_rest)

    optional_rest  go to state 761


state 725

  170 repeated_music: "\\repeat" simple_string unsigned_number music "\\alternative" braced_music_list .

    $default  reduce using rule 170 (repeated_music)


state 726

  242 function_arglist_backup: "optional?" "scheme?" . function_arglist_backup embedded_scm_arg
  243                        | "optional?" "scheme?" . function_arglist_backup post_event_nofinger
  244                        | "optional?" "scheme?" . function_arglist_backup pitch
  245                        | "optional?" "scheme?" . function_arglist_backup steno_tonic_pitch
  246                        | "optional?" "scheme?" . function_arglist_backup full_markup
  247                        | "optional?" "scheme?" . function_arglist_backup UNSIGNED
  248                        | "optional?" "scheme?" . function_arglist_backup REAL
  249                        | "optional?" "scheme?" . function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" . function_arglist_backup '-' UNSIGNED
  251                        | "optional?" "scheme?" . function_arglist_backup '-' REAL
  252                        | "optional?" "scheme?" . function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" . function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" . function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" "scheme?" . function_arglist_backup STRING
  296 function_arglist_skip_backup: "optional?" "scheme?" . function_arglist_skip_backup

    "scheme?"            shift, and go to state 177
    "optional?"          shift, and go to state 651
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup          go to state 652
    function_arglist_common          go to state 375
    function_arglist_common_reparse  go to state 184
    function_arglist_skip_backup     go to state 762


state 727

  253 function_arglist_backup: "optional?" "scheme?" function_arglist_backup DURATION_IDENTIFIER .

    $default  reduce using rule 253 (function_arglist_backup)


state 728

  248 function_arglist_backup: "optional?" "scheme?" function_arglist_backup REAL .

    $default  reduce using rule 248 (function_arglist_backup)


state 729

  247 function_arglist_backup: "optional?" "scheme?" function_arglist_backup UNSIGNED .

    $default  reduce using rule 247 (function_arglist_backup)


state 730

  249 function_arglist_backup: "optional?" "scheme?" function_arglist_backup NUMBER_IDENTIFIER .

    $default  reduce using rule 249 (function_arglist_backup)


state 731

  254 function_arglist_backup: "optional?" "scheme?" function_arglist_backup SCM_IDENTIFIER .

    $default  reduce using rule 254 (function_arglist_backup)


state 732

  255 function_arglist_backup: "optional?" "scheme?" function_arglist_backup STRING .

    $default  reduce using rule 255 (function_arglist_backup)


state 733

  250 function_arglist_backup: "optional?" "scheme?" function_arglist_backup '-' . UNSIGNED
  251                        | "optional?" "scheme?" function_arglist_backup '-' . REAL
  252                        | "optional?" "scheme?" function_arglist_backup '-' . NUMBER_IDENTIFIER
  423 script_dir: '-' .

    REAL               shift, and go to state 763
    UNSIGNED           shift, and go to state 764
    NUMBER_IDENTIFIER  shift, and go to state 765

    $default  reduce using rule 423 (script_dir)


state 734

  242 function_arglist_backup: "optional?" "scheme?" function_arglist_backup embedded_scm_arg .

    $default  reduce using rule 242 (function_arglist_backup)


state 735

  243 function_arglist_backup: "optional?" "scheme?" function_arglist_backup post_event_nofinger .

    $default  reduce using rule 243 (function_arglist_backup)


state 736

  245 function_arglist_backup: "optional?" "scheme?" function_arglist_backup steno_tonic_pitch .

    $default  reduce using rule 245 (function_arglist_backup)


state 737

  244 function_arglist_backup: "optional?" "scheme?" function_arglist_backup pitch .

    $default  reduce using rule 244 (function_arglist_backup)


state 738

  246 function_arglist_backup: "optional?" "scheme?" function_arglist_backup full_markup .

    $default  reduce using rule 246 (function_arglist_backup)


state 739

  293 function_arglist_optional: "optional?" "scheme?" function_arglist_skip_backup "\\default" .

    $default  reduce using rule 293 (function_arglist_optional)


state 740

  263 function_arglist_skip_nonbackup: "optional?" "scheme?" function_arglist_skip_nonbackup .

    $default  reduce using rule 263 (function_arglist_skip_nonbackup)


state 741

  224 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup '-' REAL .

    $default  reduce using rule 224 (function_arglist_nonbackup)


state 742

  223 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup '-' UNSIGNED .

    $default  reduce using rule 223 (function_arglist_nonbackup)


state 743

  225 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER .

    $default  reduce using rule 225 (function_arglist_nonbackup)


state 744

  215 symbol_list_arg: SYMBOL_LIST '.' symbol_list_rev .
  217 symbol_list_rev: symbol_list_rev . '.' symbol_list_part

    '.'  shift, and go to state 396

    $default  reduce using rule 215 (symbol_list_arg)


state 745

  539 simple_markup: "\\score" @13 '{' score_body '}' .

    $default  reduce using rule 539 (simple_markup)


state 746

  522 markup_uncomposed_list: "\\score-lines" @12 '{' score_body '}' .

    $default  reduce using rule 522 (markup_uncomposed_list)


state 747

  242 function_arglist_backup: "optional?" "scheme?" . function_arglist_backup embedded_scm_arg
  243                        | "optional?" "scheme?" . function_arglist_backup post_event_nofinger
  244                        | "optional?" "scheme?" . function_arglist_backup pitch
  245                        | "optional?" "scheme?" . function_arglist_backup steno_tonic_pitch
  246                        | "optional?" "scheme?" . function_arglist_backup full_markup
  247                        | "optional?" "scheme?" . function_arglist_backup UNSIGNED
  248                        | "optional?" "scheme?" . function_arglist_backup REAL
  249                        | "optional?" "scheme?" . function_arglist_backup NUMBER_IDENTIFIER
  250                        | "optional?" "scheme?" . function_arglist_backup '-' UNSIGNED
  251                        | "optional?" "scheme?" . function_arglist_backup '-' REAL
  252                        | "optional?" "scheme?" . function_arglist_backup '-' NUMBER_IDENTIFIER
  253                        | "optional?" "scheme?" . function_arglist_backup DURATION_IDENTIFIER
  254                        | "optional?" "scheme?" . function_arglist_backup SCM_IDENTIFIER
  255                        | "optional?" "scheme?" . function_arglist_backup STRING
  270 function_arglist_partial_optional: "optional?" "scheme?" . function_arglist_backup
  271                                  | "optional?" "scheme?" . function_arglist_partial_optional
  296 function_arglist_skip_backup: "optional?" "scheme?" . function_arglist_skip_backup

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 691
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 692
    function_arglist_partial_optional  go to state 693
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_skip_backup       go to state 762


state 748

  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  262 function_arglist_skip_nonbackup: function_arglist_nonbackup .
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    "\\etc"   reduce using rule 266 (function_arglist_partial)
    $default  reduce using rule 262 (function_arglist_skip_nonbackup)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 749

  319 property_operation: "\\override" property_path '=' . scalar

    "\\repeat"              shift, and go to state 7
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 383
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 259
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 261
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 262
    '{'                     shift, and go to state 39

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 264
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    string                            go to state 273
    scalar                            go to state 766
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 143
    pitch                             go to state 144
    pitch_or_music                    go to state 276
    simple_element                    go to state 150
    new_chord                         go to state 153
    bare_number_common                go to state 277
    bare_number                       go to state 278
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 280
    partial_markup                    go to state 281


state 750

  317 property_operation: symbol '=' scalar .

    $default  reduce using rule 317 (property_operation)


state 751

   84 partial_function: EVENT_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 264 (function_arglist_partial)

    partial_function  go to state 583


state 752

   89 partial_function: EVENT_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 771
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 772
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 753

  324 revert_arg_part: revert_arg_backup "(backed-up?)" SCM_ARG '.' . symbol_list_part

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_part     go to state 773
    symbol_list_element  go to state 195


state 754

  325 revert_arg_part: revert_arg_backup "(backed-up?)" SCM_ARG symbol_list_part .

    $default  reduce using rule 325 (revert_arg_part)


state 755

  484 tempo_range: unsigned_number '-' unsigned_number .

    $default  reduce using rule 484 (tempo_range)


state 756

  369 chord_body_element: pitch_or_tonic_pitch exclamations questions octave_check . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 774


state 757

  482 step_number: UNSIGNED "-" .

    $default  reduce using rule 482 (step_number)


state 758

  481 step_number: UNSIGNED '+' .

    $default  reduce using rule 481 (step_number)


state 759

  479 step_numbers: step_numbers '.' . step_number

    UNSIGNED  shift, and go to state 717

    step_number  go to state 775


state 760

  458 optional_rest: "\\rest" .

    $default  reduce using rule 458 (optional_rest)


state 761

  459 pitch_or_music: pitch exclamations questions octave_check maybe_notemode_duration optional_rest . post_events

    $default  reduce using rule 376 (post_events)

    post_events  go to state 776


state 762

  296 function_arglist_skip_backup: "optional?" "scheme?" function_arglist_skip_backup .

    $default  reduce using rule 296 (function_arglist_skip_backup)


state 763

  251 function_arglist_backup: "optional?" "scheme?" function_arglist_backup '-' REAL .

    $default  reduce using rule 251 (function_arglist_backup)


state 764

  250 function_arglist_backup: "optional?" "scheme?" function_arglist_backup '-' UNSIGNED .

    $default  reduce using rule 250 (function_arglist_backup)


state 765

  252 function_arglist_backup: "optional?" "scheme?" function_arglist_backup '-' NUMBER_IDENTIFIER .

    $default  reduce using rule 252 (function_arglist_backup)


state 766

  319 property_operation: "\\override" property_path '=' scalar .

    $default  reduce using rule 319 (property_operation)


state 767

   81 partial_function: "\\override" . grob_prop_path '='
   86                 | "\\override" . grob_prop_path '=' partial_function

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 247
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    grob_prop_spec       go to state 248
    grob_prop_path       go to state 777


state 768

   82 partial_function: "\\set" . context_prop_spec '='
   87                 | "\\set" . context_prop_spec '=' partial_function

    SCM_IDENTIFIER  shift, and go to state 105
    SCM_TOKEN       shift, and go to state 106
    STRING          shift, and go to state 189

    embedded_scm_bare    go to state 192
    symbol_list_rev      go to state 252
    symbol_list_part     go to state 194
    symbol_list_element  go to state 195
    context_prop_spec    go to state 778


state 769

   78 partial_function: MUSIC_FUNCTION . function_arglist_partial
   83                 | MUSIC_FUNCTION . "scheme?" function_arglist_optional partial_function
   88                 | MUSIC_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function

    "scheme?"    shift, and go to state 779
    "optional?"  shift, and go to state 780

    function_arglist_partial  go to state 303


state 770

   80 partial_function: SCM_FUNCTION . function_arglist_partial
   85                 | SCM_FUNCTION . "scheme?" function_arglist_optional partial_function
   90                 | SCM_FUNCTION . "optional?" "scheme?" function_arglist_nonbackup partial_function

    "scheme?"    shift, and go to state 781
    "optional?"  shift, and go to state 782

    function_arglist_partial  go to state 308


state 771

  222 function_arglist_nonbackup: "optional?" . "scheme?" function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" . "scheme?" function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" . "scheme?" function_arglist_nonbackup '-' REAL
  225                           | "optional?" . "scheme?" function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" . "scheme?" function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" . "scheme?" function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" . "scheme?" function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" . "scheme?" function_arglist_nonbackup pitch
  236                                   | "optional?" . "scheme?" function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" . "scheme?" function_arglist_nonbackup STRING
  238                                   | "optional?" . "scheme?" function_arglist_nonbackup full_markup
  239                                   | "optional?" . "scheme?" function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" . "scheme?" function_arglist_nonbackup DURATION_IDENTIFIER
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 783


state 772

   89 partial_function: EVENT_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 266 (function_arglist_partial)

    partial_function  go to state 696


state 773

  324 revert_arg_part: revert_arg_backup "(backed-up?)" SCM_ARG '.' symbol_list_part .

    $default  reduce using rule 324 (revert_arg_part)


state 774

  369 chord_body_element: pitch_or_tonic_pitch exclamations questions octave_check post_events .
  377 post_events: post_events . post_event

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 369 (chord_body_element)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 775

  479 step_numbers: step_numbers '.' step_number .

    $default  reduce using rule 479 (step_numbers)


state 776

  377 post_events: post_events . post_event
  459 pitch_or_music: pitch exclamations questions octave_check maybe_notemode_duration optional_rest post_events .

    ':'               shift, and go to state 71
    '^'               shift, and go to state 72
    '_'               shift, and go to state 73
    "__"              shift, and go to state 75
    "--"              shift, and go to state 76
    EVENT_FUNCTION    shift, and go to state 330
    EVENT_IDENTIFIER  shift, and go to state 78
    E_UNSIGNED        shift, and go to state 79
    '-'               shift, and go to state 477

    $default  reduce using rule 459 (pitch_or_music)

    event_function_event  go to state 137
    post_event_nofinger   go to state 138
    post_event            go to state 478
    string_number_event   go to state 140
    direction_less_event  go to state 141
    script_dir            go to state 145
    tremolo_type          go to state 148


state 777

   81 partial_function: "\\override" grob_prop_path . '='
   86                 | "\\override" grob_prop_path . '=' partial_function

    '='  shift, and go to state 784


state 778

   82 partial_function: "\\set" context_prop_spec . '='
   87                 | "\\set" context_prop_spec . '=' partial_function

    '='  shift, and go to state 785


state 779

   83 partial_function: MUSIC_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 786
    function_arglist_skip_backup       go to state 377


state 780

   88 partial_function: MUSIC_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 787


state 781

   85 partial_function: SCM_FUNCTION "scheme?" . function_arglist_optional partial_function
  264 function_arglist_partial: "scheme?" . function_arglist_optional
  265                         | "scheme?" . function_arglist_partial_optional

    "scheme?"            shift, and go to state 424
    "optional?"          shift, and go to state 425
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_backup            go to state 374
    function_arglist_partial_optional  go to state 426
    function_arglist_common            go to state 375
    function_arglist_common_reparse    go to state 184
    function_arglist_optional          go to state 788
    function_arglist_skip_backup       go to state 377


state 782

   90 partial_function: SCM_FUNCTION "optional?" . "scheme?" function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" . "scheme?" function_arglist_nonbackup
  267                         | "optional?" . "scheme?" function_arglist_partial

    "scheme?"  shift, and go to state 789


state 783

  222 function_arglist_nonbackup: "optional?" "scheme?" . function_arglist_nonbackup post_event_nofinger
  223                           | "optional?" "scheme?" . function_arglist_nonbackup '-' UNSIGNED
  224                           | "optional?" "scheme?" . function_arglist_nonbackup '-' REAL
  225                           | "optional?" "scheme?" . function_arglist_nonbackup '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" . function_arglist_nonbackup embedded_scm_arg
  227                           | "optional?" "scheme?" . function_arglist_nonbackup bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" . function_arglist_nonbackup SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" . function_arglist_nonbackup pitch
  236                                   | "optional?" "scheme?" . function_arglist_nonbackup steno_tonic_pitch
  237                                   | "optional?" "scheme?" . function_arglist_nonbackup STRING
  238                                   | "optional?" "scheme?" . function_arglist_nonbackup full_markup
  239                                   | "optional?" "scheme?" . function_arglist_nonbackup UNSIGNED
  240                                   | "optional?" "scheme?" . function_arglist_nonbackup DURATION_IDENTIFIER
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 771
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 790
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 784

   81 partial_function: "\\override" grob_prop_path '=' .
   86                 | "\\override" grob_prop_path '=' . partial_function

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 81 (partial_function)

    partial_function  go to state 612


state 785

   82 partial_function: "\\set" context_prop_spec '=' .
   87                 | "\\set" context_prop_spec '=' . partial_function

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 82 (partial_function)

    partial_function  go to state 615


state 786

   83 partial_function: MUSIC_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 264 (function_arglist_partial)

    partial_function  go to state 636


state 787

   88 partial_function: MUSIC_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 771
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 791
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 788

   85 partial_function: SCM_FUNCTION "scheme?" function_arglist_optional . partial_function
  264 function_arglist_partial: "scheme?" function_arglist_optional .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 264 (function_arglist_partial)

    partial_function  go to state 638


state 789

   90 partial_function: SCM_FUNCTION "optional?" "scheme?" . function_arglist_nonbackup partial_function
  266 function_arglist_partial: "optional?" "scheme?" . function_arglist_nonbackup
  267                         | "optional?" "scheme?" . function_arglist_partial

    "scheme?"            shift, and go to state 584
    "optional?"          shift, and go to state 771
    EXPECT_NO_MORE_ARGS  shift, and go to state 179

    function_arglist_nonbackup          go to state 792
    function_arglist_nonbackup_reparse  go to state 181
    function_arglist_partial            go to state 587
    function_arglist_common             go to state 183
    function_arglist_common_reparse     go to state 184


state 790

  222 function_arglist_nonbackup: "optional?" "scheme?" function_arglist_nonbackup . post_event_nofinger
  223                           | "optional?" "scheme?" function_arglist_nonbackup . '-' UNSIGNED
  224                           | "optional?" "scheme?" function_arglist_nonbackup . '-' REAL
  225                           | "optional?" "scheme?" function_arglist_nonbackup . '-' NUMBER_IDENTIFIER
  226                           | "optional?" "scheme?" function_arglist_nonbackup . embedded_scm_arg
  227                           | "optional?" "scheme?" function_arglist_nonbackup . bare_number_common
  234 function_arglist_nonbackup_reparse: "optional?" "scheme?" function_arglist_nonbackup . SCM_IDENTIFIER
  235                                   | "optional?" "scheme?" function_arglist_nonbackup . pitch
  236                                   | "optional?" "scheme?" function_arglist_nonbackup . steno_tonic_pitch
  237                                   | "optional?" "scheme?" function_arglist_nonbackup . STRING
  238                                   | "optional?" "scheme?" function_arglist_nonbackup . full_markup
  239                                   | "optional?" "scheme?" function_arglist_nonbackup . UNSIGNED
  240                                   | "optional?" "scheme?" function_arglist_nonbackup . DURATION_IDENTIFIER
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    "\\repeat"              shift, and go to state 7
    ':'                     shift, and go to state 71
    '^'                     shift, and go to state 72
    '_'                     shift, and go to state 73
    DURATION_IDENTIFIER     shift, and go to state 662
    "__"                    shift, and go to state 75
    "--"                    shift, and go to state 76
    EVENT_FUNCTION          shift, and go to state 330
    EVENT_IDENTIFIER        shift, and go to state 78
    E_UNSIGNED              shift, and go to state 79
    REAL                    shift, and go to state 80
    UNSIGNED                shift, and go to state 663
    NUMBER_IDENTIFIER       shift, and go to state 82
    "\\book"                shift, and go to state 8
    "\\bookpart"            shift, and go to state 9
    "\\change"              shift, and go to state 83
    "\\chordmode"           shift, and go to state 10
    "\\chords"              shift, and go to state 11
    "\\context"             shift, and go to state 84
    "\\drummode"            shift, and go to state 13
    "\\drums"               shift, and go to state 14
    "\\figuremode"          shift, and go to state 15
    "\\figures"             shift, and go to state 16
    "\\layout"              shift, and go to state 18
    "\\lyricmode"           shift, and go to state 19
    "\\lyrics"              shift, and go to state 20
    "\\lyricsto"            shift, and go to state 21
    "\\markup"              shift, and go to state 22
    "\\markuplist"          shift, and go to state 23
    "\\midi"                shift, and go to state 24
    "\\notemode"            shift, and go to state 25
    "\\override"            shift, and go to state 255
    "\\paper"               shift, and go to state 26
    "\\revert"              shift, and go to state 87
    "\\score"               shift, and go to state 27
    "\\sequential"          shift, and go to state 28
    "\\set"                 shift, and go to state 256
    "\\simultaneous"        shift, and go to state 29
    "\\tempo"               shift, and go to state 89
    "\\unset"               shift, and go to state 90
    "\\with"                shift, and go to state 91
    "\\new"                 shift, and go to state 30
    "<"                     shift, and go to state 92
    "<<"                    shift, and go to state 31
    FIGURE_OPEN             shift, and go to state 93
    MULTI_MEASURE_REST      shift, and go to state 94
    CHORD_REPETITION        shift, and go to state 95
    CONTEXT_MOD_IDENTIFIER  shift, and go to state 96
    DRUM_PITCH              shift, and go to state 97
    PITCH_IDENTIFIER        shift, and go to state 98
    FRACTION                shift, and go to state 257
    MUSIC_FUNCTION          shift, and go to state 33
    MUSIC_IDENTIFIER        shift, and go to state 34
    NOTENAME_PITCH          shift, and go to state 102
    RESTNAME                shift, and go to state 103
    SCM_ARG                 shift, and go to state 258
    SCM_FUNCTION            shift, and go to state 35
    SCM_IDENTIFIER          shift, and go to state 664
    SCM_TOKEN               shift, and go to state 260
    STRING                  shift, and go to state 665
    TONICNAME_PITCH         shift, and go to state 108
    '-'                     shift, and go to state 666
    '{'                     shift, and go to state 39

    $default  reduce using rule 266 (function_arglist_partial)

    embedded_scm_bare_arg             go to state 263
    embedded_scm_arg                  go to state 667
    scm_function_call                 go to state 265
    context_def_spec_block            go to state 266
    book_block                        go to state 267
    bookpart_block                    go to state 268
    score_block                       go to state 269
    output_def                        go to state 270
    output_def_head                   go to state 50
    output_def_head_with_mode_switch  go to state 51
    output_def_body                   go to state 52
    tempo_event                       go to state 122
    braced_music_list                 go to state 53
    music_assign                      go to state 271
    repeated_music                    go to state 54
    sequential_music                  go to state 55
    simultaneous_music                go to state 56
    simple_music                      go to state 128
    context_modification              go to state 272
    context_prefix                    go to state 57
    basic_music                       go to state 58
    contexted_basic_music             go to state 59
    composite_music                   go to state 130
    music_bare                        go to state 61
    grouped_music_list                go to state 62
    music_function_call               go to state 63
    mode_changed_music                go to state 64
    mode_changing_head                go to state 65
    mode_changing_head_with_context   go to state 66
    context_change                    go to state 131
    music_property_def                go to state 132
    event_chord                       go to state 134
    note_chord_element                go to state 135
    chord_body                        go to state 136
    event_function_event              go to state 137
    post_event_nofinger               go to state 668
    string_number_event               go to state 140
    direction_less_event              go to state 141
    steno_pitch                       go to state 142
    steno_tonic_pitch                 go to state 669
    pitch                             go to state 670
    script_dir                        go to state 145
    tremolo_type                      go to state 148
    simple_element                    go to state 150
    bare_number_common                go to state 671
    full_markup_list                  go to state 279
    markup_mode                       go to state 156
    full_markup                       go to state 672
    partial_markup                    go to state 281


state 791

   88 partial_function: MUSIC_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 266 (function_arglist_partial)

    partial_function  go to state 715


state 792

   90 partial_function: SCM_FUNCTION "optional?" "scheme?" function_arglist_nonbackup . partial_function
  266 function_arglist_partial: "optional?" "scheme?" function_arglist_nonbackup .

    EVENT_FUNCTION  shift, and go to state 611
    "\\override"    shift, and go to state 767
    "\\set"         shift, and go to state 768
    MUSIC_FUNCTION  shift, and go to state 769
    SCM_FUNCTION    shift, and go to state 770

    $default  reduce using rule 266 (function_arglist_partial)

    partial_function  go to state 716
