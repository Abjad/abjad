<title> Leaf multipliers </title>

<h1> Leaf multipliers </h1>

<subsection>

<p> LilyPond provides an asterisk <code>*</code> operator to scale the durations of notes, rests, chords and skips by arbitrarily positive rational values.
LilyPond multipliers are inivisible and generate no typographic output of their own.

</subsection>

<subsection>

<p> Abjad implements LilyPond multpliers as the settable <code>duration.multiplier</code> attribute of notes, rests, chords and skips.

<abjad>
  abjad> note = Note(0, (1, 4))
  abjad> note.duration.multiplier = (1, 2)
  abjad> note.duration.multiplier
  Rational(1, 2)
</abjad>

<abjad>
  abjad> print(note.format)
  c'4 * 1/2
</abjad>

</subsection>

<subsection>

<p> The duration interfaces of notes, rests, chords and skips with LilyPond multipliers test for equality differently than those without.

<abjad>
  abjad> note = Note(0, (1, 4))
  abjad> note.duration == (1, 4)
  True
</abjad>

<abjad>
  abjad> note = Note(0, (1, 4))
  abjad> note.duration.multiplier = (1, 2)
  abjad> note.duration == (1, 8)
  True
</abjad>

</subsection>

<subsection>

<p> LilyPond multipliers give the half notes here multiplied durations equal to a quarter note.

<abjad>
  abjad> notes = Note(0, (1, 4)) * 4
  abjad> multiplied_note = Note(0, (1, 2))
  abjad> multiplied_note.duration.multiplier = (1, 2)
  abjad> multiplied_notes = multiplied_note * 4
  abjad> top = RhythmicStaff(notes)
  abjad> bottom = RhythmicStaff(multiplied_notes)
  abjad> staves = Staff([top, bottom])
  abjad> staves.invocation.type = 'StaffGroup'
  abjad> staves.brackets = 'double-angle'
  abjad> show(staves)
</abjad>

</subsection>

<comments>

<p> Abjad models <i>multiplication</i> fundamentally differently than <i>prolation</i>. See the <a href="../prolation/text.html">chapter on prolation</a> for more information.

<p> The LilyPond multiplication <code>*</code> operator differs from the Abjad multiplication <code>*</code> operator.
LilyPond multiplication <i>scales duration</i> of LilyPond notes, rests, chords and skips.
Abjad multiplication <i>copies</i> Abjad containers and leaves.

</comments>

<to-do>

<p> Implement a named <code>duration.multiplied</code> attribute on notes, rests, chords and skips to return <code>duration.written * duration.multiplier</code> where <code>duration.multiplier</code> is not <code>None</code>.

</to-do>
