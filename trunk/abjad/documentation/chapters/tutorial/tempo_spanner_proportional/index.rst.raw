Propotional tempo spanners
==========================


Abjad implements a special proportional tempo spanner.

<abjad>
staff = RhythmicStaff(construct.run(8, Rational(1, 4)))
score = Score([staff])
tempo_indication_1 = tempotools.TempoIndication(Rational(1, 4), 60)
proportional_tempo_spanner_1 = TempoSpannerProportional(staff[:4], tempo_indication_1)
tempo_indication_2 = tempotools.TempoIndication(Rational(1, 4), 120)
proportional_tempo_spanner_2 = TempoSpannerProportional(staff[4:], tempo_indication_2)
</abjad>

Proportional tempo spanners insert new spacing sections into LilyPond
input code.

<abjad>
f(score)
</abjad>

But new spacing sections have no visual effect by themselves.

<abjad>
show(score)
write_ly(score, '1', 'oedo') <hide
</abjad>

The first and second measures above space the same way
even though different proportional tempo spanners attach
to the notes in each measure.

Turn on scorewide spacing to see a difference.

<abjad>
tempo_indication = tempotools.TempoIndication(Rational(1, 4), 60)
reference_proportional_notation_duration = Rational(1, 32)
scorewide_spacing = spacing.SpacingIndication(tempo_indication, reference_proportional_notation_duration)
score.spacing.scorewide = scorewide_spacing
f(score)
</abjad>

Abjad now inserts LilyPond proportional notation settings
at the beginning of each new tempo region.

<abjad>
show(score)
write_ly(score, '2', 'oedo') <hide
</abjad>

The first measure above consumes exactly twice the horizontal space
as the second measure because different proportional tempo
spanners attach to the notes in each measure and because scorewide
spacing is turned on.
